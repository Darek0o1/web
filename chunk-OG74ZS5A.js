import{a as ye,b as we,f as or,g as _}from"./chunk-RA2WU32H.js";function ef(t,e){return Object.is(t,e)}var Be=null,bc=!1,tf=1,Rt=Symbol("SIGNAL");function ne(t){let e=Be;return Be=t,e}function nf(){return Be}var Is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ws(t){if(bc)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(Nc(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&Es(Be)){let n=Be.producerNode[e];Sc(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=Es(Be)?_I(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function vI(){tf++}function rf(t){if(!(Es(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tf)){if(!t.producerMustRecompute(t)&&!cf(t)){Xh(t);return}t.producerRecomputeValue(t),Xh(t)}}function of(t){if(t.liveConsumerNode===void 0)return;let e=bc;bc=!0;try{for(let n of t.liveConsumerNode)n.dirty||FM(n)}finally{bc=e}}function sf(){return Be?.consumerAllowSignalWrites!==!1}function FM(t){t.dirty=!0,of(t),t.consumerMarkedDirty?.(t)}function Xh(t){t.dirty=!1,t.lastCleanEpoch=tf}function Ac(t){return t&&(t.nextProducerIndex=0),ne(t)}function af(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Es(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cf(t){Nc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rf(n),r!==n.version))return!0}return!1}function uf(t){if(Nc(t),Es(t))for(let e=0;e<t.producerNode.length;e++)Sc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _I(t,e,n){if(EI(t),t.liveConsumerNode.length===0&&II(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_I(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Sc(t,e){if(EI(t),t.liveConsumerNode.length===1&&II(t))for(let r=0;r<t.producerNode.length;r++)Sc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Nc(i),i.producerIndexOfThis[r]=e}}function Es(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Nc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function EI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function II(t){return t.producerNode!==void 0}function lf(t,e){let n=Object.create(VM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(rf(n),ws(n),n.value===Cc)throw n.error;return n.value};return r[Rt]=n,r}var Zh=Symbol("UNSET"),Jh=Symbol("COMPUTING"),Cc=Symbol("ERRORED"),VM=we(ye({},Is),{value:Zh,dirty:!0,error:null,equal:ef,kind:"computed",producerMustRecompute(t){return t.value===Zh||t.value===Jh},producerRecomputeValue(t){if(t.value===Jh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Jh;let n=Ac(t),r,i=!1;try{r=t.computation(),ne(null),i=e!==Zh&&e!==Cc&&r!==Cc&&t.equal(e,r)}catch(o){r=Cc,t.error=o}finally{af(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function LM(){throw new Error}var wI=LM;function DI(t){wI(t)}function df(t){wI=t}var jM=null;function hf(t,e){let n=Object.create(Rc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(ws(n),n.value);return r[Rt]=n,r}function Ds(t,e){sf()||DI(t),t.equal(t.value,e)||(t.value=e,BM(t))}function ff(t,e){sf()||DI(t),Ds(t,e(t.value))}var Rc=we(ye({},Is),{equal:ef,value:void 0,kind:"signal"});function BM(t){t.version++,vI(),of(t),jM?.()}function pf(t){let e=ne(null);try{return t()}finally{ne(e)}}var gf;function Ts(){return gf}function An(t){let e=gf;return gf=t,e}var Mc=Symbol("NotFound");function Q(t){return typeof t=="function"}function Fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pc=Fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof Pc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{TI(o)}catch(s){e=e??[],s instanceof Pc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)TI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Or(n,e)}remove(e){let{_finalizers:n}=this;n&&Or(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var mf=ke.EMPTY;function xc(t){return t instanceof ke||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function TI(t){Q(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(t,e,...n){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kc(t){Vi.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function bs(){}var bI=yf("C",void 0,void 0);function CI(t){return yf("E",void 0,t)}function AI(t){return yf("N",t,void 0)}function yf(t,e,n){return{kind:t,value:e,error:n}}var Fr=null;function Li(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Fr;if(e&&(Fr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fr;if(Fr=null,n)throw r}}else t()}function SI(t){Ut.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=t)}var Vr=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xc(e)&&e.add(this)):this.destination=GM}static create(e,n,r){return new ji(e,n,r)}next(e){this.isStopped?_f(AI(e),this):this._next(e)}error(e){this.isStopped?_f(CI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_f(bI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qM=Function.prototype.bind;function vf(t,e){return qM.call(t,e)}var Ef=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Oc(n)}}},ji=class extends Vr{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ut.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vf(e.next,o),error:e.error&&vf(e.error,o),complete:e.complete&&vf(e.complete,o)}):i=e}this.destination=new Ef(i)}};function Oc(t){Ut.useDeprecatedSynchronousErrorHandling?SI(t):kc(t)}function zM(t){throw t}function _f(t,e){let{onStoppedNotification:n}=Ut;n&&Vi.setTimeout(()=>n(t,e))}var GM={closed:!0,next:bs,error:zM,complete:bs};var Bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(t){return t}function NI(...t){return If(t)}function If(t){return t.length===0?It:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=KM(n)?n:new ji(n,r,i);return Li(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=RI(r),new r((i,o)=>{let s=new ji({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bi](){return this}pipe(...n){return If(n)(this)}toPromise(n){return n=RI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function RI(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function WM(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function KM(t){return t&&t instanceof Vr||WM(t)&&xc(t)}function wf(t){return Q(t?.lift)}function se(t){return e=>{if(wf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,e,n,r,i){return new Df(t,e,n,r,i)}var Df=class extends Vr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Tf(){return se((t,e)=>{let n=null;t._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bf=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Tf()(this)}};var MI=Fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new MI}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?mf:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,Or(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new Fc(e,n),t})(),Fc=class extends Mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mf}};var Cs=class extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cf={now(){return(Cf.delegate||Date).now()},delegate:void 0};var Vc=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var As={setInterval(t,e,...n){let{delegate:r}=As;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=As;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends Vc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return As.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&As.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $i=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$i.now=Cf.now;var Hi=class extends $i{constructor(e,n=$i.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Af=new Hi(Ui);var Lc=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var jc=class extends Hi{};var Sf=new jc(Lc);var Ss=new ee(t=>t.complete());function PI(t){return t&&Q(t.schedule)}function xI(t){return t[t.length-1]}function Bc(t){return Q(xI(t))?t.pop():void 0}function sr(t){return PI(xI(t))?t.pop():void 0}function Nf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function kI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function FI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(N){return new Promise(function(R,k){o.push([y,N,R,k])>1||u(y,N)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof Lr?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function VI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kI=="function"?kI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function $c(t){return Q(t?.then)}function Hc(t){return Q(t[Bi])}function qc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gc=QM();function Wc(t){return Q(t?.[Gc])}function Kc(t){return FI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function Qc(t){return Q(t?.getReader)}function Oe(t){if(t instanceof ee)return t;if(t!=null){if(Hc(t))return YM(t);if(Uc(t))return ZM(t);if($c(t))return JM(t);if(qc(t))return LI(t);if(Wc(t))return XM(t);if(Qc(t))return eP(t)}throw zc(t)}function YM(t){return new ee(e=>{let n=t[Bi]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZM(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function JM(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kc)})}function XM(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function LI(t){return new ee(e=>{tP(t,e).catch(n=>e.error(n))})}function eP(t){return LI(Kc(t))}function tP(t,e){var n,r,i,o;return OI(this,void 0,void 0,function*(){try{for(n=VI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ar(t,e=0){return se((n,r)=>{n.subscribe(re(r,i=>ht(r,t,()=>r.next(i),e),()=>ht(r,t,()=>r.complete(),e),i=>ht(r,t,()=>r.error(i),e)))})}function cr(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jI(t,e){return Oe(t).pipe(cr(e),ar(e))}function BI(t,e){return Oe(t).pipe(cr(e),ar(e))}function UI(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $I(t,e){return new ee(n=>{let r;return ht(n,e,()=>{r=t[Gc](),ht(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Yc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{ht(n,e,()=>{let r=t[Symbol.asyncIterator]();ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function HI(t,e){return Yc(Kc(t),e)}function qI(t,e){if(t!=null){if(Hc(t))return jI(t,e);if(Uc(t))return UI(t,e);if($c(t))return BI(t,e);if(qc(t))return Yc(t,e);if(Wc(t))return $I(t,e);if(Qc(t))return HI(t,e)}throw zc(t)}function $t(t,e){return e?qI(t,e):Oe(t)}function nP(...t){let e=sr(t);return $t(t,e)}function rP(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function iP(t){return!!t&&(t instanceof ee||Q(t.lift)&&Q(t.subscribe))}var jr=Fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ft(t,e){return se((n,r)=>{let i=0;n.subscribe(re(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:oP}=Array;function sP(t,e){return oP(e)?t(...e):t(e)}function Zc(t){return ft(e=>sP(t,e))}var{isArray:aP}=Array,{getPrototypeOf:cP,prototype:uP,keys:lP}=Object;function Jc(t){if(t.length===1){let e=t[0];if(aP(e))return{args:e,keys:null};if(dP(e)){let n=lP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function dP(t){return t&&typeof t=="object"&&cP(t)===uP}function Xc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hP(...t){let e=sr(t),n=Bc(t),{args:r,keys:i}=Jc(t);if(r.length===0)return $t([],e);let o=new ee(fP(r,e,i?s=>Xc(i,s):It));return n?o.pipe(Zc(n)):o}function fP(t,e,n=It){return r=>{zI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)zI(e,()=>{let l=$t(t[u],e),h=!1;l.subscribe(re(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zI(t,e,n){t?ht(n,t,e):e()}function GI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?D(N):u.push(N),D=N=>{o&&e.next(N),l++;let R=!1;Oe(n(N,h++)).subscribe(re(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?ht(e,s,()=>D(k)):D(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(re(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Br(t,e,n=1/0){return Q(e)?Br((r,i)=>ft((o,s)=>e(r,o,i,s))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>GI(r,i,t,n)))}function Rf(t=1/0){return Br(It,t)}function WI(){return Rf(1)}function eu(...t){return WI()($t(t,sr(t)))}function pP(t){return new ee(e=>{Oe(t()).subscribe(e)})}function Mf(...t){let e=Bc(t),{args:n,keys:r}=Jc(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Oe(n[h]).subscribe(re(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Xc(r,a):a),o.complete())}))}});return e?i.pipe(Zc(e)):i}function qi(t,e){return se((n,r)=>{let i=0;n.subscribe(re(r,o=>t.call(e,o,i++)&&r.next(o)))})}function KI(t){return se((e,n)=>{let r=null,i=!1,o;r=e.subscribe(re(n,void 0,void 0,s=>{o=Oe(t(s,KI(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function QI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(re(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function gP(t,e){return Q(e)?Br(t,e,1):Br(t,1)}function Ns(t){return se((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Pf(t){return t<=0?()=>Ss:se((e,n)=>{let r=0;e.subscribe(re(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tu(t=mP){return se((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mP(){return new jr}function yP(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vP(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qi((i,o)=>t(i,o,r)):It,Pf(1),n?Ns(e):tu(()=>new jr))}function xf(t){return t<=0?()=>Ss:se((e,n)=>{let r=[];e.subscribe(re(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _P(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qi((i,o)=>t(i,o,r)):It,xf(1),n?Ns(e):tu(()=>new jr))}function YI(t,e){return se(QI(t,e,arguments.length>=2,!0))}function ZI(...t){let e=sr(t);return se((n,r)=>{(e?eu(t,n,e):eu(t,n)).subscribe(r)})}function EP(t,e){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(re(r,u=>{i?.unsubscribe();let l=0,h=o++;Oe(t(u,h)).subscribe(i=re(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function IP(t){return se((e,n)=>{Oe(t).subscribe(re(n,()=>n.complete(),bs)),!n.closed&&e.subscribe(n)})}function wP(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(re(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):It}var Lf={JSACTION:"jsaction"},jf={JSACTION:"__jsaction",OWNER:"__owner"},tw={};function DP(t){return t[jf.JSACTION]}function JI(t,e){t[jf.JSACTION]=e}function TP(t){return tw[t]}function bP(t,e){tw[t]=e}var j={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},CP=[j.MOUSEENTER,j.MOUSELEAVE,"pointerenter","pointerleave"],DW=[j.CLICK,j.DBLCLICK,j.FOCUSIN,j.FOCUSOUT,j.KEYDOWN,j.KEYUP,j.KEYPRESS,j.MOUSEOVER,j.MOUSEOUT,j.SUBMIT,j.TOUCHSTART,j.TOUCHEND,j.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],AP=[j.FOCUS,j.BLUR,j.ERROR,j.LOAD,j.TOGGLE],Bf=t=>AP.indexOf(t)>=0;function SP(t){return t===j.MOUSEENTER?j.MOUSEOVER:t===j.MOUSELEAVE?j.MOUSEOUT:t===j.POINTERENTER?j.POINTEROVER:t===j.POINTERLEAVE?j.POINTEROUT:t}function NP(t,e,n,r){let i=!1;Bf(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function RP(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function MP(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var XI=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function PP(t){return t.which===2||t.which==null&&t.button===4}function xP(t){return XI&&t.metaKey||!XI&&t.ctrlKey||PP(t)||t.shiftKey}function kP(t,e,n){let r=t.relatedTarget;return(t.type===j.MOUSEOVER&&e===j.MOUSEENTER||t.type===j.MOUSEOUT&&e===j.MOUSELEAVE||t.type===j.POINTEROVER&&e===j.POINTERENTER||t.type===j.POINTEROUT&&e===j.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function OP(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===j.MOUSEOVER?n.type=j.MOUSEENTER:t.type===j.MOUSEOUT?n.type=j.MOUSELEAVE:t.type===j.POINTEROVER?n.type=j.POINTERENTER:n.type=j.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var FP=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),ou=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){FP&&(this.element.style.cursor="pointer"),this.handlerInfos.push(NP(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)RP(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},VP={EVENT_ACTION_SEPARATOR:":"};function ur(t){return t.eventType}function Uf(t,e){t.eventType=e}function ru(t){return t.event}function nw(t,e){t.event=e}function rw(t){return t.targetElement}function iw(t,e){t.targetElement=e}function ow(t){return t.eic}function LP(t,e){t.eic=e}function jP(t){return t.timeStamp}function BP(t,e){t.timeStamp=e}function iu(t){return t.eia}function sw(t,e,n){t.eia=[e,n]}function kf(t){t.eia=void 0}function nu(t){return t[1]}function UP(t){return t.eirp}function aw(t,e){t.eirp=e}function cw(t){return t.eir}function uw(t,e){t.eir=e}function lw(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function $P(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Of=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return ur(this.eventInfo)}setEventType(e){Uf(this.eventInfo,e)}getEvent(){return ru(this.eventInfo)}setEvent(e){nw(this.eventInfo,e)}getTargetElement(){return rw(this.eventInfo)}setTargetElement(e){iw(this.eventInfo,e)}getContainer(){return ow(this.eventInfo)}setContainer(e){LP(this.eventInfo,e)}getTimestamp(){return jP(this.eventInfo)}setTimestamp(e){BP(this.eventInfo,e)}getAction(){let e=iu(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){kf(this.eventInfo);return}sw(this.eventInfo,e.name,e.element)}getIsReplay(){return UP(this.eventInfo)}setIsReplay(e){aw(this.eventInfo,e)}getResolved(){return cw(this.eventInfo)}setResolved(e){uw(this.eventInfo,e)}clone(){return new t(lw(this.eventInfo))}},HP={},qP=/\s*;\s*/,zP=j.CLICK,Ff=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&ur(e)===j.CLICK&&xP(ru(e))?Uf(e,j.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){cw(e)||(this.populateAction(e,rw(e)),uw(e,!0))}resolveParentAction(e){let n=iu(e),r=n&&nu(n);kf(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==ow(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!iu(e));)r=this.getParentNode(r);let i=iu(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(ur(e)===j.MOUSEENTER||ur(e)===j.MOUSELEAVE||ur(e)===j.POINTERENTER||ur(e)===j.POINTERLEAVE)))if(kP(ru(e),ur(e),nu(i))){let o=OP(ru(e),nu(i));nw(e,o),iw(e,nu(i))}else kf(e)}getParentNode(e){let n=e[jf.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[ur(n)];i!==void 0&&sw(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=DP(e);if(!n){let r=e.getAttribute(Lf.JSACTION);if(!r)n=HP,JI(e,n);else{if(n=TP(r),!n){n={};let i=r.split(qP);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(VP.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():zP,h=u?s.substr(a+1).trim():s;n[l]=h}bP(r,n)}JI(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},dw=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(dw||{}),Vf=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Of(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&GP(r.element,n)&&MP(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function GP(t,e){return t.tagName==="A"&&(e.getEventType()===j.CLICK||e.getEventType()===j.CLICKMOD)}var hw=Symbol.for("propagationStopped"),$f={REPLAY:101};var WP="`preventDefault` called during event replay.";var KP="`composedPath` called during event replay.",su=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Ff({clickModSupport:n}),this.dispatcher=new Vf(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&ZP(e),QP(e);e.getAction();){if(JP(e),Bf(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),YP(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function QP(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[hw]=!0,n()};Ur(e,"stopPropagation",r),Ur(e,"stopImmediatePropagation",r)}function YP(t){return!!t.getEvent()[hw]}function ZP(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Ur(e,"target",n),Ur(e,"eventPhase",$f.REPLAY),Ur(e,"preventDefault",()=>{throw r(),new Error(WP+"")}),Ur(e,"composedPath",()=>{throw new Error(KP+"")})}function JP(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Ur(e,"currentTarget",n,{configurable:!0})}function Ur(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function fw(t,e){t.ecrd(n=>{e.dispatch(n)},dw.I_AM_THE_JSACTION_FRAMEWORK)}function XP(t){return t?.q??[]}function ex(t){t&&(ew(t.c,t.et,t.h),ew(t.c,t.etc,t.h,!0))}function ew(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var tx=!1,pw=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=tx;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=$P(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){aw(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&CP.indexOf(n)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[n]=o;let s=SP(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(n,u,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),ex(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=lw(i);Uf(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function gw(t,e=window){return XP(e._ejsas?.[t])}function Hf(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var _D="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,n){super(ED(e,n)),this.code=e}};function nx(t){return`NG0${Math.abs(t)}`}function ED(t,e){return`${nx(t)}${e?": "+e:""}`}var ID=Symbol("InputSignalNode#UNSET"),rx=we(ye({},Rc),{transformFn:void 0,applyValueToInputSignal(t,e){Ds(t,e)}});function wD(t,e){let n=Object.create(rx);n.value=t,n.transformFn=e?.transform;function r(){if(ws(n),n.value===ID){let i=null;throw new z(-950,i)}return n.value}return r[Rt]=n,r}function $s(t){return{toString:t}.toString()}var au="__parameters__";function ix(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function DD(t,e,n){return $s(()=>{let r=ix(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(au)?u[au]:Object.defineProperty(u,au,{value:[]})[au];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var lr=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function ox(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(mt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function cp(t,e){return t?e?`${t} ${e}`:t:e||""}var sx=ve({__forward_ref__:ve});function Qt(t){return t.__forward_ref__=Qt,t.toString=function(){return mt(this())},t}function at(t){return TD(t)?t():t}function TD(t){return typeof t=="function"&&t.hasOwnProperty(sx)&&t.__forward_ref__===Qt}function ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function so(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zu(t){return mw(t,bD)||mw(t,CD)}function n5(t){return Zu(t)!==null}function mw(t,e){return t.hasOwnProperty(e)?t[e]:null}function ax(t){let e=t&&(t[bD]||t[CD]);return e||null}function yw(t){return t&&(t.hasOwnProperty(vw)||t.hasOwnProperty(cx))?t[vw]:null}var bD=ve({\u0275prov:ve}),vw=ve({\u0275inj:ve}),CD=ve({ngInjectableDef:ve}),cx=ve({ngInjectorDef:ve}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ue({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AD(t){return t&&!!t.\u0275providers}var ux=ve({\u0275cmp:ve}),lx=ve({\u0275dir:ve}),dx=ve({\u0275pipe:ve}),hx=ve({\u0275mod:ve}),wu=ve({\u0275fac:ve}),xs=ve({__NG_ELEMENT_ID__:ve}),_w=ve({__NG_ENV_ID__:ve});function Ju(t){return typeof t=="string"?t:t==null?"":String(t)}function fx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ju(t)}function SD(t,e){throw new z(-200,t)}function hg(t,e){throw new z(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),up;function ND(){return up}function pt(t){let e=up;return up=t,e}function RD(t,e,n){let r=Zu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;hg(t,"Injector")}var px={},Hr=px,lp="__NG_DI_FLAG__",Du=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Mc:Hr,r)}},Tu="ngTempTokenPath",gx="ngTokenPath",mx=/\n/gm,yx="\u0275",Ew="__source";function vx(t,e=ie.Default){if(Ts()===void 0)throw new z(-203,!1);if(Ts()===null)return RD(t,void 0,e);{let n=Ts(),r;return n instanceof Du?r=n.injector:r=n,r.get(t,e&ie.Optional?null:void 0,e)}}function We(t,e=ie.Default){return(ND()||vx)(at(t),e)}function V(t,e=ie.Default){return We(t,Xu(e))}function Xu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dp(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],u=_x(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(We(i,o))}else e.push(We(r))}return e}function MD(t,e){return t[lp]=e,t.prototype[lp]=e,t}function _x(t){return t[lp]}function Ex(t,e,n,r){let i=t[Tu];throw e[Ew]&&i.unshift(e[Ew]),t.message=Ix(`
`+t.message,i,n,r),t[gx]=i,t[Tu]=null,t}function Ix(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yx?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mx,`
  `)}`}var Tt=MD(DD("Optional"),8);var wx=MD(DD("SkipSelf"),4);function zr(t,e){let n=t.hasOwnProperty(wu);return n?t[wu]:null}function Dx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Tx(t){return t.flat(Number.POSITIVE_INFINITY)}function fg(t,e){t.forEach(n=>Array.isArray(n)?fg(n,e):e(n))}function PD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function el(t,e,n){let r=Hs(t,e);return r>=0?t[r|1]=n:(r=~r,bx(t,r,e,n)),r}function qf(t,e){let n=Hs(t,e);if(n>=0)return t[n|1]}function Hs(t,e){return Cx(t,e,1)}function Cx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Gr={},gt=[],eo=new L(""),xD=new L("",-1),kD=new L(""),Cu=class{get(e,n=Hr){if(n===Hr){let r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}};function OD(t,e){let n=t[hx]||null;if(!n&&e===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function hr(t){return t[ux]||null}function FD(t){return t[lx]||null}function VD(t){return t[dx]||null}function Fn(t){return{\u0275providers:t}}function Ax(...t){return{\u0275providers:pg(!0,t),\u0275fromNgModule:!0}}function pg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return fg(e,s=>{let a=s;hp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&LD(i,o),n}function LD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gg(i,o=>{e(o,r)})}}function hp(t,e,n,r){if(t=at(t),!t)return!1;let i=null,o=yw(t),s=!o&&hr(t);if(!o&&!s){let u=t.ngModule;if(o=yw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fg(o.imports,h=>{hp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LD(l,e)}if(!a){let l=zr(i)||(()=>new i);e({provide:i,useFactory:l,deps:gt},i),e({provide:kD,useValue:i,multi:!0},i),e({provide:eo,useValue:()=>We(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;gg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gg(t,e){for(let n of t)AD(n)&&(n=n.\u0275providers),Array.isArray(n)?gg(n,e):e(n)}var Sx=ve({provide:String,useValue:ve});function jD(t){return t!==null&&typeof t=="object"&&Sx in t}function Nx(t){return!!(t&&t.useExisting)}function Rx(t){return!!(t&&t.useFactory)}function to(t){return typeof t=="function"}function Mx(t){return!!t.useClass}var BD=new L(""),pu={},Iw={},zf;function mg(){return zf===void 0&&(zf=new Cu),zf}var Wt=class{},ks=class extends Wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pp(e,s=>this.processProvider(s)),this.records.set(xD,zi(void 0,this)),i.has("environment")&&this.records.set(Wt,zi(void 0,this));let o=this.records.get(BD);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kD,gt,ie.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Mc:Hr,r)}destroy(){Ms(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return Ms(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ms(this);let n=An(this),r=pt(void 0),i;try{return e()}finally{An(n),pt(r)}}get(e,n=Hr,r=ie.Default){if(Ms(this),e.hasOwnProperty(_w))return e[_w](this);r=Xu(r);let i,o=An(this),s=pt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Fx(e)&&Zu(e);l&&this.injectableDefInScope(l)?u=zi(fp(e),pu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?mg():this.parent;return n=r&ie.Optional&&n===Hr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tu]=a[Tu]||[]).unshift(mt(e)),o)throw a;return Ex(a,e,"R3InjectorError",this.source)}else throw a}finally{pt(s),An(o)}}resolveInjectorInitializers(){let e=ne(null),n=An(this),r=pt(void 0),i;try{let o=this.get(eo,gt,ie.Self);for(let s of o)s()}finally{An(n),pt(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=at(e);let n=to(e)?e:at(e&&e.provide),r=xx(e);if(!to(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,pu,!0),i.factory=()=>dp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ne(null);try{return n.value===Iw?SD(mt(e)):n.value===pu&&(n.value=Iw,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ox(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fp(t){let e=Zu(t),n=e!==null?e.factory:zr(t);if(n!==null)return n;if(t instanceof L)throw new z(204,!1);if(t instanceof Function)return Px(t);throw new z(204,!1)}function Px(t){if(t.length>0)throw new z(204,!1);let n=ax(t);return n!==null?()=>n.factory(t):()=>new t}function xx(t){if(jD(t))return zi(void 0,t.useValue);{let e=UD(t);return zi(e,pu)}}function UD(t,e,n){let r;if(to(t)){let i=at(t);return zr(i)||fp(i)}else if(jD(t))r=()=>at(t.useValue);else if(Rx(t))r=()=>t.useFactory(...dp(t.deps||[]));else if(Nx(t))r=()=>We(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(kx(t))r=()=>new i(...dp(t.deps));else return zr(i)||fp(i)}return r}function Ms(t){if(t.destroyed)throw new z(205,!1)}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kx(t){return!!t.deps}function Ox(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Fx(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function pp(t,e){for(let n of t)Array.isArray(n)?pp(n,e):n&&AD(n)?pp(n.\u0275providers,e):e(n)}function ao(t,e){let n;t instanceof ks?(Ms(t),n=t):n=new Du(t);let r,i=An(n),o=pt(void 0);try{return e()}finally{An(i),pt(o)}}function $D(){return ND()!==void 0||Ts()!=null}function yg(t){if(!$D())throw new z(-203,!1)}function Vx(t){return typeof t=="function"}var Dt=0,$=1,W=2,$e=3,zt=4,Yt=5,un=6,Au=7,vt=8,Sn=9,Nn=10,_e=11,Os=12,ww=13,co=14,xt=15,Wr=16,Gi=17,Rn=18,tl=19,HD=20,dr=21,Gf=22,Su=23,Pt=24,Yi=25,Re=26,qD=1,Mn=6,Pn=7,Nu=8,no=9,yt=10;function Gt(t){return Array.isArray(t)&&typeof t[qD]=="object"}function hn(t){return Array.isArray(t)&&t[qD]===!0}function zD(t){return(t.flags&4)!==0}function ni(t){return t.componentOffset>-1}function vg(t){return(t.flags&1)===1}function ln(t){return!!t.template}function Fs(t){return(t[W]&512)!==0}function uo(t){return(t[W]&256)===256}var gp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function GD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var lo=(()=>{let t=()=>WD;return t.ngInherit=!0,t})();function WD(t){return t.type.prototype.ngOnChanges&&(t.setInput=jx),Lx}function Lx(){let t=QD(this),e=t?.current;if(e){let n=t.previous;if(n===Gr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jx(t,e,n,r,i){let o=this.declaredInputs[r],s=QD(t)||Bx(t,{previous:Gr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new gp(l&&l.currentValue,n,u===Gr),GD(t,e,i,n)}var KD="__ngSimpleChanges__";function QD(t){return t[KD]||null}function Bx(t,e){return t[KD]=e}var Dw=null;var de=function(t,e=null,n){Dw?.(t,e,n)},Ux="svg",$x="math";function Kt(t){for(;Array.isArray(t);)t=t[Dt];return t}function YD(t,e){return Kt(e[t])}function Zt(t,e){return Kt(e[t.index])}function nl(t,e){return t.data[e]}function _g(t,e){return t[e]}function dn(t,e){let n=e[t];return Gt(n)?n:n[Dt]}function Hx(t){return(t[W]&4)===4}function Eg(t){return(t[W]&128)===128}function qx(t){return hn(t[$e])}function Ru(t,e){return e==null?null:t[e]}function ZD(t){t[Gi]=0}function JD(t){t[W]&1024||(t[W]|=1024,Eg(t)&&qs(t))}function zx(t,e){for(;t>0;)e=e[co],t--;return e}function rl(t){return!!(t[W]&9216||t[Pt]?.dirty)}function mp(t){t[Nn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),rl(t)&&qs(t)}function qs(t){t[Nn].changeDetectionScheduler?.notify(0);let e=Kr(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Eg(e)));)e=Kr(e)}function XD(t,e){if(uo(t))throw new z(911,!1);t[dr]===null&&(t[dr]=[]),t[dr].push(e)}function Gx(t,e){if(t[dr]===null)return;let n=t[dr].indexOf(e);n!==-1&&t[dr].splice(n,1)}function Kr(t){let e=t[$e];return hn(e)?e[$e]:e}function Ig(t){return t[Au]??=[]}function wg(t){return t.cleanup??=[]}function Wx(t,e,n,r){let i=Ig(e);i.push(n),t.firstCreatePass&&wg(t).push(r,i.length-1)}var J={lFrame:cT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yp=!1;function Kx(){return J.lFrame.elementDepthCount}function Qx(){J.lFrame.elementDepthCount++}function Yx(){J.lFrame.elementDepthCount--}function eT(){return J.bindingsEnabled}function zs(){return J.skipHydrationRootTNode!==null}function Zx(t){return J.skipHydrationRootTNode===t}function Jx(t){J.skipHydrationRootTNode=t}function Xx(){J.skipHydrationRootTNode=null}function ae(){return J.lFrame.lView}function Ke(){return J.lFrame.tView}function r5(t){return J.lFrame.contextLView=t,t[vt]}function i5(t){return J.lFrame.contextLView=null,t}function ut(){let t=tT();for(;t!==null&&t.type===64;)t=t.parent;return t}function tT(){return J.lFrame.currentTNode}function ek(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gs(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function nT(){return J.lFrame.isParent}function tk(){J.lFrame.isParent=!1}function nk(){return J.lFrame.contextLView}function rT(){return yp}function Tw(t){let e=yp;return yp=t,e}function Dg(){let t=J.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rk(t){return J.lFrame.bindingIndex=t}function il(){return J.lFrame.bindingIndex++}function iT(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ik(){return J.lFrame.inI18n}function ok(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,vp(e)}function sk(){return J.lFrame.currentDirectiveIndex}function vp(t){J.lFrame.currentDirectiveIndex=t}function ak(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function oT(){return J.lFrame.currentQueryIndex}function Tg(t){J.lFrame.currentQueryIndex=t}function ck(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function sT(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=ck(o),i===null||(o=o[co],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=J.lFrame=aT();return r.currentTNode=e,r.lView=t,!0}function bg(t){let e=aT(),n=t[$];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aT(){let t=J.lFrame,e=t===null?null:t.child;return e===null?cT(t):e}function cT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uT(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lT=uT;function Cg(){let t=uT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uk(t){return(J.lFrame.contextLView=zx(t,J.lFrame.contextLView))[vt]}function ri(){return J.lFrame.selectedIndex}function Qr(t){J.lFrame.selectedIndex=t}function Ag(){let t=J.lFrame;return nl(t.tView,t.selectedIndex)}function dT(){return J.lFrame.currentNamespace}var hT=!0;function Sg(){return hT}function fr(t){hT=t}function lk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=WD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function fT(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function gu(t,e,n){pT(t,e,3,n)}function mu(t,e,n,r){(t[W]&3)===n&&pT(t,e,n,r)}function Wf(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function pT(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Gi]+=65536),(a<o||o==-1)&&(dk(t,n,e,u),t[Gi]=(t[Gi]&4294901760)+u+2),u++}function bw(t,e){de(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),de(5,t,e)}}function dk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[W]>>14<t[Gi]>>16&&(t[W]&3)===e&&(t[W]+=16384,bw(a,o)):bw(a,o)}var Zi=-1,Yr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function hk(t){return(t.flags&8)!==0}function fk(t){return(t.flags&16)!==0}function pk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];gk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function gT(t){return t===3||t===4||t===6}function gk(t){return t.charCodeAt(0)===64}function Vs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Cw(t,n,i,null,e[++r]):Cw(t,n,i,null,null))}}return t}function Cw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function mT(t){return t!==Zi}function Mu(t){return t&32767}function mk(t){return t>>16}function Pu(t,e){let n=mk(t),r=e;for(;n>0;)r=r[co],n--;return r}var _p=!0;function xu(t){let e=_p;return _p=t,e}var yk=256,yT=yk-1,vT=5,vk=0,cn={};function _k(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xs)&&(r=n[xs]),r==null&&(r=n[xs]=vk++);let i=r&yT,o=1<<i;e.data[t+(i>>vT)]|=o}function ku(t,e){let n=_T(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Kf(r.data,t),Kf(e,null),Kf(r.blueprint,null));let i=Ng(t,e),o=t.injectorIndex;if(mT(i)){let s=Mu(i),a=Pu(i,e),u=a[$].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Kf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _T(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ng(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=TT(i),r===null)return Zi;if(n++,i=i[co],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zi}function Ep(t,e,n){_k(t,e,n)}function Ek(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(gT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function ET(t,e,n){if(n&ie.Optional||t!==void 0)return t;hg(e,"NodeInjector")}function IT(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),(n&(ie.Self|ie.Host))===0){let i=t[Sn],o=pt(void 0);try{return i?i.get(e,r,n&ie.Optional):RD(e,r,n&ie.Optional)}finally{pt(o)}}return ET(r,e,n)}function wT(t,e,n,r=ie.Default,i){if(t!==null){if(e[W]&2048&&!(r&ie.Self)){let s=Tk(t,e,n,r,cn);if(s!==cn)return s}let o=DT(t,e,n,r,cn);if(o!==cn)return o}return IT(e,n,r,i)}function DT(t,e,n,r,i){let o=wk(n);if(typeof o=="function"){if(!sT(e,t,r))return r&ie.Host?ET(i,n,r):IT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))hg(n);else return s}finally{lT()}}else if(typeof o=="number"){let s=null,a=_T(t,e),u=Zi,l=r&ie.Host?e[xt][Yt]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?Ng(t,e):e[a+8],u===Zi||!Sw(r,!1)?a=-1:(s=e[$],a=Mu(u),e=Pu(u,e)));a!==-1;){let h=e[$];if(Aw(o,a,h.data)){let p=Ik(a,e,n,s,r,l);if(p!==cn)return p}u=e[a+8],u!==Zi&&Sw(r,e[$].data[a+8]===l)&&Aw(o,a,e)?(s=h,a=Mu(u),e=Pu(u,e)):a=-1}}return i}function Ik(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],u=r==null?ni(a)&&_p:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,h=yu(a,s,n,u,l);return h!==null?Ls(e,s,h,a):cn}function yu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&ln(y)&&y.type===n)return u}return null}function Ls(t,e,n,r){let i=t[n],o=e.data;if(i instanceof Yr){let s=i;s.resolving&&SD(fx(o[n]));let a=xu(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?pt(s.injectImpl):null,h=sT(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&lk(n,o[n],e)}finally{l!==null&&pt(l),xu(a),s.resolving=!1,lT()}}return i}function wk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xs)?t[xs]:void 0;return typeof e=="number"?e>=0?e&yT:Dk:e}function Aw(t,e,n){let r=1<<t;return!!(n[e+(t>>vT)]&r)}function Sw(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var qr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wT(this._tNode,this._lView,e,Xu(r),n)}};function Dk(){return new qr(ut(),ae())}function Ws(t){return $s(()=>{let e=t.prototype.constructor,n=e[wu]||Ip(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[wu]||Ip(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ip(t){return TD(t)?()=>{let e=Ip(at(t));return e&&e()}:zr(t)}function Tk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!Fs(s);){let a=DT(o,s,n,r|ie.Self,cn);if(a!==cn)return a;let u=o.parent;if(!u){let l=s[HD];if(l){let h=l.get(n,cn,r);if(h!==cn)return h}u=TT(s),s=s[co]}o=u}return i}function TT(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function bk(t){return Ek(ut(),t)}function Nw(t,e=null,n=null,r){let i=bT(t,e,n,r);return i.resolveInjectorInitializers(),i}function bT(t,e=null,n=null,r,i=new Set){let o=[n||gt,Ax(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new ks(o,e||mg(),r||null,i)}var et=class t{static THROW_IF_NOT_FOUND=Hr;static NULL=new Cu;static create(e,n){if(Array.isArray(e))return Nw({name:""},n,e,"");{let r=e.name??"";return Nw({name:r},e.parent,e.providers,r)}}static \u0275prov=ue({token:t,providedIn:"any",factory:()=>We(xD)});static __NG_ELEMENT_ID__=-1};var Ck=new L("");Ck.__NG_ELEMENT_ID__=t=>{let e=ut();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new z(204,!1)};var CT=!1,ol=(()=>{class t{static __NG_ELEMENT_ID__=Ak;static __NG_ENV_ID__=n=>n}return t})(),wp=class extends ol{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return XD(this._lView,e),()=>Gx(this._lView,e)}};function Ak(){return new wp(ae())}var Zr=class{},Rg=new L("",{providedIn:"root",factory:()=>!1});var AT=new L(""),ST=new L(""),ii=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Cs(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),sl=(()=>{class t{internalPendingTasks=V(ii);scheduler=V(Zr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),Dp=class extends Mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,$D()&&(this.destroyRef=V(ol,{optional:!0})??void 0,this.pendingTasks=V(ii,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ct=Dp;function Ou(...t){}function NT(t){let e,n;function r(){t=Ou;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Rw(t){return queueMicrotask(()=>t()),()=>{t=Ou}}var Mg="isAngularZone",Fu=Mg+"_ID",Sk=0,Te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ct(!1);onMicrotaskEmpty=new ct(!1);onStable=new ct(!1);onError=new ct(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CT}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Mk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Nk,Ou,Ou);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Nk={};function Pg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){NT(()=>{t.callbackScheduled=!1,Tp(t),t.isCheckStableRunning=!0,Pg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Tp(t)}function Mk(t){let e=()=>{Rk(t)},n=Sk++;t._inner=t._inner.fork({name:"angular",properties:{[Mg]:!0,[Fu]:n,[Fu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Pk(u))return r.invokeTask(o,s,a,u);try{return Mw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Pw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Mw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!xk(u)&&e(),Pw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Tp(t),Pg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Mw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pw(t){t._nesting--,Pg(t)}var bp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ct;onMicrotaskEmpty=new ct;onStable=new ct;onError=new ct;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Pk(t){return RT(t,"__ignore_ng_zone__")}function xk(t){return RT(t,"__scheduler_tick__")}function RT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Jr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kk=new L("",{providedIn:"root",factory:()=>{let t=V(Te),e=V(Jr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function xw(t,e){return wD(t,e)}function Ok(t){return wD(ID,t)}var o5=(xw.required=Ok,xw);function Fk(){return ho(ut(),ae())}function ho(t,e){return new kt(Zt(t,e))}var kt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Fk}return t})();function Vk(t){return t instanceof kt?t.nativeElement:t}function Lk(t){return typeof t=="function"&&t[Rt]!==void 0}function oi(t,e){let n=hf(t,e?.equal),r=n[Rt];return n.set=i=>Ds(r,i),n.update=i=>ff(r,i),n.asReadonly=jk.bind(n),n}function jk(){let t=this[Rt];if(t.readonlyFn===void 0){let e=()=>this();e[Rt]=t,t.readonlyFn=e}return t.readonlyFn}function MT(t){return Lk(t)&&typeof t.set=="function"}function Bk(){return this._results[Symbol.iterator]()}var Cp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Mt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Tx(e);(this._changesDetected=!Dx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Bk},Uk="ngSkipHydration",$k="ngskiphydration";function PT(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===$k)return!0}return!1}function xT(t){return t.hasAttribute(Uk)}function Vu(t){return(t.flags&128)===128}function Hk(t){if(Vu(t))return!0;let e=t.parent;for(;e;){if(Vu(t)||PT(e))return!0;e=e.parent}return!1}var kT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kT||{}),OT=new Map,qk=0;function zk(){return qk++}function Gk(t){OT.set(t[tl],t)}function Ap(t){OT.delete(t[tl])}var kw="__ngContext__";function Ks(t,e){Gt(e)?(t[kw]=e[tl],Gk(e)):t[kw]=e}function FT(t){return LT(t[Os])}function VT(t){return LT(t[zt])}function LT(t){for(;t!==null&&!hn(t);)t=t[zt];return t}var Sp;function s5(t){Sp=t}function al(){if(Sp!==void 0)return Sp;if(typeof document<"u")return document;throw new z(210,!1)}var Lu=new L("",{providedIn:"root",factory:()=>Wk}),Wk="ng",Kk=new L(""),xg=new L("",{providedIn:"platform",factory:()=>"unknown"});var a5=new L("",{providedIn:"root",factory:()=>al().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Qk(){let t=new cl;return t.store=Yk(al(),V(Lu)),t}var cl=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:Qk});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function Yk(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var jT="h",BT="b",Zk="f",Jk="n",Xk="e",eO="t",kg="c",UT="x",ju="r",tO="i",nO="n",$T="d";var rO="di",iO="s",oO="p";var cu=new L(""),HT=!1,qT=new L("",{providedIn:"root",factory:()=>HT});var zT=new L(""),sO=!1,aO=new L(""),Ow=new L("",{providedIn:"root",factory:()=>new Map}),Og=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Og||{}),ul=new L(""),Fw=new Set;function fo(t){Fw.has(t)||(Fw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var GT=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=cO}return t})();function cO(){return new GT(ae(),ut())}var Wi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wi||{}),WT=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),uO=[Wi.EarlyRead,Wi.Write,Wi.MixedReadWrite,Wi.Read],lO=(()=>{class t{ngZone=V(Te);scheduler=V(Zr);errorHandler=V(Jr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){V(ul,{optional:!0})}execute(){let n=this.sequences.size>0;n&&de(16),this.executing=!0;for(let r of uO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&de(17)}register(n){let{view:r}=n;r!==void 0?((r[Yi]??=[]).push(n),qs(r),r[W]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Og.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})(),Np=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Yi];e&&(this.view[Yi]=e.filter(n=>n!==this))}};function KT(t,e){!e?.injector&&yg(KT);let n=e?.injector??V(et);return fo("NgAfterNextRender"),hO(t,n,e,!0)}function dO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function hO(t,e,n,r){let i=e.get(WT);i.impl??=e.get(lO);let o=e.get(ul,null,{optional:!0}),s=n?.phase??Wi.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(ol):null,u=e.get(GT,null,{optional:!0}),l=new Np(i.impl,dO(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var wt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(wt||{}),Vw=0,fO=1,Ue=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Ue||{});var pO=0,ll=1;var gO=4,mO=5;var yO=7,Ji=8,vO=9,QT=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(QT||{});function vu(t,e){let n=EO(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function _O(t){vu(1,t),vu(0,t),vu(2,t)}function EO(t){let e=gO;return t===1?e=mO:t===2&&(e=vO),e}function YT(t){return t+1}function Qs(t,e){let n=t[$],r=YT(e.index);return t[r]}function dl(t,e){let n=YT(e.index);return t.data[n]}function IO(t,e,n){let r=e[$],i=dl(r,n);switch(t){case Ue.Complete:return i.primaryTmplIndex;case Ue.Loading:return i.loadingTmplIndex;case Ue.Error:return i.errorTmplIndex;case Ue.Placeholder:return i.placeholderTmplIndex;default:return null}}function Lw(t,e){return e===Ue.Placeholder?t.placeholderBlockConfig?.[Vw]??null:e===Ue.Loading?t.loadingBlockConfig?.[Vw]??null:null}function wO(t){return t.loadingBlockConfig?.[fO]??null}function jw(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function DO(t,e){let n=e.primaryTmplIndex+Re;return nl(t,n)}var hl="ngb";var TO=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},bO=(t,e)=>{let n=t,r=n.getAttribute(hl)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var CO=t=>{t.removeAttribute(Lf.JSACTION),t.removeAttribute(hl),t.__jsaction_fns=void 0},AO=new L("",{providedIn:"root",factory:()=>({})});function ZT(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Fg=new L("");var SO="__nghData__",JT=SO,NO="__nghDeferData__",RO=NO,Qf="ngh",MO="nghm",XT=()=>null;function PO(t,e,n=!1){let r=t.getAttribute(Qf);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(cl,null,{optional:!0});h!==null&&(u=h.get(JT,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,fl(l,0,t.nextSibling)),a?t.setAttribute(Qf,a):t.removeAttribute(Qf),l}function xO(){XT=PO}function eb(t,e,n=!1){return XT(t,e,n)}function kO(t){let e=t._lView;return e[$].type===2?null:(Fs(e)&&(e=e[Re]),e)}function OO(t){return t.textContent?.replace(/\s/gm,"")}function FO(t){let e=al(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=OO(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function fl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Rp(t,e){return t.segmentHeads?.[e]??null}function VO(t){return t.get(aO,!1,{optional:!0})}function LO(t,e){let n=t.data,r=n[Xk]?.[e]??null;return r===null&&n[kg]?.[e]&&(r=Vg(t,e)),r}function tb(t,e){return t.data[kg]?.[e]??null}function Vg(t,e){let n=tb(t,e)??[],r=0;for(let i of n)r+=i[ju]*(i[UT]??1);return r}function jO(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[$T];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ys(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[$T];t.disconnectedNodes=n?new Set(n):null}return!!jO(t)?.has(e)}function BO(t,e){let n=e.get(Fg),i=e.get(cl).get(RO,{}),o=!1,s=t,a=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][oO]}return{parentBlockPromise:a,hydrationQueue:u}}function Yf(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===MO}function Bw(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function UO(t){for(let r of t.body.childNodes)if(Yf(r))return;let e=Bw(t.body.previousSibling);if(Yf(e))return;let n=Bw(t.head.lastChild);if(!Yf(n))throw new z(-507,!1)}function nb(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Tg(o),a.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function Mp(t,e,n){Tg(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function rb(t,e,n){if(zD(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ne(r)}}}var js=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(js||{}),uu;function $O(){if(uu===void 0&&(uu=null,lr.trustedTypes))try{uu=lr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uu}function pl(t){return $O()?.createHTML(t)||t}var lu;function HO(){if(lu===void 0&&(lu=null,lr.trustedTypes))try{lu=lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lu}function Uw(t){return HO()?.createScriptURL(t)||t}var xn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_D})`}},Pp=class extends xn{getTypeName(){return"HTML"}},xp=class extends xn{getTypeName(){return"Style"}},kp=class extends xn{getTypeName(){return"Script"}},Op=class extends xn{getTypeName(){return"URL"}},Fp=class extends xn{getTypeName(){return"ResourceURL"}};function Zs(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function ib(t,e){let n=qO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_D})`)}return n===e}function qO(t){return t instanceof xn&&t.getTypeName()||null}function c5(t){return new Pp(t)}function u5(t){return new xp(t)}function l5(t){return new kp(t)}function d5(t){return new Op(t)}function h5(t){return new Fp(t)}function zO(t){let e=new Lp(t);return GO()?new Vp(e):e}var Vp=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(pl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Lp=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=pl(e),n}};function GO(){try{return!!new window.DOMParser().parseFromString(pl(""),"text/html")}catch{return!1}}var WO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ob(t){return t=String(t),t.match(WO)?t:"unsafe:"+t}function Vn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Js(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var sb=Vn("area,br,col,hr,img,wbr"),ab=Vn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cb=Vn("rp,rt"),KO=Js(cb,ab),QO=Js(ab,Vn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),YO=Js(cb,Vn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$w=Js(sb,QO,YO,KO),ub=Vn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZO=Vn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),JO=Vn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),XO=Js(ub,ZO,JO),e1=Vn("script,style,template"),jp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=r1(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=n1(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Hw(e).toLowerCase();if(!$w.hasOwnProperty(n))return this.sanitizedSomething=!0,!e1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!XO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;ub[a]&&(u=ob(u)),this.buf.push(" ",s,'="',qw(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=Hw(e).toLowerCase();$w.hasOwnProperty(n)&&!sb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(qw(e))}};function t1(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function n1(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw lb(e);return e}function r1(t){let e=t.firstChild;if(e&&t1(t,e))throw lb(e);return e}function Hw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function lb(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var i1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/([^\#-~ |!])/g;function qw(t){return t.replace(/&/g,"&amp;").replace(i1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(o1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var du;function f5(t,e){let n=null;try{du=du||zO(t);let r=e?String(e):"";n=du.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=du.getInertBodyElement(r)}while(r!==o);let a=new jp().sanitizeChildren(zw(n)||n);return pl(a)}finally{if(n){let r=zw(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function zw(t){return"content"in t&&s1(t)?t.content:null}function s1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Lg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lg||{});function a1(t){let e=db();return e?e.sanitize(Lg.URL,t)||"":ib(t,"URL")?Zs(t):ob(Ju(t))}function c1(t){let e=db();if(e)return Uw(e.sanitize(Lg.RESOURCE_URL,t)||"");if(ib(t,"ResourceURL"))return Uw(Zs(t));throw new z(904,!1)}function u1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?c1:a1}function p5(t,e,n){return u1(e,n)(t)}function db(){let t=ae();return t&&t[Nn].sanitizer}var l1=/^>|^->|<!--|-->|--!>|<!-$/g,d1=/(<|>)/g,h1="\u200B$1\u200B";function f1(t){return t.replace(l1,e=>e.replace(d1,h1))}function p1(t){return t.ownerDocument.body}function hb(t){return t instanceof Function?t():t}function g1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var fb="ng-template";function m1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&g1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jg(t){return t.type===4&&t.value!==fb}function y1(t,e,n){let r=t.type===4&&!n?fb:t.value;return e===r}function v1(t,e,n){let r=4,i=t.attrs,o=i!==null?I1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Ht(r)&&!Ht(u))return!1;if(s&&Ht(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!y1(t,u,n)||u===""&&e.length===1){if(Ht(r))return!1;s=!0}}else if(r&8){if(i===null||!m1(t,i,u,n)){if(Ht(r))return!1;s=!0}}else{let l=e[++a],h=_1(u,i,jg(t),n);if(h===-1){if(Ht(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Ht(r))return!1;s=!0}}}}return Ht(r)||s}function Ht(t){return(t&1)===0}function _1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return w1(e,t)}function E1(t,e,n=!1){for(let r=0;r<e.length;r++)if(v1(t,e[r],n))return!0;return!1}function I1(t){for(let e=0;e<t.length;e++){let n=t[e];if(gT(n))return e}return t.length}function w1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Gw(t,e){return t?":not("+e.trim()+")":e}function D1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ht(s)&&(e+=Gw(o,i),i=""),r=s,o=o||!Ht(r);n++}return i!==""&&(e+=Gw(o,i)),e}function T1(t){return t.map(D1).join(",")}function b1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ht(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ln={};function pb(t,e){return t.createText(e)}function C1(t,e,n){t.setValue(e,n)}function gb(t,e){return t.createComment(f1(e))}function Bg(t,e,n){return t.createElement(e,n)}function Bu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function mb(t,e,n){t.appendChild(e,n)}function Ww(t,e,n,r,i){r!==null?Bu(t,e,n,r,i):mb(t,e,n)}function Ug(t,e,n){t.removeChild(null,e,n)}function yb(t){t.textContent=""}function A1(t,e,n){t.setAttribute(e,"style",n)}function S1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pk(t,e,r),i!==null&&S1(t,e,i),o!==null&&A1(t,e,o)}function $g(t,e,n,r,i,o,s,a,u,l,h){let p=Re+r,m=p+i,y=N1(p,m),D=typeof l=="function"?l():l;return y[$]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function N1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ln);return n}function R1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$g(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hg(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Dt]=i,p[W]=r|4|128|8|64|1024,(l!==null||t&&t[W]&2048)&&(p[W]|=2048),ZD(p),p[$e]=p[co]=t,p[vt]=n,p[Nn]=s||t&&t[Nn],p[_e]=a||t&&t[_e],p[Sn]=u||t&&t[Sn]||null,p[Yt]=o,p[tl]=zk(),p[un]=h,p[HD]=l,p[xt]=e.type==2?t[xt]:p,p}function M1(t,e,n){let r=Zt(e,t),i=R1(n),o=t[Nn].rendererFactory,s=qg(t,Hg(t,i,null,_b(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function _b(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Eb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qg(t,e){return t[Os]?t[ww][zt]=e:t[Os]=e,t[ww]=e,e}function g5(t=1){Ib(Ke(),ae(),ri()+t,!1)}function Ib(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&gu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&mu(e,o,0,n)}Qr(n)}var gl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gl||{});function Bp(t,e,n,r){let i=ne(null);try{let[o,s,a]=t.inputs[n],u=null;(s&gl.SignalBased)!==0&&(u=e[o][Rt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):GD(e,u,o,r)}finally{ne(i)}}function wb(t,e,n,r,i){let o=ri(),s=r&2;try{Qr(-1),s&&e.length>Re&&Ib(t,e,Re,!1),de(s?2:0,i),n(r,i)}finally{Qr(o),de(s?3:1,i)}}function zg(t,e,n){L1(t,e,n),(n.flags&64)===64&&j1(t,e,n)}function Db(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function P1(t,e,n,r){let o=r.get(qT,HT)||n===js.ShadowDom,s=t.selectRootElement(e,o);return x1(s),s}function x1(t){Tb(t)}var Tb=()=>null;function k1(t){xT(t)?yb(t):FO(t)}function O1(){Tb=k1}function F1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bb(t,e,n,r,i,o,s,a){if(!a&&Wg(e,t,n,r,i)){ni(e)&&V1(n,e.index);return}if(e.type&3){let u=Zt(e,n);r=F1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function V1(t,e){let n=dn(e,t);n[W]&16||(n[W]|=64)}function L1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ni(n)&&M1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ku(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Ls(e,t,s,n);if(Ks(u,e),o!==null&&H1(e,s-r,u,a,n,o),ln(a)){let l=dn(n.index,e);l[vt]=Ls(e,t,s,n)}}}function j1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sk();try{Qr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];vp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&B1(u,l)}}finally{Qr(-1),vp(s)}}function B1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Cb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];E1(e,o.selectors,!1)&&(r??=[],ln(o)?r.unshift(o):r.push(o))}return r}function U1(t,e,n,r,i,o){let s=Zt(t,e);$1(e[_e],s,o,t.value,n,r,i)}function $1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ju(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function H1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Bp(r,n,u,l)}}function Gg(t,e){let n=t[Sn],r=n?n.get(Jr,null):null;r&&r.handleError(e)}function Wg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Bp(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Bp(h,l,r,i),a=!0}return a}function q1(t,e){let n=dn(e,t),r=n[$];z1(r,n);let i=n[Dt];i!==null&&n[un]===null&&(n[un]=eb(i,n[Sn])),de(18),Kg(r,n,n[vt]),de(19,n[vt])}function z1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Kg(t,e,n){bg(e);try{let r=t.viewQuery;r!==null&&Mp(1,r,n);let i=t.template;i!==null&&wb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rn]?.finishViewCreation(t),t.staticContentQueries&&nb(t,e),t.staticViewQueries&&Mp(2,t.viewQuery,n);let o=t.components;o!==null&&G1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Cg()}}function G1(t,e){for(let n=0;n<e.length;n++)q1(t,e[n])}function Ab(t,e,n,r){let i=ne(null);try{let o=e.tView,a=t[W]&4096?4096:16,u=Hg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Wr]=l;let h=t[Rn];return h!==null&&(u[Rn]=h.createEmbeddedView(o)),Kg(o,u,n),u}finally{ne(i)}}function Up(t,e){return!e||e.firstChild===null||Vu(t)}var W1;function Qg(t,e){return W1(t,e)}var Uu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Uu||{});function po(t){return(t.flags&32)===32}function Ki(t,e,n,r,i){if(r!=null){let o,s=!1;hn(r)?o=r:Gt(r)&&(s=!0,r=r[Dt]);let a=Kt(r);t===0&&n!==null?i==null?mb(e,n,a):Bu(e,n,a,i||null,!0):t===1&&n!==null?Bu(e,n,a,i||null,!0):t===2?Ug(e,a,s):t===3&&e.destroyNode(a),o!=null&&oF(e,t,o,n,i)}}function K1(t,e){Sb(t,e),e[Dt]=null,e[Yt]=null}function Q1(t,e,n,r,i,o){r[Dt]=i,r[Yt]=e,ml(t,r,n,1,i,o)}function Sb(t,e){e[Nn].changeDetectionScheduler?.notify(9),ml(t,e,e[_e],2,null,null)}function Y1(t){let e=t[Os];if(!e)return Zf(t[$],t);for(;e;){let n=null;if(Gt(e))n=e[Os];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[zt]&&e!==t;)Gt(e)&&Zf(e[$],e),e=e[$e];e===null&&(e=t),Gt(e)&&Zf(e[$],e),n=e&&e[zt]}e=n}}function Yg(t,e){let n=t[no],r=n.indexOf(e);n.splice(r,1)}function Zg(t,e){if(uo(e))return;let n=e[_e];n.destroyNode&&ml(t,e,n,3,null,null),Y1(e)}function Zf(t,e){if(uo(e))return;let n=ne(null);try{e[W]&=-129,e[W]|=256,e[Pt]&&uf(e[Pt]),J1(t,e),Z1(t,e),e[$].type===1&&e[_e].destroy();let r=e[Wr];if(r!==null&&hn(e[$e])){r!==e[$e]&&Yg(r,e);let i=e[Rn];i!==null&&i.detachView(t)}Ap(e)}finally{ne(n)}}function Z1(t,e){let n=t.cleanup,r=e[Au];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Au]=null);let i=e[dr];if(i!==null){e[dr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Su];if(o!==null){e[Su]=null;for(let s of o)s.destroy()}}function J1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Yr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];de(4,a,u);try{u.call(a)}finally{de(5,a,u)}}else{de(4,i,o);try{o.call(i)}finally{de(5,i,o)}}}}}function X1(t,e,n){return eF(t,e.parent,n)}function eF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Dt];if(ni(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===js.None||i===js.Emulated)return null}return Zt(r,n)}function tF(t,e,n){return rF(t,e,n)}function nF(t,e,n){return t.type&40?Zt(t,n):null}var rF=nF,Kw;function Jg(t,e,n,r){let i=X1(t,r,e),o=e[_e],s=r.parent||e[Yt],a=tF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ww(o,i,n[u],a,!1);else Ww(o,i,n,a,!1);Kw!==void 0&&Kw(o,r,e,n,i)}function Ps(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return $p(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ps(t,r);{let i=t[e.index];return hn(i)?$p(-1,i):Kt(i)}}else{if(n&128)return Ps(t,e.next);if(n&32)return Qg(e,t)()||Kt(t[e.index]);{let r=Nb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kr(t[xt]);return Ps(i,r)}else return Ps(t,e.next)}}}return null}function Nb(t,e){if(e!==null){let r=t[xt][Yt],i=e.projection;return r.projection[i]}return null}function $p(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Ps(r,i)}return e[Pn]}function Xg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ks(Kt(a),r),n.flags|=2),!po(n))if(u&8)Xg(t,e,n.child,r,i,o,!1),Ki(e,t,i,a,o);else if(u&32){let l=Qg(n,r),h;for(;h=l();)Ki(e,t,i,h,o);Ki(e,t,i,a,o)}else u&16?iF(t,e,r,n,i,o):Ki(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ml(t,e,n,r,i,o){Xg(n,r,t.firstChild,e,i,o,!1)}function iF(t,e,n,r,i,o){let s=n[xt],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ki(e,t,i,h,o)}else{let l=u,h=s[$e];Vu(r)&&(l.flags|=128),Xg(t,e,l,h,i,o,!0)}}function oF(t,e,n,r,i){let o=n[Pn],s=Kt(n);o!==s&&Ki(e,t,r,o,i);for(let a=yt;a<n.length;a++){let u=n[a];ml(u[$],u,t,e,r,o)}}function sF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Uu.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Uu.Important),t.setStyle(n,r,i,o))}}function $u(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Kt(o)),hn(o)&&aF(o,r);let s=n.type;if(s&8)$u(t,e,n.child,r);else if(s&32){let a=Qg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Nb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Kr(e[xt]);$u(u[$],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aF(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&$u(r[$],r,i,e)}t[Pn]!==t[Dt]&&e.push(t[Pn])}function Rb(t){if(t[Yi]!==null){for(let e of t[Yi])e.impl.addSequence(e);t[Yi].length=0}}var Mb=[];function cF(t){return t[Pt]??uF(t)}function uF(t){let e=Mb.pop()??Object.create(dF);return e.lView=t,e}function lF(t){t.lView[Pt]!==t&&(t.lView=null,Mb.push(t))}var dF=we(ye({},Is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{qs(t.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function hF(t){let e=t[Pt]??Object.create(fF);return e.lView=t,e}var fF=we(ye({},Is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Kr(t.lView);for(;e&&!Pb(e[$]);)e=Kr(e);e&&JD(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function Pb(t){return t.type!==2}function xb(t){if(t[Su]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Su])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[W]&8192)}}var pF=100;function kb(t,e=!0,n=0){let i=t[Nn].rendererFactory,o=!1;o||i.begin?.();try{gF(t,n)}catch(s){throw e&&Gg(t,s),s}finally{o||i.end?.()}}function gF(t,e){let n=rT();try{Tw(!0),Hp(t,e);let r=0;for(;rl(t);){if(r===pF)throw new z(103,!1);r++,Hp(t,1)}}finally{Tw(n)}}function mF(t,e,n,r){if(uo(e))return;let i=e[W],o=!1,s=!1;bg(e);let a=!0,u=null,l=null;o||(Pb(t)?(l=cF(e),u=Ac(l)):nf()===null?(a=!1,l=hF(e),u=Ac(l)):e[Pt]&&(uf(e[Pt]),e[Pt]=null));try{ZD(e),rk(t.bindingStartIndex),n!==null&&wb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&gu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&mu(e,y,0,null),Wf(e,0)}if(s||yF(e),xb(e),Ob(e,0),t.contentQueries!==null&&nb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&gu(e,y)}else{let y=t.contentHooks;y!==null&&mu(e,y,1),Wf(e,1)}_F(t,e);let p=t.components;p!==null&&Vb(e,p,0);let m=t.viewQuery;if(m!==null&&Mp(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&gu(e,y)}else{let y=t.viewHooks;y!==null&&mu(e,y,2),Wf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gf]){for(let y of e[Gf])y();e[Gf]=null}o||(Rb(e),e[W]&=-73)}catch(h){throw o||qs(e),h}finally{l!==null&&(af(l,u),a&&lF(l)),Cg()}}function Ob(t,e){for(let n=FT(t);n!==null;n=VT(n))for(let r=yt;r<n.length;r++){let i=n[r];Fb(i,e)}}function yF(t){for(let e=FT(t);e!==null;e=VT(e)){if(!(e[W]&2))continue;let n=e[no];for(let r=0;r<n.length;r++){let i=n[r];JD(i)}}}function vF(t,e,n){de(18);let r=dn(e,t);Fb(r,n),de(19,r[vt])}function Fb(t,e){Eg(t)&&Hp(t,e)}function Hp(t,e){let r=t[$],i=t[W],o=t[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cf(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)mF(r,t,r.template,t[vt]);else if(i&8192){xb(t),Ob(t,1);let a=r.components;a!==null&&Vb(t,a,1),Rb(t)}}function Vb(t,e,n){for(let r=0;r<e.length;r++)vF(t,e[r],n)}function _F(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Qr(~i);else{let o=i,s=n[++r],a=n[++r];ok(s,o);let u=e[o];de(24,u),a(2,u),de(25,u)}}}finally{Qr(-1)}}function yl(t,e){let n=rT()?64:1088;for(t[Nn].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=Kr(t);if(Fs(t)&&!r)return t;t=r}return null}function Lb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jb(t,e,n,r=!0){let i=e[$];if(IF(i,e,t,n),r){let s=$p(n,t),a=e[_e],u=a.parentNode(t[Pn]);u!==null&&Q1(i,t[Yt],a,e,u,s)}let o=e[un];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function EF(t,e){let n=Hu(t,e);return n!==void 0&&Zg(n[$],n),n}function Hu(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[Wr];i!==null&&i!==t&&Yg(i,r),e>0&&(t[n-1][zt]=r[zt]);let o=bu(t,yt+e);K1(r[$],r);let s=o[Rn];s!==null&&s.detachView(o[$]),r[$e]=null,r[zt]=null,r[W]&=-129}return r}function IF(t,e,n,r){let i=yt+r,o=n.length;r>0&&(n[i-1][zt]=e),r<o-yt?(e[zt]=n[i],PD(n,yt+r,e)):(n.push(e),e[zt]=null),e[$e]=n;let s=e[Wr];s!==null&&n!==s&&Bb(s,e);let a=e[Rn];a!==null&&a.insertView(t),mp(e),e[W]|=128}function Bb(t,e){let n=t[no],r=e[$e];if(Gt(r))t[W]|=2;else{let i=r[$e][xt];e[xt]!==i&&(t[W]|=2)}n===null?t[no]=[e]:n.push(e)}var Bs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[$];return $u(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return uo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$e];if(hn(e)){let n=e[Nu],r=n?n.indexOf(this):-1;r>-1&&(Hu(e,r),bu(n,r))}this._attachedToViewContainer=!1}Zg(this._lView[$],this._lView)}onDestroy(e){XD(this._lView,e)}markForCheck(){yl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){mp(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,kb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fs(this._lView),n=this._lView[Wr];n!==null&&!e&&Yg(n,this._lView),Sb(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Fs(this._lView),r=this._lView[Wr];r!==null&&!n&&Bb(r,this._lView),mp(this._lView)}};var Xr=(()=>{class t{static __NG_ELEMENT_ID__=TF}return t})(),wF=Xr,DF=class extends wF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ab(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Bs(i)}};function TF(){return em(ut(),ae())}function em(t,e){return t.type&4?new DF(e,t,ho(t,e)):null}function tm(t,e,n,r,i){let o=t.data[e];if(o===null)o=bF(t,e,n,r,i),ik()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ek();o.injectorIndex=s===null?-1:s.injectorIndex}return Gs(o,!0),o}function bF(t,e,n,r,i){let o=tT(),s=nT(),a=s?o:o&&o.parent,u=t.data[e]=AF(t,a,n,e,r,i);return CF(t,u,o,s),u}function CF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function AF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return zs()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SF=new RegExp(`^(\\d+)*(${BT}|${jT})*(.*)`);function NF(t){let e=t.match(SF),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function RF(t){return!t.prev&&t.parent?.type===8}function Jf(t){return t.index-Re}function MF(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function vl(t,e,n,r){let i=Jf(r),o=MF(t,i);if(o===void 0){let s=t.data[nO];if(s?.[i])o=xF(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(RF(r)){let l=Jf(r.parent);o=Rp(t,l)}else{let l=Zt(u,n);if(a)o=l.firstChild;else{let h=Jf(u),p=Rp(t,h);if(u.type===2&&p){let y=Vg(t,h)+1;o=_l(y,p)}else o=l.nextSibling}}}}return o}function _l(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function PF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Zk:n=n.firstChild;break;case Jk:n=n.nextSibling;break}}return n}function xF(t,e){let[n,...r]=NF(t),i;if(n===jT)i=e[xt][Dt];else if(n===BT)i=p1(e[xt][Dt]);else{let o=Number(n);i=Kt(e[o+Re])}return PF(i,r)}var kF=!1;function OF(t){kF=t}function FF(t){let e=t[un];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[_e];for(let o of r.values())VF(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function VF(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Re);i&&Ug(t,i,!1)}}function Ub(t){let e=t[Mn]??[],r=t[$e][_e],i=[];for(let o of e)o.data[rO]!==void 0?i.push(o):$b(o,r);t[Mn]=i}function LF(t){let{lContainer:e}=t,n=e[Mn];if(n===null)return;let i=e[$e][_e];for(let o of n)$b(o,i)}function $b(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ju];for(;n<i;){let o=r.nextSibling;Ug(e,r,!1),r=o,n++}}}function El(t){Ub(t);let e=t[Dt];Gt(e)&&qu(e);for(let n=yt;n<t.length;n++)qu(t[n])}function qu(t){FF(t);let e=t[$];for(let n=Re;n<e.bindingStartIndex;n++)if(hn(t[n])){let r=t[n];El(r)}else Gt(t[n])&&qu(t[n])}function Hb(t){let e=t._views;for(let n of e){let r=kO(n);r!==null&&r[Dt]!==null&&(Gt(r)?qu(r):El(r))}}function jF(t,e,n,r){t!==null&&(n.cleanup(e),El(t.lContainer),Hb(r))}function BF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[UT]??1);i++){let o={data:r,firstChild:null};r[ju]>0&&(o.firstChild=t,t=_l(r[ju],t)),n.push(o)}return[t,n]}var qb=()=>null;function UF(t,e){let n=t[Mn];return!e||n===null||n.length===0?null:n[0].data[tO]===e?n.shift():(Ub(t),null)}function $F(){qb=UF}function Qw(t,e){return qb(t,e)}var HF=class{},zb=class{},qp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${mt(e)}.`)}},Il=class{static NULL=new qp},zu=class{},pr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>qF()}return t})();function qF(){let t=ae(),e=ut(),n=dn(e.index,t);return(Gt(n)?n:t)[_e]}var zF=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>null})}return t})();var Xf={},Xi=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xu(r);let i=this.injector.get(e,Xf,r);return i!==Xf||n===Xf?i:this.parentInjector.get(e,n,r)}};function Yw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cp(i,a);else if(o==2){let u=a,l=e[++s];r=cp(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function q(t,e=ie.Default){let n=ae();if(n===null)return We(t,e);let r=ut();return wT(r,n,at(t),e)}function I5(){let t="invalid";throw new Error(t)}function Gb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=WF(s);h===null?a=s:[a,u,l]=h,YF(t,e,n,a,o,u,l)}o!==null&&r!==null&&GF(n,r,o)}function GF(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function WF(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&ln(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,KF(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function KF(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function QF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YF(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&ln(y)&&(u=!0,QF(t,n,m)),Ep(ku(n,e),t,y.type)}nV(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=Eb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Vs(n.mergedAttrs,y.hostAttrs),JF(t,n,e,p,y),tV(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let D=y.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}ZF(t,n,o)}function ZF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Zw(0,e,i,r),Zw(1,e,i,r),Xw(e,r,!1);else{let o=n.get(i);Jw(0,e,o,r),Jw(1,e,o,r),Xw(e,r,!0)}}}function Zw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Wb(e,o)}}function Jw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Wb(e,s)}}function Wb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Xw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||jg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function JF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zr(i.type,!0)),s=new Yr(o,ln(i),q);t.blueprint[r]=s,n[r]=s,XF(t,e,r,Eb(t,n,i.hostVars,Ln),i)}function XF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;eV(s)!=a&&s.push(a),s.push(n,r,o)}}function eV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function tV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ln(e)&&(n[""]=t)}}function nV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Kb(t,e,n,r,i,o,s,a){let u=e.consts,l=Ru(u,s),h=tm(e,t,2,r,l);return o&&Gb(e,n,h,Ru(u,a),i),h.mergedAttrs=Vs(h.mergedAttrs,h.attrs),h.attrs!==null&&Yw(h,h.attrs,!1),h.mergedAttrs!==null&&Yw(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Qb(t,e){fT(t,e),zD(e)&&t.queries.elementEnd(e)}var Gu=class extends Il{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hr(e);return new ro(n,this.ngModule)}};function rV(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&gl.SignalBased)!==0};return i&&(o.transform=i),o})}function iV(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function oV(t,e,n){let r=e instanceof Wt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Xi(n,r):n}function sV(t){let e=t.get(zu,null);if(e===null)throw new z(407,!1);let n=t.get(zF,null),r=t.get(Zr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function aV(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Bg(e,n,n==="svg"?Ux:n==="math"?$x:null)}var ro=class extends zb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=iV(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=T1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){de(22);let o=ne(null);try{let s=this.componentDef,a=r?["ng-version","19.2.6"]:b1(this.componentDef.selectors[0]),u=$g(0,null,null,1,0,null,null,null,null,[a],null),l=oV(s,i||this.ngModule,e),h=sV(l),p=h.rendererFactory.createRenderer(null,s),m=r?P1(p,r,s.encapsulation,l):aV(s,p),y=Hg(null,u,null,512|_b(s),null,null,h,p,l,null,eb(m,l,!0));y[Re]=m,bg(y);let D=null;try{let N=Kb(Re,u,y,"#host",()=>[this.componentDef],!0,0);m&&(vb(p,m,N),Ks(m,y)),zg(u,y,N),rb(u,N,y),Qb(u,N),n!==void 0&&cV(N,this.ngContentSelectors,n),D=dn(N.index,y),y[vt]=D[vt],Kg(u,y,null)}catch(N){throw D!==null&&Ap(D),Ap(y),N}finally{de(23),Cg()}return new zp(this.componentType,y)}finally{ne(o)}}},zp=class extends HF{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=nl(n[$],Re),this.location=ho(this._tNode,n),this.instance=dn(this._tNode.index,n)[vt],this.hostView=this.changeDetectorRef=new Bs(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Wg(r,i[$],i,e,n);this.previousInputValues.set(e,n);let s=dn(r.index,i);yl(s,1)}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cV(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var go=(()=>{class t{static __NG_ELEMENT_ID__=uV}return t})();function uV(){let t=ut();return Zb(t,ae())}var lV=go,Yb=class extends lV{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ho(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ng(this._hostTNode,this._hostLView);if(mT(e)){let n=Pu(e,this._hostLView),r=Mu(e),i=n[$].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=eD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Up(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Vx(e),a;if(s)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new ro(hr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Wt,null);N&&(o=N)}let h=hr(u.componentType??{}),p=Qw(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Up(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[$e],l=new Yb(u,u[Yt],u[$e]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return jb(s,i,o,r),e.attachToViewContainerRef(),PD(ep(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=eD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hu(this._lContainer,n);r&&(bu(ep(this._lContainer),n),Zg(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hu(this._lContainer,n);return r&&bu(ep(this._lContainer),n)!=null?new Bs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function eD(t){return t[Nu]}function ep(t){return t[Nu]||(t[Nu]=[])}function Zb(t,e){let n,r=e[t.index];return hn(r)?n=r:(n=Lb(r,e,null,t),e[t.index]=n,qg(e,n)),Jb(n,e,t,r),new Yb(n,t,e)}function dV(t,e){let n=t[_e],r=n.createComment(""),i=Zt(e,t),o=n.parentNode(i);return Bu(n,o,r,n.nextSibling(i),!1),r}var Jb=Xb,nm=()=>!1;function hV(t,e,n){return nm(t,e,n)}function Xb(t,e,n,r){if(t[Pn])return;let i;n.type&8?i=Kt(r):i=dV(e,n),t[Pn]=i}function fV(t,e,n){if(t[Pn]&&t[Mn])return!0;let r=n[un],i=e.index-Re;if(!r||Hk(e)||Ys(r,i))return!1;let s=Rp(r,i),a=r.data[kg]?.[i],[u,l]=BF(s,a);return t[Pn]=u,t[Mn]=l,!0}function pV(t,e,n,r){nm(t,n,e)||Xb(t,e,n,r)}function gV(){Jb=pV,nm=fV}var Gp=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Wp=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)rm(e,n).matches!==null&&this.queries[n].setDirty()}},Kp=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DV(e):this.predicate=e}},Qp=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yp=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,mV(n,o)),this.matchTNodeWithReadOption(e,n,yu(n,e,o,!1,!1))}else r===Xr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,yu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===go||i===Xr&&n.type&4)this.addMatch(n.index,-2);else{let o=yu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function mV(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function yV(t,e){return t.type&11?ho(t,e):t.type&4?em(t,e):null}function vV(t,e,n,r){return n===-1?yV(e,t):n===-2?_V(t,e,r):Ls(t,t[$],n,e)}function _V(t,e,n){if(n===kt)return ho(e,t);if(n===Xr)return em(e,t);if(n===go)return Zb(e,t)}function eC(t,e,n,r){let i=e[Rn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(vV(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Zp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=eC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=yt;p<h.length;p++){let m=h[p];m[Wr]===m[$e]&&Zp(m[$],m,l,r)}if(h[no]!==null){let p=h[no];for(let m=0;m<p.length;m++){let y=p[m];Zp(y[$],y,l,r)}}}}}return r}function EV(t,e){return t[Rn].queries[e].queryList}function IV(t,e,n){let r=new Cp((n&4)===4);return Wx(t,e,r,r.destroy),(e[Rn]??=new Wp).queries.push(new Gp(r))-1}function wV(t,e,n,r){let i=Ke();if(i.firstCreatePass){let o=ut();TV(i,new Kp(e,n,r),o.index),bV(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return IV(i,ae(),n)}function DV(t){return t.split(",").map(e=>e.trim())}function TV(t,e,n){t.queries===null&&(t.queries=new Qp),t.queries.track(new Yp(e,n))}function bV(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function rm(t,e){return t.queries.getByIndex(e)}function CV(t,e){let n=t[$],r=rm(n,e);return r.crossesNgTemplate?Zp(n,t,e,[]):eC(n,t,r,e)}var io=class{},AV=class{};var Jp=class extends io{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=OD(e);this._bootstrapComponents=hb(o.bootstrap),this._r3Injector=bT(e,n,[{provide:io,useValue:this},{provide:Il,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xp=class extends AV{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jp(this.moduleType,e,[])}};var Wu=class extends io{injector;componentFactoryResolver=new Gu(this);instance=null;constructor(e){super();let n=new ks([...e.providers,{provide:io,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],e.parent||mg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tC(t,e,n=null){return new Wu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var SV=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=pg(!1,n.type),i=r.length>0?tC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:t,providedIn:"environment",factory:()=>new t(We(Wt))})}return t})();function b5(t){return $s(()=>{let e=nC(t),n=we(ye({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(SV).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||js.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&fo("NgStandalone"),rC(n);let r=t.dependencies;return n.directiveDefs=tD(r,!1),n.pipeDefs=tD(r,!0),n.id=xV(n),n})}function NV(t){return hr(t)||FD(t)}function RV(t){return t!==null}function mo(t){return $s(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function MV(t,e){if(t==null)return Gr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=gl.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function PV(t){if(t==null)return Gr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Me(t){return $s(()=>{let e=nC(t);return rC(e),e})}function im(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function nC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Gr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MV(t.inputs,e),outputs:PV(t.outputs),debugInfo:null}}function rC(t){t.features?.forEach(e=>e(t))}function tD(t,e){if(!t)return null;let n=e?VD:NV;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RV)}function xV(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kV(t){return Object.getPrototypeOf(t.prototype).constructor}function bt(t){let e=kV(t.type),n=!0,r=[t];for(;e;){let i;if(ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=tp(t.inputs),s.declaredInputs=tp(t.declaredInputs),s.outputs=tp(t.outputs);let a=i.hostBindings;a&&jV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&VV(t,u),l&&LV(t,l),OV(t,i),ox(t.outputs,i.outputs),ln(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===bt&&(n=!1)}}e=Object.getPrototypeOf(e)}FV(r)}function OV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function FV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vs(i.hostAttrs,n=Vs(n,i.hostAttrs))}}function tp(t){return t===Gr?{}:t===gt?[]:t}function VV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function LV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function jV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function iC(t){return UV(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function BV(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function UV(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function oC(t,e,n){return t[e]=n}function kn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $V(t,e,n,r){let i=kn(t,e,n);return kn(t,e+1,r)||i}function HV(t,e,n,r,i,o,s,a,u){let l=e.consts,h=tm(e,t,4,s||null,a||null);eT()&&Gb(e,n,h,Ru(l,u),Cb),h.mergedAttrs=Vs(h.mergedAttrs,h.attrs),fT(e,h);let p=h.tView=$g(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qV(t,e,n,r,i,o,s,a,u,l){let h=n+Re,p=e.firstCreatePass?HV(h,e,t,r,i,o,s,a,u):e.data[h];Gs(p,!1);let m=sC(e,t,p,n);Sg()&&Jg(e,t,m,p),Ks(m,t);let y=Lb(m,t,m,p);return t[h]=y,qg(t,y),hV(y,p,t),vg(p)&&zg(e,t,p),u!=null&&Db(t,p,l),p}function zV(t,e,n,r,i,o,s,a){let u=ae(),l=Ke(),h=Ru(l.consts,o);return qV(u,l,t,e,n,r,i,h,s,a),zV}var sC=aC;function aC(t,e,n,r){return fr(!0),e[_e].createComment("")}function GV(t,e,n,r){let i=e[un],o=!i||zs()||po(n)||Ys(i,r);if(fr(o),o)return aC(t,e);let s=i.data[eO]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=vl(i,t,e,n);fl(i,r,a);let u=Vg(i,r);return _l(u,a)}function WV(){sC=GV}var KV=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?tC(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:t,providedIn:"environment",factory:()=>new t})}return t})();var QV=new L("");function np(t,e,n){return t.get(KV).getOrCreateInjector(e,t,n,"")}function YV(t,e,n){if(t instanceof Xi){let i=t.injector,o=t.parentInjector,s=np(o,e,n);return new Xi(i,s)}let r=t.get(Wt);if(r!==t){let i=np(r,e,n);return new Xi(t,i)}return np(t,e,n)}function Qi(t,e,n,r=!1){let i=n[$e],o=i[$];if(uo(i))return;let s=Qs(i,e),a=s[ll],u=s[yO];if(!(u!==null&&t<u)&&nD(a,t)&&nD(s[pO]??-1,t)){let l=dl(o,e),p=!r&&!0&&(wO(l)!==null||Lw(l,Ue.Loading)!==null||Lw(l,Ue.Placeholder))?XV:JV;try{p(t,s,n,e,i)}catch(m){Gg(i,m)}}}function ZV(t,e){let n=t[Mn]?.findIndex(i=>i.data[iO]===e[ll])??-1;return{dehydratedView:n>-1?t[Mn][n]:null,dehydratedViewIx:n}}function JV(t,e,n,r,i){de(20);let o=IO(t,i,r);if(o!==null){e[ll]=t;let s=i[$],a=o+Re,u=nl(s,a),l=0;EF(n,l);let h;if(t===Ue.Complete){let D=dl(s,r),N=D.providers;N&&N.length>0&&(h=YV(i[Sn],D,N))}let{dehydratedView:p,dehydratedViewIx:m}=ZV(n,e),y=Ab(i,u,null,{injector:h,dehydratedView:p});if(jb(n,y,l,Up(u,p)),yl(y,2),m>-1&&n[Mn]?.splice(m,1),(t===Ue.Complete||t===Ue.Error)&&Array.isArray(e[Ji])){for(let D of e[Ji])D();e[Ji]=null}}de(21)}function nD(t,e){return t<e}function rD(t,e,n){t.loadingPromise.then(()=>{t.loadingState===wt.COMPLETE?Qi(Ue.Complete,e,n):t.loadingState===wt.FAILED&&Qi(Ue.Error,e,n)})}var XV=null;var C5=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var eL=new L("");var tL=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new eg})}return t})(),eg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Xs(t){return!!t&&typeof t.then=="function"}function cC(t){return!!t&&typeof t.subscribe=="function"}var uC=new L("");function A5(t){return Fn([{provide:uC,multi:!0,useValue:t}])}var lC=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=V(uC,{optional:!0})??[];injector=V(et);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ao(this.injector,i);if(Xs(o))n.push(o);else if(cC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),om=new L("");function nL(){df(()=>{throw new z(600,!1)})}function rL(t){return t.isBoundToModule}var iL=10;var On=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(kk);afterRenderManager=V(WT);zonelessEnabled=V(Rg);rootEffectScheduler=V(tL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Mt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(ii).hasPendingTasks.pipe(ft(n=>!n));constructor(){V(ul,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=V(Wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=et.NULL){de(10);let o=n instanceof zb;if(!this._injector.get(lC).done){let y="";throw new z(405,y)}let a;o?a=n:a=this._injector.get(Il).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=rL(a)?void 0:this._injector.get(io),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(eL,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),_u(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),de(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){de(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Og.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let n=ne(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(n),this.afterTick.next(),de(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zu,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<iL;)de(14),this.synchronizeOnce(),de(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)oL(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>rl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_u(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(om,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_u(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _u(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oL(t,e,n,r){if(!n&&!rl(t))return;kb(t,e,n&&!r?0:1)}function sL(t,e,n){let r=e[Sn],i=e[$];if(t.loadingState!==wt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Qs(e,n),s=DO(i,t);t.loadingState=wt.IN_PROGRESS,vu(1,o);let a=t.dependencyResolverFn,u=r.get(ii),l=u.add();return a?(t.loadingPromise=Promise.allSettled(a()).then(h=>{let p=!1,m=[],y=[];for(let D of h)if(D.status==="fulfilled"){let N=D.value,R=hr(N)||FD(N);if(R)m.push(R);else{let k=VD(N);k&&y.push(k)}}else{p=!0;break}if(t.loadingPromise=null,u.remove(l),p){if(t.loadingState=wt.FAILED,t.errorTmplIndex===null){let D="",N=new z(-750,!1);Gg(e,N)}}else{t.loadingState=wt.COMPLETE;let D=s.tView;if(m.length>0){D.directiveRegistry=jw(D.directiveRegistry,m);let N=m.map(k=>k.type),R=pg(!1,...N);t.providers=R}y.length>0&&(D.pipeRegistry=jw(D.pipeRegistry,y))}}),t.loadingPromise):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=wt.COMPLETE,u.remove(l)}),t.loadingPromise)}function aL(t,e){return e[Sn].get(QV,null,{optional:!0})?.behavior!==QT.Manual}function cL(t,e,n){let r=e[$],i=e[n.index];if(!aL(t,e))return;let o=Qs(e,n),s=dl(r,n);switch(_O(o),s.loadingState){case wt.NOT_STARTED:Qi(Ue.Loading,n,i),sL(s,e,n),s.loadingState===wt.IN_PROGRESS&&rD(s,n,i);break;case wt.IN_PROGRESS:Qi(Ue.Loading,n,i),rD(s,n,i);break;case wt.COMPLETE:Qi(Ue.Complete,n,i);break;case wt.FAILED:Qi(Ue.Error,n,i);break;default:}}function uL(t,e,n){return _(this,null,function*(){let r=t.get(Fg);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=BO(e,t);if(s.length===0)return;o!==null&&s.shift(),hL(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield iD(t,s,n):r.awaitParentBlock(a,()=>_(this,null,function*(){return yield iD(t,s,n)}))})}function iD(t,e,n){return _(this,null,function*(){let r=t.get(Fg),i=r.hydrating,o=t.get(ii),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],h=r.get(l);if(h!=null){if(yield pL(h),yield fL(t),lL(h)){LF(h),oD(e.slice(u),r);break}i.get(l).resolve()}else{dL(u,e,r),oD(e.slice(u),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),jF(r.get(a),e,r,t.get(On))})}function lL(t){return Qs(t.lView,t.tNode)[ll]===Ue.Error}function dL(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&El(i.lContainer)}function oD(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function hL(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function fL(t){return new Promise(e=>KT(e,{injector:t}))}function pL(t){return _(this,null,function*(){let{tNode:e,lView:n}=t,r=Qs(n,e);return new Promise(i=>{gL(r,i),cL(2,n,e)})})}function gL(t,e){Array.isArray(t[Ji])||(t[Ji]=[]),t[Ji].push(e)}function sm(t,e,n,r){let i=ae(),o=il();if(kn(i,o,e)){let s=Ke(),a=Ag();U1(a,i,t,e,n,r)}return sm}function dC(t,e,n,r){return kn(t,il(),n)?e+Ju(n)+r:Ln}function hu(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function mL(t){return(t&2)==2}function yL(t,e){return t&131071|e<<17}function tg(t){return t|2}function oo(t){return(t&131068)>>2}function rp(t,e){return t&-131069|e<<2}function vL(t){return(t&1)===1}function ng(t){return t|1}function _L(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ei(s),u=oo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Hs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ei(t[a+1]);t[r+1]=hu(m,a),m!==0&&(t[m+1]=rp(t[m+1],r)),t[a+1]=yL(t[a+1],r)}else t[r+1]=hu(a,0),a!==0&&(t[a+1]=rp(t[a+1],r)),a=r;else t[r+1]=hu(u,0),a===0?a=r:t[u+1]=rp(t[u+1],r),u=r;l&&(t[r+1]=tg(t[r+1])),sD(t,h,r,!0),sD(t,h,r,!1),EL(e,h,t,r,o),s=hu(a,u),o?e.classBindings=s:e.styleBindings=s}function EL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Hs(o,e)>=0&&(n[r+1]=ng(n[r+1]))}function sD(t,e,n,r){let i=t[n+1],o=e===null,s=r?ei(i):oo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];IL(u,e)&&(a=!0,t[s+1]=r?ng(l):tg(l)),s=r?ei(l):oo(l)}a&&(t[n+1]=r?tg(i):ng(i))}function IL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Hs(t,e)>=0:!1}var qt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wL(t){return t.substring(qt.key,qt.keyEnd)}function DL(t){return TL(t),hC(t,fC(t,0,qt.textEnd))}function hC(t,e){let n=qt.textEnd;return n===e?-1:(e=qt.keyEnd=bL(t,qt.key=e,n),fC(t,e,n))}function TL(t){qt.key=0,qt.keyEnd=0,qt.value=0,qt.valueEnd=0,qt.textEnd=t.length}function fC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function CL(t,e,n){let r=ae(),i=il();if(kn(r,i,e)){let o=Ke(),s=Ag();bb(o,s,r,t,e,r[_e],n,!1)}return CL}function rg(t,e,n,r,i){Wg(e,t,n,i?"class":"style",r)}function wl(t,e){return AL(t,e,null,!0),wl}function S5(t){gC(xL,pC,t,!0)}function pC(t,e){for(let n=DL(e);n>=0;n=hC(e,n))el(t,wL(e),!0)}function AL(t,e,n,r){let i=ae(),o=Ke(),s=iT(2);if(o.firstUpdatePass&&yC(o,t,s,r),e!==Ln&&kn(i,s,e)){let a=o.data[ri()];vC(o,a,i,i[_e],t,i[s+1]=OL(e,n),r,s)}}function gC(t,e,n,r){let i=Ke(),o=iT(2);i.firstUpdatePass&&yC(i,null,o,r);let s=ae();if(n!==Ln&&kn(s,o,n)){let a=i.data[ri()];if(_C(a,r)&&!mC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=cp(u,n||"")),rg(i,a,s,n,r)}else kL(i,a,s,s[_e],s[o+1],s[o+1]=PL(t,e,n),r,o)}}function mC(t,e){return e>=t.expandoStartIndex}function yC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ri()],s=mC(t,n);_C(o,r)&&e===null&&!s&&(e=!1),e=SL(i,o,e,r),_L(i,o,e,n,s,r)}}function SL(t,e,n,r){let i=ak(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ip(null,t,e,n,r),n=Us(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ip(i,t,e,n,r),o===null){let u=NL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ip(null,t,e,u[1],r),u=Us(u,e.attrs,r),RL(t,e,r,u))}else o=ML(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function NL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(oo(r)!==0)return t[ei(r)]}function RL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ei(i)]=r}function ML(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Us(r,s,n)}return Us(r,e.attrs,n)}function ip(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Us(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Us(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),el(t,s,n?!0:e[++o]))}return t===void 0?null:t}function PL(t,e,n){if(n==null||n==="")return gt;let r=[],i=Zs(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function xL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&el(t,r,n)}function kL(t,e,n,r,i,o,s,a){i===Ln&&(i=gt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,D=null,N;h===p?(u+=2,l+=2,m!==y&&(D=p,N=y)):p===null||h!==null&&h<p?(u+=2,D=h):(l+=2,D=p,N=y),D!==null&&vC(t,e,n,r,D,N,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function vC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=vL(l)?aD(u,e,n,i,oo(l),s):void 0;if(!Ku(h)){Ku(o)||mL(l)&&(o=aD(u,null,n,i,a,s));let p=YD(ri(),n);sF(r,s,p,i,o)}}function aD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Ln&&(m=p?gt:void 0);let y=p?qf(m,r):h===r?m:void 0;if(l&&!Ku(y)&&(y=qf(u,r)),Ku(y)&&(a=y,s))return a;let D=t[i+1];i=s?ei(D):oo(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=qf(u,r))}return a}function Ku(t){return t!==void 0}function OL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(Zs(t)))),t}function _C(t,e){return(t.flags&(e?8:16))!==0}function N5(t,e,n){let r=ae(),i=dC(r,t,e,n);gC(el,pC,i,!0)}function EC(t,e,n,r){let i=ae(),o=Ke(),s=Re+t,a=i[_e],u=o.firstCreatePass?Kb(s,o,i,e,Cb,eT(),n,r):o.data[s],l=wC(o,i,u,a,e,t);i[s]=l;let h=vg(u);return Gs(u,!0),vb(a,l,u),!po(u)&&Sg()&&Jg(o,i,l,u),(Kx()===0||h)&&Ks(l,i),Qx(),h&&(zg(o,i,u),rb(o,u,i)),r!==null&&Db(i,u),EC}function IC(){let t=ut();nT()?tk():(t=t.parent,Gs(t,!1));let e=t;Zx(e)&&Xx(),Yx();let n=Ke();return n.firstCreatePass&&Qb(n,e),e.classesWithoutHost!=null&&hk(e)&&rg(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fk(e)&&rg(n,e,ae(),e.stylesWithoutHost,!1),IC}function FL(t,e,n,r){return EC(t,e,n,r),IC(),FL}var wC=(t,e,n,r,i,o)=>(fr(!0),Bg(r,i,dT()));function VL(t,e,n,r,i,o){let s=e[un],a=!s||zs()||po(n)||Ys(s,o);if(fr(a),a)return Bg(r,i,dT());let u=vl(s,t,e,n);return tb(s,o)&&fl(s,o,u.nextSibling),s&&(PT(n)||xT(u))&&ni(n)&&(Jx(n),yb(u)),u}function LL(){wC=VL}var jL=(t,e,n,r)=>(fr(!0),gb(e[_e],""));function BL(t,e,n,r){let i,o=e[un],s=!o||zs()||Ys(o,r)||po(n);if(fr(s),s)return gb(e[_e],"");let a=vl(o,t,e,n),u=LO(o,r);return fl(o,r,a),i=_l(u,a),i}function UL(){jL=BL}function R5(){return ae()}var $r=void 0;function $L(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var HL=["en",[["a","p"],["AM","PM"],$r],[["AM","PM"],$r,$r],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$r,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$r,"{1} 'at' {0}",$r],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$L],op={};function Ot(t){let e=qL(t),n=cD(e);if(n)return n;let r=e.split("-")[0];if(n=cD(r),n)return n;if(r==="en")return HL;throw new z(701,!1)}function cD(t){return t in op||(op[t]=lr.ng&&lr.ng.common&&lr.ng.common.locales&&lr.ng.common.locales[t]),op[t]}var Pe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pe||{});function qL(t){return t.toLowerCase().replace(/_/g,"-")}var Qu="en-US";var zL=Qu;function GL(t){typeof t=="string"&&(zL=t.toLowerCase().replace(/_/g,"-"))}function uD(t,e,n){return function r(i){if(i===Function)return n;let o=ni(t)?dn(t.index,e):e;yl(o,5);let s=e[vt],a=lD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=lD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function lD(t,e,n,r){let i=ne(null);try{return de(6,e,n),n(r)!==!1}catch(o){return WL(t,o),!1}finally{de(7,e,n),ne(i)}}function WL(t,e){let n=t[Sn],r=n?n.get(Jr,null):null;r&&r.handleError(e)}function dD(t,e,n,r,i,o){let s=e[n],a=e[$],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?wg(a):null,m=Ig(e),y=h.subscribe(o),D=m.length;m.push(o,y),p&&p.push(i,t.index,D,-(D+1))}var DC=(t,e,n)=>{};function hD(t){DC=t}function si(t,e,n,r){let i=ae(),o=Ke(),s=ut();return TC(o,i,i[_e],s,t,e,r),si}function KL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Au],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function TC(t,e,n,r,i,o,s){let a=vg(r),l=t.firstCreatePass?wg(t):null,h=Ig(e),p=!0;if(r.type&3||s){let m=Zt(r,e),y=s?s(m):m,D=h.length,N=s?k=>s(Kt(k[r.index])):r.index,R=null;if(!s&&a&&(R=KL(t,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=uD(r,e,o),DC(y,i,o);let k=n.listen(y,i,o);h.push(o,k),l&&l.push(i,N,D,D+1)}}else o=uD(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let D=0;D<y.length;D+=2){let N=y[D],R=y[D+1];dD(r,e,N,R,i,o)}if(m&&m.length)for(let D of m)dD(r,e,D,i,i,o)}}function M5(t=1){return uk(t)}function P5(t,e,n,r){wV(t,e,n,r)}function x5(t){let e=ae(),n=Ke(),r=oT();Tg(r+1);let i=rm(n,r);if(t.dirty&&Hx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=CV(e,r);t.reset(o,Vk),t.notifyOnChanges()}return!0}return!1}function k5(){return EV(ae(),oT())}function QL(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function O5(t){let e=nk();return _g(e,Re+t)}function F5(t,e=""){let n=ae(),r=Ke(),i=t+Re,o=r.firstCreatePass?tm(r,i,1,e,null):r.data[i],s=bC(r,n,o,e,t);n[i]=s,Sg()&&Jg(r,n,s,o),Gs(o,!1)}var bC=(t,e,n,r,i)=>(fr(!0),pb(e[_e],r));function YL(t,e,n,r,i){let o=e[un],s=!o||zs()||po(n)||Ys(o,i);return fr(s),s?pb(e[_e],r):vl(o,t,e,n)}function ZL(){bC=YL}function JL(t){return CC("",t,""),JL}function CC(t,e,n){let r=ae(),i=dC(r,t,e,n);return i!==Ln&&XL(r,ri(),i),CC}function XL(t,e,n){let r=YD(e,t);C1(t[_e],r,n)}function e2(t,e,n){MT(e)&&(e=e());let r=ae(),i=il();if(kn(r,i,e)){let o=Ke(),s=Ag();bb(o,s,r,t,e,r[_e],n,!1)}return e2}function V5(t,e){let n=MT(t);return n&&t.set(e),n}function t2(t,e){let n=ae(),r=Ke(),i=ut();return TC(r,n,n[_e],i,t,e),t2}function n2(t,e,n){let r=Ke();if(r.firstCreatePass){let i=ln(t);ig(n,r.data,r.blueprint,i,!0),ig(e,r.data,r.blueprint,i,!1)}}function ig(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let o=0;o<t.length;o++)ig(t[o],e,n,r,i);else{let o=Ke(),s=ae(),a=ut(),u=to(t)?t:at(t.provide),l=UD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(to(t)||!t.multi){let y=new Yr(l,i,q),D=ap(u,e,i?h:h+m,p);D===-1?(Ep(ku(a,s),o,u),sp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=ap(u,e,h+m,p),D=ap(u,e,h,h+m),N=y>=0&&n[y],R=D>=0&&n[D];if(i&&!R||!i&&!N){Ep(ku(a,s),o,u);let k=o2(i?i2:r2,n.length,i,r,l);!i&&R&&(n[D].providerFactory=k),sp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=AC(n[i?D:y],l,!i&&r);sp(o,t,y>-1?y:D,k)}!i&&r&&R&&n[D].componentProviders++}}}function sp(t,e,n,r){let i=to(e),o=Mx(e);if(i||o){let u=(o?at(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function AC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ap(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function r2(t,e,n,r){return og(this.multi,[])}function i2(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ls(n,n[$],this.providerFactory.index,r);o=a.slice(0,s),og(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],og(i,o);return o}function og(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function o2(t,e,n,r,i){let o=new Yr(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,AC(o,i,r&&!n),o}function jn(t,e=[]){return n=>{n.providersResolver=(r,i)=>n2(r,i?i(t):t,e)}}function L5(t,e,n,r,i){return NC(ae(),Dg(),t,e,n,r,i)}function SC(t,e){let n=t[e];return n===Ln?void 0:n}function s2(t,e,n,r,i,o){let s=e+n;return kn(t,s,i)?oC(t,s+1,o?r.call(o,i):r(i)):SC(t,s+1)}function NC(t,e,n,r,i,o,s){let a=e+n;return $V(t,a,i,o)?oC(t,a+2,s?r.call(s,i,o):r(i,o)):SC(t,a+2)}function j5(t,e){let n=Ke(),r,i=t+Re;n.firstCreatePass?(r=a2(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=zr(r.type,!0)),s,a=pt(q);try{let u=xu(!1),l=o();return xu(u),QL(n,ae(),i,l),l}finally{pt(a)}}function a2(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function B5(t,e,n){let r=t+Re,i=ae(),o=_g(i,r);return RC(i,r)?s2(i,Dg(),e,o.transform,n,o):o.transform(n)}function U5(t,e,n,r){let i=t+Re,o=ae(),s=_g(o,i);return RC(o,i)?NC(o,Dg(),e,s.transform,n,r,s):s.transform(n,r)}function RC(t,e){return t[$].data[e].pure}var ti=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},MC=new ti("19.2.6"),sg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$5=(()=>{class t{compileModuleSync(n){return new Xp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=OD(n),o=hb(i.declarations).reduce((s,a)=>{let u=hr(a);return u&&s.push(new ro(u)),s},[]);return new sg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var c2=(()=>{class t{zone=V(Te);changeDetectionScheduler=V(Zr);applicationRef=V(On);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),u2=new L("",{factory:()=>!1});function PC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te(we(ye({},xC()),{scheduleInRootZone:n})),[{provide:Te,useFactory:t},{provide:eo,multi:!0,useFactory:()=>{let r=V(c2,{optional:!0});return()=>r.initialize()}},{provide:eo,multi:!0,useFactory:()=>{let r=V(l2);return()=>{r.initialize()}}},e===!0?{provide:AT,useValue:!0}:[],{provide:ST,useValue:n??CT}]}function H5(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=PC({ngZoneFactory:()=>{let i=xC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&fo("NgZone_CoalesceEvent"),new Te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Fn([{provide:u2,useValue:!0},{provide:Rg,useValue:!1},r])}function xC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var l2=(()=>{class t{subscription=new ke;initialized=!1;zone=V(Te);pendingTasks=V(ii);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var d2=(()=>{class t{appRef=V(On);taskService=V(ii);ngZone=V(Te);zonelessEnabled=V(Rg);tracing=V(ul,{optional:!0});disableScheduling=V(AT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(ST,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Rw:NT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function h2(){return typeof $localize<"u"&&$localize.locale||Qu}var Dl=new L("",{providedIn:"root",factory:()=>V(Dl,ie.Optional|ie.SkipSelf)||h2()});var ag=new L(""),f2=new L("");function Rs(t){return!t.moduleRef}function p2(t){let e=Rs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{Rs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Jr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Rs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ag);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ag);s.add(o),t.moduleRef.onDestroy(()=>{_u(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return m2(r,n,()=>{let o=e.get(lC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Dl,Qu);if(GL(s||Qu),!e.get(f2,!0))return Rs(t)?e.get(On):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Rs(t)){let u=e.get(On);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return g2(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function g2(t,e){let n=t.injector.get(On);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}function m2(t,e,n){try{let r=n();return Xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Eu=null;function y2(t=[],e){return et.create({name:e,providers:[{provide:BD,useValue:"platform"},{provide:ag,useValue:new Set([()=>Eu=null])},...t]})}function v2(t=[]){if(Eu)return Eu;let e=y2(t);return Eu=e,nL(),_2(e),e}function _2(t){let e=t.get(Kk,null);ao(t,()=>{e?.forEach(n=>n())})}function am(){return!1}var Tl=(()=>{class t{static __NG_ELEMENT_ID__=E2}return t})();function E2(t){return I2(ut(),ae(),(t&16)===16)}function I2(t,e,n){if(ni(t)&&!n){let r=dn(t.index,e);return new Bs(r,r)}else if(t.type&175){let r=e[xt];return new Bs(r,e)}return null}var cg=class{constructor(){}supports(e){return iC(e)}create(e){return new ug(e)}},w2=(t,e)=>e,ug=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||w2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<fD(r,i,o)?n:r,a=fD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,D=y+m;h<=D&&D<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!iC(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,BV(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new lg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},dg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Yu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pD(){return new cm([new cg])}var cm=(()=>{class t{factories;static \u0275prov=ue({token:t,providedIn:"root",factory:pD});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||pD()),deps:[[t,new wx,new Tt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new z(901,!1)}}return t})();function q5(t){de(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=v2(r),o=[PC({}),{provide:Zr,useExisting:d2},...n||[]],s=new Wu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return p2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{de(9)}}var fu=new WeakSet,gD="",Iu=[];function mD(t){return t.get(zT,sO)}function z5(){let t=[{provide:zT,useFactory:()=>{let e=!0;{let n=V(Lu);e=!!window._ejsas?.[n]}return e&&fo("NgEventReplay"),e}}];return t.push({provide:eo,useValue:()=>{let e=V(On),{injector:n}=e;if(!fu.has(e)){let r=V(Ow);mD(n)&&hD((i,o,s)=>{i.nodeType===Node.ELEMENT_NODE&&(TO(i,o,s),bO(i,r))})}},multi:!0},{provide:om,useFactory:()=>{let e=V(Lu),n=V(On),{injector:r}=n;return()=>{!mD(r)||fu.has(n)||(fu.add(n),n.onDestroy(()=>{fu.delete(n),Hf(e),hD(()=>{})}),n.whenStable().then(()=>{if(n.destroyed)return;let i=r.get(AO);D2(i,r);let o=r.get(Ow);o.get(gD)?.forEach(CO),o.delete(gD);let s=i.instance;VO(r)?n.onDestroy(()=>s.cleanUp()):s.cleanUp()}))}},multi:!0}),t}var D2=(t,e)=>{let n=e.get(Lu),r=window._ejsas[n],i=t.instance=new pw(new ou(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=gw(n);i.replayEarlyEventInfos(o),Hf(n);let s=new su(a=>{T2(e,a,a.currentTarget)});fw(i,s)};function T2(t,e,n){let r=(n&&n.getAttribute(hl))??"";/d\d+/.test(r)?b2(r,t,e,n):e.eventPhase===$f.REPLAY&&ZT(e,n)}function b2(t,e,n,r){Iu.push({event:n,currentTarget:r}),uL(e,t,C2)}function C2(t){let e=[...Iu],n=new Set(t);Iu=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(hl);n.has(o)?ZT(r,i):Iu.push({event:r,currentTarget:i})}}var yD=!1;function A2(){yD||(yD=!0,xO(),LL(),ZL(),UL(),WV(),gV(),$F(),O1())}function S2(t){return t.whenStable()}function G5(){let t=[{provide:cu,useFactory:()=>{let e=!0;return e=!!V(cl,{optional:!0})?.get(JT,null),e&&fo("NgHydration"),e}},{provide:eo,useValue:()=>{OF(!1),V(cu)&&(UO(al()),A2())},multi:!0}];return t.push({provide:qT,useFactory:()=>V(cu)},{provide:om,useFactory:()=>{if(V(cu)){let e=V(On);return()=>{S2(e).then(()=>{e.destroyed||Hb(e)})}}return()=>{}},multi:!0}),Fn(t)}function bl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Jt(t){return pf(t)}function ai(t,e){return lf(t,e?.equal)}var vD=class{[Rt];constructor(e){this[Rt]=e}destroy(){this[Rt].destroy()}};function W5(t){let e=hr(t);if(!e)return null;let n=new ro(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ea=new L("");var FC=null;function ci(){return FC}function N2(t){FC??=t}var um=class{},ta=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:()=>V(VC),providedIn:"platform"})}return t})(),R2=new L(""),VC=(()=>{class t extends ta{_location;_history;_doc=V(ea);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ci().getBaseHref(this._doc)}onPopState(n){let r=ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Al(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function kC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Xt(t){return t&&t[0]!=="?"?`?${t}`:t}var yo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:()=>V(LC),providedIn:"root"})}return t})(),Sl=new L(""),LC=(()=>{class t extends yo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(ea).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Al(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Xt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(We(ta),We(Sl,8))};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jC=(()=>{class t{_subject=new Mt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=x2(kC(OC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xt(r))}normalize(n){return t.stripTrailingSlash(P2(this._basePath,OC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Xt;static joinWithSlash=Al;static stripTrailingSlash=kC;static \u0275fac=function(r){return new(r||t)(We(yo))};static \u0275prov=ue({token:t,factory:()=>M2(),providedIn:"root"})}return t})();function M2(){return new jC(We(yo))}function P2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function OC(t){return t.replace(/\/index.html$/,"")}function x2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var k2=(()=>{class t extends yo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Al(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(We(ta),We(Sl,8))};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})();var tt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(tt||{}),pe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(pe||{}),_t=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(_t||{}),Un={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qC(t){return Ot(t)[Pe.LocaleId]}function zC(t,e,n){let r=Ot(t),i=[r[Pe.DayPeriodsFormat],r[Pe.DayPeriodsStandalone]],o=Ft(i,e);return Ft(o,n)}function GC(t,e,n){let r=Ot(t),i=[r[Pe.DaysFormat],r[Pe.DaysStandalone]],o=Ft(i,e);return Ft(o,n)}function WC(t,e,n){let r=Ot(t),i=[r[Pe.MonthsFormat],r[Pe.MonthsStandalone]],o=Ft(i,e);return Ft(o,n)}function KC(t,e){let r=Ot(t)[Pe.Eras];return Ft(r,e)}function na(t,e){let n=Ot(t);return Ft(n[Pe.DateFormat],e)}function ra(t,e){let n=Ot(t);return Ft(n[Pe.TimeFormat],e)}function ia(t,e){let r=Ot(t)[Pe.DateTimeFormat];return Ft(r,e)}function oa(t,e){let n=Ot(t),r=n[Pe.NumberSymbols][e];if(typeof r>"u"){if(e===Un.CurrencyDecimal)return n[Pe.NumberSymbols][Un.Decimal];if(e===Un.CurrencyGroup)return n[Pe.NumberSymbols][Un.Group]}return r}function QC(t){if(!t[Pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function YC(t){let e=Ot(t);return QC(e),(e[Pe.ExtraData][2]||[]).map(r=>typeof r=="string"?lm(r):[lm(r[0]),lm(r[1])])}function ZC(t,e,n){let r=Ot(t);QC(r);let i=[r[Pe.ExtraData][0],r[Pe.ExtraData][1]],o=Ft(i,e)||[];return Ft(o,n)||[]}function Ft(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function lm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var O2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nl={},F2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function JC(t,e,n,r){let i=z2(t);e=Bn(n,e)||e;let s=[],a;for(;e;)if(a=F2.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=eA(r,u),i=q2(i,r));let l="";return s.forEach(h=>{let p=$2(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function kl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Bn(t,e){let n=qC(t);if(Nl[n]??={},Nl[n][e])return Nl[n][e];let r="";switch(e){case"shortDate":r=na(t,_t.Short);break;case"mediumDate":r=na(t,_t.Medium);break;case"longDate":r=na(t,_t.Long);break;case"fullDate":r=na(t,_t.Full);break;case"shortTime":r=ra(t,_t.Short);break;case"mediumTime":r=ra(t,_t.Medium);break;case"longTime":r=ra(t,_t.Long);break;case"fullTime":r=ra(t,_t.Full);break;case"short":let i=Bn(t,"shortTime"),o=Bn(t,"shortDate");r=Rl(ia(t,_t.Short),[i,o]);break;case"medium":let s=Bn(t,"mediumTime"),a=Bn(t,"mediumDate");r=Rl(ia(t,_t.Medium),[s,a]);break;case"long":let u=Bn(t,"longTime"),l=Bn(t,"longDate");r=Rl(ia(t,_t.Long),[u,l]);break;case"full":let h=Bn(t,"fullTime"),p=Bn(t,"fullDate");r=Rl(ia(t,_t.Full),[h,p]);break}return r&&(Nl[n][e]=r),r}function Rl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function en(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function V2(t,e){return en(t,3).substring(0,e)}function Fe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=L2(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return V2(a,e);let u=oa(s,Un.MinusSign);return en(a,e,u,r,i)}}function L2(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ee(t,e,n=tt.Format,r=!1){return function(i,o){return j2(i,o,t,e,n,r)}}function j2(t,e,n,r,i,o){switch(n){case 2:return WC(e,i,r)[t.getMonth()];case 1:return GC(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=YC(e),h=ZC(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,D]=m,N=s>=y.hours&&a>=y.minutes,R=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return zC(e,i,r)[s<12?0:1];case 3:return KC(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Ml(t){return function(e,n,r){let i=-1*r,o=oa(n,Un.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+en(s,2,o)+en(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+en(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+en(s,2,o)+":"+en(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+en(s,2,o)+":"+en(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var B2=0,xl=4;function U2(t){let e=kl(t,B2,1).getDay();return kl(t,0,1+(e<=xl?xl:xl+7)-e)}function XC(t){let e=t.getDay(),n=e===0?-3:xl-e;return kl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function dm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=XC(n),s=U2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return en(i,t,oa(r,Un.MinusSign))}}function Pl(t,e=!1){return function(n,r){let o=XC(n).getFullYear();return en(o,t,oa(r,Un.MinusSign),e)}}var hm={};function $2(t){if(hm[t])return hm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ee(3,pe.Abbreviated);break;case"GGGG":e=Ee(3,pe.Wide);break;case"GGGGG":e=Ee(3,pe.Narrow);break;case"y":e=Fe(0,1,0,!1,!0);break;case"yy":e=Fe(0,2,0,!0,!0);break;case"yyy":e=Fe(0,3,0,!1,!0);break;case"yyyy":e=Fe(0,4,0,!1,!0);break;case"Y":e=Pl(1);break;case"YY":e=Pl(2,!0);break;case"YYY":e=Pl(3);break;case"YYYY":e=Pl(4);break;case"M":case"L":e=Fe(1,1,1);break;case"MM":case"LL":e=Fe(1,2,1);break;case"MMM":e=Ee(2,pe.Abbreviated);break;case"MMMM":e=Ee(2,pe.Wide);break;case"MMMMM":e=Ee(2,pe.Narrow);break;case"LLL":e=Ee(2,pe.Abbreviated,tt.Standalone);break;case"LLLL":e=Ee(2,pe.Wide,tt.Standalone);break;case"LLLLL":e=Ee(2,pe.Narrow,tt.Standalone);break;case"w":e=dm(1);break;case"ww":e=dm(2);break;case"W":e=dm(1,!0);break;case"d":e=Fe(2,1);break;case"dd":e=Fe(2,2);break;case"c":case"cc":e=Fe(7,1);break;case"ccc":e=Ee(1,pe.Abbreviated,tt.Standalone);break;case"cccc":e=Ee(1,pe.Wide,tt.Standalone);break;case"ccccc":e=Ee(1,pe.Narrow,tt.Standalone);break;case"cccccc":e=Ee(1,pe.Short,tt.Standalone);break;case"E":case"EE":case"EEE":e=Ee(1,pe.Abbreviated);break;case"EEEE":e=Ee(1,pe.Wide);break;case"EEEEE":e=Ee(1,pe.Narrow);break;case"EEEEEE":e=Ee(1,pe.Short);break;case"a":case"aa":case"aaa":e=Ee(0,pe.Abbreviated);break;case"aaaa":e=Ee(0,pe.Wide);break;case"aaaaa":e=Ee(0,pe.Narrow);break;case"b":case"bb":case"bbb":e=Ee(0,pe.Abbreviated,tt.Standalone,!0);break;case"bbbb":e=Ee(0,pe.Wide,tt.Standalone,!0);break;case"bbbbb":e=Ee(0,pe.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ee(0,pe.Abbreviated,tt.Format,!0);break;case"BBBB":e=Ee(0,pe.Wide,tt.Format,!0);break;case"BBBBB":e=Ee(0,pe.Narrow,tt.Format,!0);break;case"h":e=Fe(3,1,-12);break;case"hh":e=Fe(3,2,-12);break;case"H":e=Fe(3,1);break;case"HH":e=Fe(3,2);break;case"m":e=Fe(4,1);break;case"mm":e=Fe(4,2);break;case"s":e=Fe(5,1);break;case"ss":e=Fe(5,2);break;case"S":e=Fe(6,1);break;case"SS":e=Fe(6,2);break;case"SSS":e=Fe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ml(0);break;case"ZZZZZ":e=Ml(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ml(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ml(2);break;default:return null}return hm[t]=e,e}function eA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function H2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function q2(t,e,n){let i=t.getTimezoneOffset(),o=eA(e,i);return H2(t,-1*(o-i))}function z2(t){if(BC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return kl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(O2))return G2(r)}let e=new Date(t);if(!BC(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function G2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function BC(t){return t instanceof Date&&!isNaN(t.valueOf())}var fm=/\s+/,UC=[],W2=(()=>{class t{_ngEl;_renderer;initialClasses=UC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(fm):UC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(fm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(fm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(q(kt),q(pr))};static \u0275dir=Me({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ol=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tA=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ol(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$C(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$C(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(go),q(Xr),q(cm))};static \u0275dir=Me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function $C(t,e){t.context.$implicit=e.item}var K2=(()=>{class t{_viewContainer;_context=new Fl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HC(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HC(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(go),q(Xr))};static \u0275dir=Me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Fl=class{$implicit=null;ngIf=null};function HC(t,e){if(t&&!t.createEmbeddedView)throw new z(2020,!1)}function nA(t,e){return new z(2100,!1)}var Q2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Y2=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw nA(t,n);return n.replace(Q2,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=im({name:"titlecase",type:t,pure:!0})}return t})();var Z2="mediumDate",rA=new L(""),iA=new L(""),J2=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??Z2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return JC(n,s,o||this.locale,a)}catch(s){throw nA(t,s.message)}}static \u0275fac=function(r){return new(r||t)(q(Dl,16),q(rA,24),q(iA,24))};static \u0275pipe=im({name:"date",type:t,pure:!0})}return t})();var X2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mo({type:t});static \u0275inj=so({})}return t})();function ej(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var tj="browser",oA="server";function nj(t){return t===oA}var pm=class{};var vK=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new gm(V(ea),window)})}return t})(),gm=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=rj(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function rj(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sA=()=>{};var uA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ij=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Vl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ij(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ym;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ym=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oj=function(t){let e=uA(t);return Vl.encodeByteArray(e,!0)},aa=function(t){return oj(t).replace(/\./g,"")},Ll=function(t){try{return Vl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _m(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var sj=()=>_m().__FIREBASE_DEFAULTS__,aj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ll(t[1]);return e&&JSON.parse(e)},jl=()=>{try{return sA()||sj()||aj()||cj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Em=t=>{var e,n;return(n=(e=jl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lA=t=>{let e=Em(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Im=()=>{var t;return(t=jl())===null||t===void 0?void 0:t.config},wm=t=>{var e;return(e=jl())===null||e===void 0?void 0:e[`_${t}`]};var ui=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function li(t){return t.endsWith(".cloudworkstations.dev")}function Bl(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function dA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[aa(JSON.stringify(n)),aa(JSON.stringify(s)),""].join(".")}var sa={};function uj(){let t={prod:[],emulator:[]};for(let e of Object.keys(sa))sa[e]?t.emulator.push(e):t.prod.push(e);return t}function lj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var aA=!1;function Ul(t,e){if(typeof window>"u"||typeof document>"u"||!li(window.location.host)||sa[t]===e||sa[t]||aA)return;sa[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=uj().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{aA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=lj(r),y=n("text"),D=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),k=n("preprendIcon"),G=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Z=m.element;a(Z),h(R,N);let ge=l();u(G,k),Z.append(G,D,R,ge),document.body.appendChild(Z)}o?(D.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function dj(){var t;let e=(t=jl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yA(){return!dj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ca(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var hj="FirebaseError",Ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}},tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?fj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ct(i,a,r)}};function fj(t,e){return t.replace(pj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pj=/\{\$([^}]+)}/g;function _A(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(cA(o)&&cA(s)){if(!fn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function cA(t){return t!==null&&typeof t=="object"}function ua(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _o(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EA(t,e){let n=new vm(t,e);return n.subscribe.bind(n)}var vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mm),i.error===void 0&&(i.error=mm),i.complete===void 0&&(i.complete=mm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mm(){}var CK=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var Dm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ui;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yj(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mj(t){return t===di?void 0:t}function yj(t){return t.instantiationMode==="EAGER"}var $l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vj=[],te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(te||{}),_j={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Ej=te.INFO,Ij={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},wj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ij[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pn=class{constructor(e){this.name=e,this._logLevel=Ej,this._logHandler=wj,this._userLogHandler=null,vj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_j[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var Dj=(t,e)=>e.some(n=>t instanceof n),IA,wA;function Tj(){return IA||(IA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bj(){return wA||(wA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DA=new WeakMap,bm=new WeakMap,TA=new WeakMap,Tm=new WeakMap,Am=new WeakMap;function Cj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&DA.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function Aj(t){if(bm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});bm.set(t,e)}var Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bA(t){Cm=t(Cm)}function Sj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hl(this),e,...n);return TA.set(r,e.sort?e.sort():[e]),gn(r)}:bj().includes(t)?function(...e){return t.apply(Hl(this),e),gn(DA.get(this))}:function(...e){return gn(t.apply(Hl(this),e))}}function Nj(t){return typeof t=="function"?Sj(t):(t instanceof IDBTransaction&&Aj(t),Dj(t,Tj())?new Proxy(t,Cm):t)}function gn(t){if(t instanceof IDBRequest)return Cj(t);if(Tm.has(t))return Tm.get(t);let e=Nj(t);return e!==t&&(Tm.set(t,e),Am.set(e,t)),e}var Hl=t=>Am.get(t);function AA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=gn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(gn(s.result),u.oldVersion,u.newVersion,gn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Rj=["get","getKey","getAll","getAllKeys","count"],Mj=["put","add","delete","clear"],Sm=new Map;function CA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Mj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rj.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Sm.set(e,o),o}bA(t=>we(ye({},t),{get:(e,n,r)=>CA(e,n)||t.get(e,n,r),has:(e,n)=>!!CA(e,n)||t.has(e,n)}));var Rm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Pj(t){let e=t.getComponent();return e?.type==="VERSION"}var Mm="@firebase/app",SA="0.13.0";var $n=new pn("@firebase/app"),xj="@firebase/app-compat",kj="@firebase/analytics-compat",Oj="@firebase/analytics",Fj="@firebase/app-check-compat",Vj="@firebase/app-check",Lj="@firebase/auth",jj="@firebase/auth-compat",Bj="@firebase/database",Uj="@firebase/data-connect",$j="@firebase/database-compat",Hj="@firebase/functions",qj="@firebase/functions-compat",zj="@firebase/installations",Gj="@firebase/installations-compat",Wj="@firebase/messaging",Kj="@firebase/messaging-compat",Qj="@firebase/performance",Yj="@firebase/performance-compat",Zj="@firebase/remote-config",Jj="@firebase/remote-config-compat",Xj="@firebase/storage",eB="@firebase/storage-compat",tB="@firebase/firestore",nB="@firebase/ai",rB="@firebase/firestore-compat",iB="firebase",oB="11.8.0";var Pm="[DEFAULT]",sB={[Mm]:"fire-core",[xj]:"fire-core-compat",[Oj]:"fire-analytics",[kj]:"fire-analytics-compat",[Vj]:"fire-app-check",[Fj]:"fire-app-check-compat",[Lj]:"fire-auth",[jj]:"fire-auth-compat",[Bj]:"fire-rtdb",[Uj]:"fire-data-connect",[$j]:"fire-rtdb-compat",[Hj]:"fire-fn",[qj]:"fire-fn-compat",[zj]:"fire-iid",[Gj]:"fire-iid-compat",[Wj]:"fire-fcm",[Kj]:"fire-fcm-compat",[Qj]:"fire-perf",[Yj]:"fire-perf-compat",[Zj]:"fire-rc",[Jj]:"fire-rc-compat",[Xj]:"fire-gcs",[eB]:"fire-gcs-compat",[tB]:"fire-fst",[rB]:"fire-fst-compat",[nB]:"fire-vertex","fire-js":"fire-js",[iB]:"fire-js-all"};var la=new Map,aB=new Map,xm=new Map;function NA(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){let e=t.name;if(xm.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,t);for(let n of la.values())NA(n,t);for(let n of aB.values())NA(n,t);return!0}function Eo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t==null?!1:t.settings!==void 0}var cB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new tn("app","Firebase",cB);var km=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};var mr=oB;function Vm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=Im()),!n)throw gr.create("no-options");let o=la.get(i);if(o){if(fn(n,o.options)&&fn(r,o.config))return o;throw gr.create("duplicate-app",{appName:i})}let s=new $l(i);for(let u of xm.values())s.addComponent(u);let a=new km(n,r,s);return la.set(i,a),a}function hi(t=Pm){let e=la.get(t);if(!e&&t===Pm&&Im())return Vm();if(!e)throw gr.create("no-app",{appName:t});return e}function ql(){return Array.from(la.values())}function Se(t,e,n){var r;let i=(r=sB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}nn(new lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uB="firebase-heartbeat-database",lB=1,da="firebase-heartbeat-store",Nm=null;function xA(){return Nm||(Nm=AA(uB,lB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Nm}function dB(t){return _(this,null,function*(){try{let n=(yield xA()).transaction(da),r=yield n.objectStore(da).get(kA(t));return yield n.done,r}catch(e){if(e instanceof Ct)$n.warn(e.message);else{let n=gr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(n.message)}}})}function RA(t,e){return _(this,null,function*(){try{let r=(yield xA()).transaction(da,"readwrite");yield r.objectStore(da).put(e,kA(t)),yield r.done}catch(n){if(n instanceof Ct)$n.warn(n.message);else{let r=gr.create("idb-set",{originalErrorMessage:n?.message});$n.warn(r.message)}}})}function kA(t){return`${t.name}!${t.options.appId}`}var hB=1024,fB=30,Om=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>fB){let s=gB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=MA(),{heartbeatsToSend:r,unsentEntries:i}=pB(this._heartbeatsCache.heartbeats),o=aa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $n.warn(n),""}})}};function MA(){return new Date().toISOString().substring(0,10)}function pB(t,e=hB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return ca()?vA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PA(t){return aa(JSON.stringify({version:2,heartbeats:t})).length}function gB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function mB(t){nn(new lt("platform-logger",e=>new Rm(e),"PRIVATE")),nn(new lt("heartbeat",e=>new Om(e),"PRIVATE")),Se(Mm,SA,t),Se(Mm,SA,"esm2017"),Se("fire-js","")}mB("");var yB="firebase",vB="11.8.1";Se(yB,vB,"app");function Lm(t){t===void 0&&(yg(Lm),t=V(et));let e=t.get(sl);return n=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var yr=new ti("ANGULARFIRE2_VERSION");function ha(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wo=(t,e)=>{let n=e?[e]:ql(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Io=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Io||{}),OA=am()&&typeof Zone<"u"?Io.WARN:Io.SILENT;var zl=class{zone;delegate;constructor(e,n=Sf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},vr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=V(Te);this.outsideAngular=n.runOutsideAngular(()=>new zl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new zl(typeof Zone>"u"?void 0:Zone.current,Af))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FA=!1;function _B(t,e){!FA&&(OA>Io.SILENT||am())&&(FA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),OA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function EB(t){let e=V(Te,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function fi(t){let e=V(Te,{optional:!0});return e?e.run(()=>t()):t()}var IB=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),ao(n,()=>fi(()=>t.apply(void 0,r)))),xe=(t,e,n)=>(n||=e?Io.WARN:Io.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=V(vr),s=V(sl),a=V(Wt)}catch{return _B(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=fi(()=>s.add())),i[l]=IB(i[l],r,a));let u=EB(()=>t.apply(this,i));return e?u instanceof ee?u.pipe(cr(o.outsideAngular),ar(o.insideAngular),Lm(a)):u instanceof Promise?fi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>ao(a,()=>fi(()=>l(p))),p=>ao(a,()=>fi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:fi(()=>u):u instanceof ee?u.pipe(cr(o.outsideAngular),ar(o.insideAngular)):fi(()=>u)});var Hn=class{constructor(e){return e}},pi=class{constructor(){return ql()}};function wB(t){return t&&t.length===1?t[0]:new Hn(hi())}var jm=new L("angularfire2._apps"),DB={provide:Hn,useFactory:wB,deps:[[new Tt,jm]]},TB={provide:pi,deps:[[new Tt,jm]]};function bB(t){return(e,n)=>{let r=n.get(xg);Se("angularfire",yr.full,"core"),Se("angularfire",yr.full,"app"),Se("angular",MC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function TQ(t,...e){return Fn([DB,TB,{provide:jm,useFactory:bB(t),multi:!0,deps:[Te,et,vr,...e]}])}var bQ=xe(Vm,!0);var CB=new Map,AB={activated:!1,tokenObservers:[]},SB={initialized:!1,enabled:!1};function rn(t){return CB.get(t)||Object.assign({},AB)}function BA(){return SB}var NB="https://content-firebaseappcheck.googleapis.com/v1";var RB="exchangeDebugToken",VA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},kQ=24*60*60*1e3;var $m=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new ui,this.pending.promise.catch(n=>{}),yield MB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ui,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function MB(t){return new Promise(e=>{setTimeout(e,t)})}var PB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_r=new tn("appCheck","AppCheck",PB);function UA(t){if(!rn(t).activated)throw _r.create("use-before-activation",{appName:t.name})}function $A(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw _r.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw _r.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw _r.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function HA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${NB}/projects/${n}/apps/${r}:${RB}?key=${i}`,body:{debug_token:e}}}var xB="firebase-app-check-database",kB=1,Hm="firebase-app-check-store";var Gl=null;function OB(){return Gl||(Gl=new Promise((t,e)=>{try{let n=indexedDB.open(xB,kB);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(_r.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Hm,{keyPath:"compositeKey"})}}}catch(n){e(_r.create("storage-open",{originalErrorMessage:n?.message}))}}),Gl)}function FB(t,e){return VB(LB(t),e)}function VB(t,e){return _(this,null,function*(){let r=(yield OB()).transaction(Hm,"readwrite"),o=r.objectStore(Hm).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(_r.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function LB(t){return`${t.options.appId}-${t.name}`}var fa=new pn("@firebase/app-check");function Bm(t,e){return ca()?FB(t,e).catch(n=>{fa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qA(){return BA().enabled}function zA(){return _(this,null,function*(){let t=BA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var jB={error:"UNKNOWN_ERROR"};function BB(t){return Vl.encodeString(JSON.stringify(t),!1)}function qm(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;UA(r);let i=rn(r),o=i.token,s;if(o&&!pa(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(pa(l)?o=l:yield Bm(r,void 0))}if(!e&&o&&pa(o))return{token:o.token};let a=!1;if(qA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$A(HA(r,yield zA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Bm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?fa.warn(l.message):n&&fa.error(l),Um(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield rn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?fa.warn(l.message):n&&fa.error(l),s=l}let u;return o?s?pa(o)?u={token:o.token,internalError:s}:u=Um(s):(u={token:o.token},i.token=o,yield Bm(r,o)):u=Um(s),a&&qB(r,u),u})}function UB(t){return _(this,null,function*(){let e=t.app;UA(e);let{provider:n}=rn(e);if(qA()){let r=yield zA(),{token:i}=yield $A(HA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function $B(t,e,n,r){let{app:i}=t,o=rn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&pa(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),LA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>LA(t))}function GA(t,e){let n=rn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LA(t){let{app:e}=t,n=rn(e),r=n.tokenRefresher;r||(r=HB(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function HB(t){let{app:e}=t;return new $m(()=>_(this,null,function*(){let n=rn(e),r;if(n.token?r=yield qm(t,!0):r=yield qm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=rn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},VA.RETRIAL_MIN_WAIT,VA.RETRIAL_MAX_WAIT)}function qB(t,e){let n=rn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function pa(t){return t.expireTimeMillis-Date.now()>0}function Um(t){return{token:BB(jB),error:t}}var zm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=rn(this.app);for(let n of e)GA(this.app,n.next);return Promise.resolve()}};function zB(t,e){return new zm(t,e)}function GB(t){return{getToken:e=>qm(t,e),getLimitedUseToken:()=>UB(t),addTokenListener:e=>$B(t,"INTERNAL",e),removeTokenListener:e=>GA(t.app,e)}}var WB="@firebase/app-check",KB="0.10.0";var QB="app-check",jA="app-check-internal";function YB(){nn(new lt(QB,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return zB(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(jA).initialize()})),nn(new lt(jA,t=>{let e=t.getProvider("app-check").getImmediate();return GB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Se(WB,KB)}YB();var ZB="app-check";var Do=class{constructor(){return wo(ZB)}};var JB=["localhost","0.0.0.0","127.0.0.1"],WQ=typeof window<"u"&&JB.includes(window.location.hostname);function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var l0=u0,d0=new tn("auth","Firebase",u0());var Jl=new pn("@firebase/auth");function XB(t,...e){Jl.logLevel<=te.WARN&&Jl.warn(`Auth (${mr}): ${t}`,...e)}function Kl(t,...e){Jl.logLevel<=te.ERROR&&Jl.error(`Auth (${mr}): ${t}`,...e)}function yn(t,...e){throw gy(t,...e)}function gi(t,...e){return gy(t,...e)}function h0(t,e,n){let r=Object.assign(Object.assign({},l0()),{[e]:n});return new tn("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return h0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d0.create(t,...e)}function H(t,e,...n){if(!t)throw gy(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Kl(e),new Error(e)}function Dr(t,e){t||qn(e)}function Qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eU(){return WA()==="http:"||WA()==="https:"}function WA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||pA()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=hA()||gA()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function my(t,e){Dr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Xl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oU=new mi(3e4,6e4);function vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tr(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return f0(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ua(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return fA()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&li(t.emulatorConfig.host)&&(y.credentials="include"),Xl.fetch()(yield p0(t,t.config.apiHost,n,p),y)}))})}function f0(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},rU),e);try{let i=new Ym(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wl(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw h0(t,h,l);yn(t,h)}}catch(i){if(i instanceof Ct)throw i;yn(t,"network-request-failed",{message:String(i)})}})}function ld(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Tr(t,e,n,r,i);return"mfaPendingCredential"in l&&yn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function p0(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`;return iU.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function sU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ym=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),oU.get())})}};function Wl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gi(t,e,r);return i.customData._tokenResponse=n,i}function KA(t){return t!==void 0&&t.enterprise!==void 0}var Zm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function aU(t,e){return _(this,null,function*(){return Tr(t,"GET","/v2/recaptchaConfig",vi(t,e))})}function cU(t,e){return _(this,null,function*(){return Tr(t,"POST","/v1/accounts:delete",e)})}function ed(t,e){return _(this,null,function*(){return Tr(t,"POST","/v1/accounts:lookup",e)})}function ma(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yy(t,e=!1){return _(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=vy(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ma(Gm(i.auth_time)),issuedAtTime:ma(Gm(i.iat)),expirationTime:ma(Gm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Gm(t){return Number(t)*1e3}function vy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ll(n);return i?JSON.parse(i):(Kl("Failed to decode base64 JWT payload"),null)}catch(i){return Kl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QA(t){let e=vy(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function va(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ct&&uU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function uU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Jm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _a=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function td(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield va(t,ed(n,{idToken:r}));H(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?g0(o.providerUserInfo):[],a=lU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _a(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function _y(t){return _(this,null,function*(){let e=Ae(t);yield td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function g0(t){return t.map(e=>{var{providerId:n}=e,r=Nf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dU(t,e){return _(this,null,function*(){let n=yield f0(t,{},()=>_(this,null,function*(){let r=ua({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield p0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xl.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function hU(t,e){return _(this,null,function*(){return Tr(t,"POST","/v2/accounts:revokeToken",vi(t,e))})}var ya=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){H(e.length!==0,"internal-error");let n=QA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield dU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(H(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(H(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function Er(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ir=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _a(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield va(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yy(this,e)}reload(){return _y(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield td(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(At(this.auth.app))return Promise.reject(wr(this.auth));let e=yield this.getIdToken();return yield va(this,cU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Z,emailVerified:ge,isAnonymous:it,providerData:fe,stsTokenManager:T}=n;H(Z&&T,e,"internal-error");let v=ya.fromJSON(this.name,T);H(typeof Z=="string",e,"internal-error"),Er(p,e.name),Er(m,e.name),H(typeof ge=="boolean",e,"internal-error"),H(typeof it=="boolean",e,"internal-error"),Er(y,e.name),Er(D,e.name),Er(N,e.name),Er(R,e.name),Er(k,e.name),Er(G,e.name);let I=new t({uid:Z,auth:e,email:m,emailVerified:ge,displayName:p,isAnonymous:it,photoURL:D,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:G});return fe&&Array.isArray(fe)&&(I.providerData=fe.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new ya;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield td(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];H(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?g0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ya;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _a(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var YA=new Map;function zn(t){Dr(t instanceof Function,"Expected a class definition");let e=YA.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YA.set(t,e),e)}var fU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Xm=fU;function Ql(t,e,n){return`firebase:${t}:${e}:${n}`}var nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ql(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ql("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield ed(this.auth,{idToken:e}).catch(()=>{});return n?Ir._fromGetAccountInfoResponse(this.auth,n,e):null}return Ir._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(zn(Xm),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||zn(Xm),s=Ql(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield ed(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Ir._fromGetAccountInfoResponse(e,m,h)}else p=Ir._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function ZA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I0(e))return"Blackberry";if(w0(e))return"Webos";if(y0(e))return"Safari";if((e.includes("chrome/")||v0(e))&&!e.includes("edge/"))return"Chrome";if(E0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function m0(t=He()){return/firefox\//i.test(t)}function y0(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v0(t=He()){return/crios\//i.test(t)}function _0(t=He()){return/iemobile/i.test(t)}function E0(t=He()){return/android/i.test(t)}function I0(t=He()){return/blackberry/i.test(t)}function w0(t=He()){return/webos/i.test(t)}function Ey(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pU(t=He()){var e;return Ey(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gU(){return mA()&&document.documentMode===10}function D0(t=He()){return Ey(t)||E0(t)||w0(t)||I0(t)||/windows phone/i.test(t)||_0(t)}function T0(t,e=[]){let n;switch(t){case"Browser":n=ZA(He());break;case"Worker":n=`${ZA(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${r}`}var ey=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function mU(n){return _(this,arguments,function*(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",vi(t,e))})}var yU=6,ty=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:yU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ny=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rd(this),this.idTokenSubscription=new rd(this),this.beforeStateQueue=new ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield nd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield ed(this,{idToken:e}),r=yield Ir._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(At(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nU()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(At(this.app))return Promise.reject(wr(this));let n=e?Ae(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return At(this.app)?Promise.reject(wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return At(this.app)?Promise.reject(wr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield mU(this),n=new ty(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=yield nd.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&XB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function To(t){return Ae(t)}var rd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EA(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dd={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vU(t){dd=t}function b0(t){return dd.loadJS(t)}function _U(){return dd.recaptchaEnterpriseScript}function EU(){return dd.gapiScript}function C0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var ry=class{constructor(){this.enterprise=new iy}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},iy=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var IU="recaptcha-enterprise",A0="NO_RECAPTCHA",oy=class{constructor(e){this.type=IU,this.auth=To(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){aU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Zm(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;KA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(A0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ry().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&KA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=_U();u.length!==0&&(u+=a),b0(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ga(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new oy(t),s;if(i)s=A0;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function JA(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ga(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield ga(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ga(t,e,n);return r(t,a).catch(u=>_(this,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield ga(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield ga(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function Iy(t,e){let n=Eo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(fn(o,e??{}))return i;yn(i,"already-initialized")}return n.initialize({options:e})}function wU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wy(t,e,n){let r=To(t);H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=S0(e),{host:s,port:a}=DU(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){H(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),H(fn(l,r.config.emulator)&&fn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,li(s)?(Bl(`${o}//${s}${u}`),Ul("Auth",!0)):i||TU()}function S0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DU(t){let e=S0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:XA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:XA(s)}}}function XA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function TU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ea=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function bU(t,e){return _(this,null,function*(){return Tr(t,"POST","/v1/accounts:signUp",e)})}function CU(t,e){return _(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithPassword",vi(t,e))})}function AU(t,e){return _(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))})}function SU(t,e){return _(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))})}var Ia=class t extends Ea{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JA(e,n,"signInWithPassword",CU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return AU(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JA(e,r,"signUpPassword",bU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return SU(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Wm(t,e){return _(this,null,function*(){return ld(t,"POST","/v1/accounts:signInWithIdp",vi(t,e))})}function NU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RU(t){let e=vo(_o(t)).link,n=e?vo(_o(e)).deep_link_id:null,r=vo(_o(t)).deep_link_id;return(r?vo(_o(r)).link:null)||r||n||e||t}var id=class t{constructor(e){var n,r,i,o,s,a;let u=vo(_o(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=NU((i=u.mode)!==null&&i!==void 0?i:null);H(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=RU(e);try{return new t(n)}catch{return null}}};var N0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ia._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=id.parseLink(r);return H(i,"argument-error"),Ia._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sy=class extends od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var wa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Ir._fromIdTokenResponse(e,r,i),s=e0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=e0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function e0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ay=class t extends Ct{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function R0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ay._fromErrorAndOperation(t,o,e,r):o})}function MU(t,e,n=!1){return _(this,null,function*(){let r=yield va(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return wa._forOperation(t,"link",r)})}function PU(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(At(r.app))return Promise.reject(wr(r));let i="reauthenticate";try{let o=yield va(t,R0(r,i,e,t),n);H(o.idToken,r,"internal-error");let s=vy(o.idToken);H(s,r,"internal-error");let{sub:a}=s;return H(t.uid===a,r,"user-mismatch"),wa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&yn(r,"user-mismatch"),o}})}function M0(t,e,n=!1){return _(this,null,function*(){if(At(t.app))return Promise.reject(wr(t));let r="signIn",i=yield R0(t,r,e),o=yield wa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Dy(t,e){return _(this,null,function*(){return M0(To(t),e)})}function xU(t){return _(this,null,function*(){let e=To(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ty(t,e,n){return At(t.app)?Promise.reject(wr(t)):Dy(Ae(t),N0.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&xU(t),r}))}function by(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function Cy(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function Ay(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function Sy(t){return Ae(t).signOut()}var sd="__sak";var ad=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var kU=1e3,OU=10,FU=(()=>{class t extends ad{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);gU()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,OU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},kU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),P0=FU;var VU=(()=>{class t extends ad{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ny=VU;function LU(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var jU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield LU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function x0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var cy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=x0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function mn(){return window}function BU(t){mn().location.href=t}function k0(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}function UU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $U(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HU(){return k0()?self:null}var O0="firebaseLocalStorageDb",qU=1,cd="firebaseLocalStorage",F0="fbase_key",yi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hd(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function zU(){let t=indexedDB.deleteDatabase(O0);return new yi(t).toPromise()}function uy(){let t=indexedDB.open(O0,qU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(cd,{keyPath:F0})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),yield zU(),e(yield uy()))}))})}function t0(t,e,n){return _(this,null,function*(){let r=hd(t,!0).put({[F0]:e,value:n});return new yi(r).toPromise()})}function GU(t,e){return _(this,null,function*(){let n=hd(t,!1).get(e),r=yield new yi(n).toPromise();return r===void 0?null:r.value})}function n0(t,e){let n=hd(t,!0).delete(e);return new yi(n).toPromise()}var WU=800,KU=3,QU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield uy(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>KU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return k0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=jU._getInstance(HU()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield UU(),!this.activeServiceWorker)return;this.sender=new cy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$U()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield uy();return yield t0(n,sd,"1"),yield n0(n,sd),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>t0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>GU(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>n0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=hd(o,!1).getAll();return new yi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),WU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),V0=QU;var tY=C0("rcb"),nY=new mi(3e4,6e4);function YU(t,e){return e?zn(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Da=class extends Ea{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ZU(t){return M0(t.auth,new Da(t),t.bypassAuthState)}function JU(t){let{auth:e,user:n}=t;return H(n,e,"internal-error"),PU(n,new Da(t),t.bypassAuthState)}function XU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return H(n,e,"internal-error"),MU(n,new Da(t),t.bypassAuthState)})}var ly=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZU;case"linkViaPopup":case"linkViaRedirect":return XU;case"reauthViaPopup":case"reauthViaRedirect":return JU;default:yn(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rY=new mi(2e3,1e4);var e$="pendingRedirect",Yl=new Map,dy=class t extends ly{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Yl.get(this.auth._key());if(!e){try{let r=(yield t$(this.resolver,this.auth))?yield or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yl.set(this.auth._key(),e)}return this.bypassAuthState||Yl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function t$(t,e){return _(this,null,function*(){let n=i$(e),r=r$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function n$(t,e){Yl.set(t._key(),e)}function r$(t){return zn(t._redirectPersistence)}function i$(t){return Ql(e$,t.config.apiKey,t.name)}function o$(t,e,n=!1){return _(this,null,function*(){if(At(t.app))return Promise.reject(wr(t));let r=To(t),i=YU(r,e),s=yield new dy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var s$=10*60*1e3,hy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!L0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s$&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}};function r0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function a$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(t);default:return!1}}function c$(n){return _(this,arguments,function*(t,e={}){return Tr(t,"GET","/v1/projects",e)})}var u$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l$=/^https?/;function d$(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield c$(t);for(let n of e)try{if(h$(n))return}catch{}yn(t,"unauthorized-domain")})}function h$(t){let e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!l$.test(n))return!1;if(u$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var f$=new mi(3e4,6e4);function i0(){let t=mn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p$(t){return new Promise((e,n)=>{var r,i,o;function s(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),n(gi(t,"network-request-failed"))},timeout:f$.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mn().gapi)===null||o===void 0)&&o.load)s();else{let a=C0("iframefcb");return mn()[a]=()=>{gapi.load?s():n(gi(t,"network-request-failed"))},b0(`${EU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Zl=null,e})}var Zl=null;function g$(t){return Zl=Zl||p$(t),Zl}var m$=new mi(5e3,15e3),y$="__/auth/iframe",v$="emulator/auth/iframe",_$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I$(t){let e=t.config;H(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?my(e,v$):`https://${t.config.authDomain}/${y$}`,r={apiKey:e.apiKey,appName:t.name,v:mr},i=E$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ua(r).slice(1)}`}function w$(t){return _(this,null,function*(){let e=yield g$(t),n=mn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:I$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_$,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=gi(t,"network-request-failed"),a=mn().setTimeout(()=>{o(s)},m$.get());function u(){mn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var D$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T$=500,b$=600,C$="_blank",A$="http://localhost",ud=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function S$(t,e,n,r=T$,i=b$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},D$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=He().toLowerCase();n&&(a=v0(l)?C$:n),m0(l)&&(e=e||A$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,D])=>`${m}${y}=${D},`,"");if(pU(l)&&a!=="_self")return N$(e||"",a),new ud(null);let p=window.open(e||"",a,h);H(p,t,"popup-blocked");try{p.focus()}catch{}return new ud(p)}function N$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var R$="__/auth/handler",M$="emulator/auth/handler",P$=encodeURIComponent("fac");function o0(t,e,n,r,i,o){return _(this,null,function*(){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(e instanceof od){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_A(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof sy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${P$}=${encodeURIComponent(u)}`:"";return`${x$(t)}?${ua(a).slice(1)}${l}`})}function x$({config:t}){return t.emulator?my(t,M$):`https://${t.authDomain}/${R$}`}var Km="webStorageSupport",fy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ny,this._completeRedirectFn=o$,this._overrideRedirectResult=n$}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Dr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield o0(e,n,r,Qm(),i);return S$(e,s,x0())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield o0(e,n,r,Qm(),i);return BU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield w$(e),r=new hy(e);return n.register("authEvent",i=>(H(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Km];s!==void 0&&n(!!s),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D0()||y0()||Ey()}},j0=fy;var s0="@firebase/auth",a0="1.10.6";var py=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function k$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O$(t){nn(new lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;H(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(t)},l=new ny(r,i,o,u);return wU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new lt("auth-internal",e=>{let n=To(e.getProvider("auth").getImmediate());return(r=>new py(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(s0,a0,k$(t)),Se(s0,a0,"esm2017")}var F$=5*60,V$=wm("authIdTokenMaxAge")||F$,c0=null,L$=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V$)return;let i=n?.token;c0!==i&&(c0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ry(t=hi()){let e=Eo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Iy(t,{popupRedirectResolver:j0,persistence:[V0,P0,Ny]}),r=wm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=L$(o.toString());Cy(n,s,()=>s(n.currentUser)),by(n,a=>s(a))}}let i=Em("auth");return i&&wy(n,`http://${i}`),n}function j$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=gi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",j$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O$("Browser");var B0="auth",Ta=class{constructor(e){return e}},ba=class{constructor(){return wo(B0)}};var My=new L("angularfire2.auth-instances");function SH(t,e){let n=ha(B0,t,e);return n&&new Ta(n)}function NH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ta(r)}}var RH={provide:ba,deps:[[new Tt,My]]},MH={provide:Ta,useFactory:SH,deps:[[new Tt,My],Hn]};function HY(t,...e){return Se("angularfire",yr.full,"auth"),Fn([MH,RH,{provide:My,useFactory:NH(t),multi:!0,deps:[Te,et,vr,pi,[new Tt,Do],...e]}])}var qY=xe(Ry,!0);var zY=xe(Ay,!0);var GY=xe(Ty,!0,2);var WY=xe(Sy,!0,2);var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$0={};var Gn,Py;(function(){var t;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,b,A){for(var E=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)E[Tn-2]=arguments[Tn];return v.prototype[b].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)w[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],b=T.g[2];var A=T.g[3],E=v+(A^I&(b^A))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+w[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+w[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+w[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+w[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+w[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+w[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+w[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+w[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+w[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+w[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+w[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+w[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(I^b))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+w[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+w[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+w[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+w[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+w[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+w[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+w[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+w[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+w[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+w[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+w[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+w[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^A)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+w[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+w[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+w[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+w[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+w[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+w[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+w[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+w[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+w[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+w[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+w[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+w[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~A))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+w[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+w[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+w[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+w[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+w[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+w[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+w[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+w[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+w[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+w[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+w[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=I;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<v;)if(w[b++]=T.charCodeAt(A++),b==this.blockSize){i(this,w),b=0;break}}else for(;A<v;)if(w[b++]=T[A++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,b=T.length-1;0<=b;b--){var A=T[b]|0;w&&A==v||(I[b]=A,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,b=0;b<T.length;b+=8){var A=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),w=w.j(A).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var b=ge(I,v).g;I=k(I,b.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,D(I))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=k(this,T),N(T)?-1:D(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,b=0;b<=v;b++){var A=w+(this.i(b)&65535)+(T.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);w=E>>>16,A&=65535,E&=65535,I[b]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(T,v){return T.add(R(v))}t.j=function(T){if(D(this)||D(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<T.g.length;b++){var A=this.i(w)>>>16,E=this.i(w)&65535,Tn=T.i(b)>>>16,ts=T.i(b)&65535;I[2*w+2*b]+=E*ts,G(I,2*w+2*b),I[2*w+2*b+1]+=A*ts,G(I,2*w+2*b+1),I[2*w+2*b+1]+=E*Tn,G(I,2*w+2*b+1),I[2*w+2*b+2]+=A*Tn,G(I,2*w+2*b+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function G(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function Z(T,v){this.g=T,this.h=v}function ge(T,v){if(D(v))throw Error("division by zero");if(D(T))return new Z(p,p);if(N(T))return v=ge(R(T),v),new Z(R(v.g),R(v.h));if(N(v))return v=ge(T,R(v)),new Z(R(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=it(I),w=it(w);var b=fe(I,1),A=fe(w,1);for(w=fe(w,2),I=fe(I,2);!D(w);){var E=A.add(w);0>=E.l(T)&&(b=b.add(I),A=E),w=fe(w,1),I=fe(I,1)}return v=k(T,b.j(v)),new Z(b,v)}for(b=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=l(I),E=A.j(v);N(E)||0<E.l(T);)I-=w,A=l(I),E=A.j(v);D(A)&&(A=m),b=b.add(A),T=k(T,E)}return new Z(b,T)}t.A=function(T){return ge(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function it(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function fe(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,b=[],A=0;A<w;A++)b[A]=0<v?T.i(A+I)>>>v|T.i(A+I+1)<<32-v:T.i(A+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Py=$0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Gn=$0.Integer=s}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var xy,PH,bo,ky,Ca,pd,Oy,Fy,Vy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,S){for(var x=Array(arguments.length-2),me=2;me<arguments.length;me++)x[me-2]=arguments[me];return d.prototype[C].apply(g,x)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,S=g.length||0;c.length=C+S;for(let x=0;x<S;x++)c[C+x]=g[x]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var it=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function fe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Ch;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,f){let g=ts.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ts=new k(()=>new nM,c=>c.reset());class nM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ns,rs=!1,Ch=new Tn,yE=()=>{let c=a.Promise.resolve(void 0);ns=()=>{c.then(rM)}};var rM=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){A(f)}var d=ts;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}rs=!1};function tr(){this.s=this.s,this.C=this.C}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var iM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function is(c,d){if(Ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(it){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&is.aa.h.call(this)}}D(is,Ye);var oM={2:"touch",3:"pen",4:"mouse"};is.prototype.h=function(){is.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var os="closure_listenable_"+(1e6*Math.random()|0),sM=0;function aM(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++sM,this.da=this.fa=!1}function cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function uc(c){this.src=c,this.g={},this.h=0}uc.prototype.add=function(c,d,f,g,C){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var x=Sh(c,d,g,C);return-1<x?(d=c[x],f||(d.fa=!1)):(d=new aM(d,this.src,S,!!g,C),d.fa=f,c.push(d)),d};function Ah(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Sh(c,d,f,g){for(var C=0;C<c.length;++C){var S=c[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return C}return-1}var Nh="closure_lm_"+(1e6*Math.random()|0),Rh={};function vE(c,d,f,g,C){if(g&&g.once)return EE(c,d,f,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)vE(c,d[S],f,g,C);return null}return f=kh(f),c&&c[os]?c.K(d,f,l(g)?!!g.capture:!!g,C):_E(c,d,f,!1,g,C)}function _E(c,d,f,g,C,S){if(!d)throw Error("Invalid event type");var x=l(C)?!!C.capture:!!C,me=Ph(c);if(me||(c[Nh]=me=new uc(c)),f=me.add(d,f,g,x,S),f.proxy)return f;if(g=cM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)iM||(C=x),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(wE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function cM(){function c(f){return d.call(c.src,c.listener,f)}let d=uM;return c}function EE(c,d,f,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)EE(c,d[S],f,g,C);return null}return f=kh(f),c&&c[os]?c.L(d,f,l(g)?!!g.capture:!!g,C):_E(c,d,f,!0,g,C)}function IE(c,d,f,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)IE(c,d[S],f,g,C);else g=l(g)?!!g.capture:!!g,f=kh(f),c&&c[os]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Sh(S,f,g,C),-1<f&&(cc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ph(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Sh(d,f,g,C)),(f=-1<c?d[c]:null)&&Mh(f))}function Mh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[os])Ah(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(wE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Ph(d))?(Ah(f,c),f.h==0&&(f.src=null,d[Nh]=null)):cc(c)}}}function wE(c){return c in Rh?Rh[c]:Rh[c]="on"+c}function uM(c,d){if(c.da)c=!0;else{d=new is(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Mh(c),c=f.call(g,d)}return c}function Ph(c){return c=c[Nh],c instanceof uc?c:null}var xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function kh(c){return typeof c=="function"?c:(c[xh]||(c[xh]=function(d){return c.handleEvent(d)}),c[xh])}function Ze(){tr.call(this),this.i=new uc(this),this.M=this,this.F=null}D(Ze,tr),Ze.prototype[os]=!0,Ze.prototype.removeEventListener=function(c,d,f,g){IE(this,c,d,f,g)};function ot(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ye(d,c);else if(d instanceof Ye)d.target=d.target||c;else{var C=d;d=new Ye(g,c),w(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var x=d.g=f[S];C=lc(x,g,!0,d)&&C}if(x=d.g=c,C=lc(x,g,!0,d)&&C,C=lc(x,g,!1,d)&&C,f)for(S=0;S<f.length;S++)x=d.g=f[S],C=lc(x,g,!1,d)&&C}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)cc(f[g]);delete c.g[d],c.h--}}this.F=null},Ze.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Ze.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function lc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==f){var me=x.listener,Ge=x.ha||x.src;x.fa&&Ah(c.i,x),C=me.call(Ge,g)!==!1&&C}}return C&&!g.defaultPrevented}function DE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function TE(c){c.g=DE(()=>{c.g=null,c.i&&(c.i=!1,TE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class lM extends tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:TE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){tr.call(this),this.h=c,this.g={}}D(ss,tr);var bE=[];function CE(c){fe(c.g,function(d,f){this.g.hasOwnProperty(f)&&Mh(d)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),CE(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oh=a.JSON.stringify,dM=a.JSON.parse,hM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Fh(){}Fh.prototype.h=null;function AE(c){return c.h||(c.h=c.i())}function SE(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vh(){Ye.call(this,"d")}D(Vh,Ye);function Lh(){Ye.call(this,"c")}D(Lh,Ye);var Mr={},NE=null;function dc(){return NE=NE||new Ze}Mr.La="serverreachability";function RE(c){Ye.call(this,Mr.La,c)}D(RE,Ye);function cs(c){let d=dc();ot(d,new RE(d))}Mr.STAT_EVENT="statevent";function ME(c,d){Ye.call(this,Mr.STAT_EVENT,c),this.stat=d}D(ME,Ye);function st(c){let d=dc();ot(d,new ME(d,c))}Mr.Ma="timingevent";function PE(c,d){Ye.call(this,Mr.Ma,c),this.size=d}D(PE,Ye);function us(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ls(){this.g=!0}ls.prototype.xa=function(){this.g=!1};function fM(c,d,f,g,C,S){c.info(function(){if(c.g)if(S)for(var x="",me=S.split("&"),Ge=0;Ge<me.length;Ge++){var le=me[Ge].split("=");if(1<le.length){var Je=le[0];le=le[1];var Xe=Je.split("_");x=2<=Xe.length&&Xe[1]=="type"?x+(Je+"="+le+"&"):x+(Je+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+x})}function pM(c,d,f,g,C,S,x){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+x})}function Pi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+mM(c,f)+(g?" "+g:"")})}function gM(c,d){c.info(function(){return"TIMEOUT: "+d})}ls.prototype.info=function(){};function mM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<C.length;x++)C[x]=""}}}}return Oh(f)}catch{return d}}var hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function fc(){}D(fc,Fh),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},jh=new fc;function nr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kE}function kE(){this.i=null,this.g="",this.h=!1}var OE={},Bh={};function Uh(c,d,f){c.L=1,c.v=yc(bn(d)),c.m=f,c.P=!0,FE(c,null)}function FE(c,d){c.F=Date.now(),pc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),YE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new kE,c.g=pI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new lM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(bE[0]=C.toString()),C=bE);for(var S=0;S<C.length;S++){var x=vE(f,C[S],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),cs(),fM(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{let Xe=Cn(this.g);var d=this.g.Ba();let Oi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||rI(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=Oi?cs(3):cs(2)),$h(this);var f=this.g.Z();this.X=f;t:if(VE(this)){var g=rI(this.g);c="";var C=g.length,S=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),ds(this);var x="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,pM(this.i,this.u,this.A,this.l,this.R,Xe,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Ge=this.g;if((me=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(me)){var le=me;break t}}le=null}if(f=le)Pi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,f);else{this.o=!1,this.s=3,st(12),Pr(this),ds(this);break e}}if(this.P){f=!0;let Bt;for(;!this.J&&this.C<x.length;)if(Bt=yM(this,x),Bt==Bh){Xe==4&&(this.s=4,st(14),f=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==OE){this.s=4,st(15),Pi(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Pi(this.i,this.l,Bt,null),Hh(this,Bt);if(VE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||x.length!=0||this.h.h||(this.s=1,st(16),f=!1),this.o=this.o&&f,!f)Pi(this.i,this.l,x,"[Invalid Chunked Response]"),Pr(this),ds(this);else if(0<x.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Qh(Je),Je.M=!0,st(11))}}else Pi(this.i,this.l,x,null),Hh(this,x);Xe==4&&Pr(this),this.o&&!this.J&&(Xe==4?lI(this.j,this):(this.o=!1,pc(this)))}else kM(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Pr(this),ds(this)}}}catch{}finally{}};function VE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Bh:(f=Number(d.substring(f,g)),isNaN(f)?OE:(g+=1,g+f>d.length?Bh:(d=d.slice(g,g+f),c.C=g+f,d)))}nr.prototype.cancel=function(){this.J=!0,Pr(this)};function pc(c){c.S=Date.now()+c.I,LE(c,c.I)}function LE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=us(m(c.ba,c),d)}function $h(c){c.B&&(a.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(gM(this.i,this.A),this.L!=2&&(cs(),st(17)),Pr(this),this.s=2,ds(this)):LE(this,this.S-c)};function ds(c){c.j.G==0||c.J||lI(c.j,c)}function Pr(c){$h(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,CE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||qh(f.h,c))){if(!c.K&&qh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)wc(f),Ec(f);else break e;Kh(f),st(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=us(m(f.Za,f),6e3));if(1>=UE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else kr(f,11)}else if((c.K||f.g==c)&&wc(f),!G(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let le=C[d];if(f.T=le[0],le=le[1],f.G==2)if(le[0]=="c"){f.K=le[1],f.ia=le[2];let Je=le[3];Je!=null&&(f.la=Je,f.j.info("VER="+f.la));let Xe=le[4];Xe!=null&&(f.Aa=Xe,f.j.info("SVER="+f.Aa));let Oi=le[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(g=1.5*Oi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Bt=c.g;if(Bt){let Tc=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var S=g.h;S.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(zh(S,S.h),S.h=null))}if(g.D){let Yh=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(g.ya=Yh,Ie(g.I,g.D,Yh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=c;if(g.qa=fI(g,g.J?g.ia:null,g.W),x.K){$E(g.h,x);var me=x,Ge=g.L;Ge&&(me.I=Ge),me.B&&($h(me),pc(me)),g.g=x}else cI(g);0<f.i.length&&Ic(f)}else le[0]!="stop"&&le[0]!="close"||kr(f,7);else f.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?kr(f,7):Wh(f):le[0]!="noop"&&f.l&&f.l.ta(le),f.v=0)}}cs(4)}catch{}}var vM=class{constructor(c,d){this.g=c,this.map=d}};function jE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function UE(c){return c.h?1:c.g?c.g.size:0}function qh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function zh(c,d){c.g?c.g.add(d):c.h=d}function $E(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}jE.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function HE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function _M(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function EM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function qE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=EM(c),g=_M(c),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],f&&f[S],c)}var zE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var S=c[f].substring(0,g);C=c[f].substring(g+1)}else S=c[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,gc(this,c.j),this.o=c.o,this.g=c.g,mc(this,c.s),this.l=c.l;var d=c.i,f=new ps;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),GE(this,f),this.m=c.m}else c&&(d=String(c).match(zE))?(this.h=!1,gc(this,d[1]||"",!0),this.o=hs(d[2]||""),this.g=hs(d[3]||"",!0),mc(this,d[4]),this.l=hs(d[5]||"",!0),GE(this,d[6]||"",!0),this.m=hs(d[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(fs(d,WE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(fs(d,WE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(fs(f,f.charAt(0)=="/"?TM:DM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",fs(f,CM)),c.join("")};function bn(c){return new xr(c)}function gc(c,d,f){c.j=f?hs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function mc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function GE(c,d,f){d instanceof ps?(c.i=d,AM(c.i,c.h)):(f||(d=fs(d,bM)),c.i=new ps(d,c.h))}function Ie(c,d,f){c.i.set(d,f)}function yc(c){return Ie(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function hs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,wM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var WE=/[#\/\?@]/g,DM=/[#\?:]/g,TM=/[#\?]/g,bM=/[#\?@]/g,CM=/#/g;function ps(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&IM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ps.prototype,t.add=function(c,d){rr(this),this.i=null,c=xi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function KE(c,d){rr(c),d=xi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function QE(c,d){return rr(c),d=xi(c,d),c.g.has(d)}t.forEach=function(c,d){rr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let S=0;S<C.length;S++)f.push(d[g])}return f},t.V=function(c){rr(this);let d=[];if(typeof c=="string")QE(this,c)&&(d=d.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return rr(this),this.i=null,c=xi(this,c),QE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function YE(c,d,f){KE(c,d),0<f.length&&(c.i=null,c.g.set(xi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var C=S;x[g]!==""&&(C+="="+encodeURIComponent(String(x[g]))),c.push(C)}}return this.i=c.join("&")};function xi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function AM(c,d){d&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(KE(this,g),YE(this,C,f))},c)),c.j=d}function SM(c,d){let f=new ls;if(a.Image){let g=new Image;g.onload=y(ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ir,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function NM(c,d){let f=new ls,g=new AbortController,C=setTimeout(()=>{g.abort(),ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?ir(f,"TestPingServer: ok",!0,d):ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),ir(f,"TestPingServer: error",!1,d)})}function ir(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function RM(){this.g=new hM}function MM(c,d,f){let g=f||"";try{qE(c,function(C,S){let x=C;l(C)&&(x=Oh(C)),d.push(g+S+"="+encodeURIComponent(x))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function gs(c){this.l=c.Ub||null,this.j=c.eb||!1}D(gs,Fh),gs.prototype.g=function(){return new vc(this.l,this.j)},gs.prototype.i=function(c){return function(){return c}}({});function vc(c,d){Ze.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(vc,Ze),t=vc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ys(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ms(this):ys(this),this.readyState==3&&ZE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ms(this))},t.Qa=function(c){this.g&&(this.response=c,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ys(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ys(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function JE(c){let d="";return fe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Gh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=JE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ie(c,d,f))}function Ce(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ce,Ze);var PM=/^https?$/i,xM=["POST","PUT"];t=Ce.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?AE(this.o):AE(jh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){XE(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nI(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){XE(this,S)}};function XE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,eI(c),_c(c)}function eI(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ot(this,"complete"),ot(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tI(this):this.bb())},t.bb=function(){tI(this)};function tI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)DE(c.Ea,0,c);else if(ot(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let x=c.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var C=String(c.D).match(zE)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!PM.test(C?C.toLowerCase():"")}f=g}if(f)ot(c,"complete"),ot(c,"success");else{c.m=6;try{var S=2<Cn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",eI(c)}}finally{_c(c)}}}}function _c(c,d){if(c.g){nI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ot(c,"ready");try{f.onreadystatechange=g}catch{}}}function nI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),dM(d)}};function rI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kM(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function iI(c){this.Aa=0,this.i=[],this.j=new ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jE(c&&c.concurrentRequestLimit),this.Da=new RM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){st(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=fI(this,null,this.W),Ic(this)};function Wh(c){if(oI(c),c.G==3){var d=c.U++,f=bn(c.I);if(Ie(f,"SID",c.K),Ie(f,"RID",d),Ie(f,"TYPE","terminate"),_s(c,f),d=new nr(c,c.j,d),d.L=2,d.v=yc(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=pI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pc(d)}hI(c)}function Ec(c){c.g&&(Qh(c),c.g.cancel(),c.g=null)}function oI(c){Ec(c),c.u&&(a.clearTimeout(c.u),c.u=null),wc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ic(c){if(!BE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ns||yE(),rs||(ns(),rs=!0),Ch.add(d,c),c.B=0}}function OM(c,d){return UE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=us(m(c.Ga,c,d),dI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new nr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aI(this,C,d),f=bn(this.I),Ie(f,"RID",c),Ie(f,"CVER",22),this.D&&Ie(f,"X-HTTP-Session-Id",this.D),_s(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(JE(S)))+"&"+d:this.m&&Gh(f,this.m,S)),zh(this.h,C),this.Ua&&Ie(f,"TYPE","init"),this.P?(Ie(f,"$req",d),Ie(f,"SID","null"),C.T=!0,Uh(C,f,null)):Uh(C,f,d),this.G=2}}else this.G==3&&(c?sI(this,c):this.i.length==0||BE(this.h)||sI(this))};function sI(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);Ie(g,"SID",c.K),Ie(g,"RID",f),Ie(g,"AID",c.T),_s(c,g),c.m&&c.o&&Gh(g,c.m,c.o),f=new nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=aI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zh(c.h,f),Uh(f,g,d)}function _s(c,d){c.H&&fe(c.H,function(f,g){Ie(d,g,f)}),c.l&&qE({},function(f,g){Ie(d,g,f)})}function aI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let S=-1;for(;;){let x=["count="+f];S==-1?0<f?(S=C[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let me=!0;for(let Ge=0;Ge<f;Ge++){let le=C[Ge].g,Je=C[Ge].map;if(le-=S,0>le)S=Math.max(0,C[Ge].g-100),me=!1;else try{MM(Je,x,"req"+le+"_")}catch{g&&g(Je)}}if(me){g=x.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function cI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ns||yE(),rs||(ns(),rs=!0),Ch.add(d,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=us(m(c.Fa,c),dI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,uI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=us(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ec(this),uI(this))};function Qh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uI(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);Ie(d,"RID","rpc"),Ie(d,"SID",c.K),Ie(d,"AID",c.T),Ie(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ie(d,"TO",c.ja),Ie(d,"TYPE","xmlhttp"),_s(c,d),c.m&&c.o&&Gh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=yc(bn(d)),f.m=null,f.P=!0,FE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Ec(this),Kh(this),st(19))};function wc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lI(c,d){var f=null;if(c.g==d){wc(c),Qh(c),c.g=null;var g=2}else if(qh(c.h,d))f=d.D,$E(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=dc(),ot(g,new PE(g,f)),Ic(c)}else cI(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&OM(c,d)||g==2&&Kh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function dI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function kr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gc(g,"https"),yc(g),C?SM(g.toString(),f):NM(g.toString(),f)}else st(2);c.G=0,c.l&&c.l.sa(d),hI(c),oI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function hI(c){if(c.G=0,c.ka=[],c.l){let d=HE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function fI(c,d,f){var g=f instanceof xr?bn(f):new xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),mc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new xr(null);g&&gc(S,g),d&&(S.g=d),C&&mc(S,C),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Ie(g,f,d),Ie(g,"VER",c.la),_s(c,g),g}function pI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ce(new gs({eb:f})):new Ce(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gI(){}t=gI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dc(){}Dc.prototype.g=function(c,d){return new Et(c,d)};function Et(c,d){Ze.call(this),this.g=new iI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ki(this)}D(Et,Ze),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Wh(this.g)},Et.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Oh(c),c=f);d.i.push(new vM(d.Ya++,c)),d.G==3&&Ic(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,Wh(this.g),delete this.g,Et.aa.N.call(this)};function mI(c){Vh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(mI,Vh);function yI(){Lh.call(this),this.status=1}D(yI,Lh);function ki(c){this.g=c}D(ki,gI),ki.prototype.ua=function(){ot(this.g,"a")},ki.prototype.ta=function(c){ot(this.g,new mI(c))},ki.prototype.sa=function(c){ot(this.g,new yI)},ki.prototype.ra=function(){ot(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Vy=Wn.createWebChannelTransport=function(){return new Dc},Fy=Wn.getStatEventTarget=function(){return dc()},Oy=Wn.Event=Mr,pd=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,Ca=Wn.ErrorCode=hc,xE.COMPLETE="complete",ky=Wn.EventType=xE,SE.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,bo=Wn.WebChannel=SE,PH=Wn.FetchXmlHttpFactory=gs,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,xy=Wn.XhrIo=Ce}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});var H0="@firebase/firestore",q0="4.7.16";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Wo="11.8.1";var wi=new pn("@firebase/firestore");function Co(){return wi.logLevel}function O(t,...e){if(wi.logLevel<=te.DEBUG){let n=e.map(b_);wi.debug(`Firestore (${Wo}): ${t}`,...n)}}function Qn(t,...e){if(wi.logLevel<=te.ERROR){let n=e.map(b_);wi.error(`Firestore (${Wo}): ${t}`,...n)}}function xo(t,...e){if(wi.logLevel<=te.WARN){let n=e.map(b_);wi.warn(`Firestore (${Wo}): ${t}`,...n)}}function b_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FS(t,r,n)}function FS(t,e,n){let r=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qn(r),new Error(r)}function he(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||FS(e,i,r)}function K(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var on=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Id=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$y=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Hy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},qy=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new on;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new on,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new on)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new Id(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new qe(e)}},zy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Gy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,At(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function xH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function VS(){return new TextEncoder}var Dd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=xH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function X(t,e){return t<e?-1:t>e?1:0}function Ky(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return X(r,i);{let o=VS(),s=kH(o.encode(z0(t,n)),o.encode(z0(e,n)));return s!==0?s:X(r,i)}}n+=r>65535?2:1}return X(t.length,e.length)}function z0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return X(t[n],e[n]);return X(t.length,e.length)}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var G0=-62135596800,W0=1e6,Qe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G0)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Y=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var K0="__name__",Td=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&U(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return X(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Ky(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gn.fromString(e.substring(4,e.length-2))}},be=class t extends Td{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},OH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class t extends Td{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return OH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new t([K0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var Pa=-1,Qy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Qy.UNKNOWN_ID=-1;function FH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Di(i,B.empty(),e)}function VH(t){return new Di(t.readTime,t.key,Pa)}var Di=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Y.min(),B.empty(),Pa)}static max(){return new t(Y.max(),B.empty(),Pa)}};function LH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}var jH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ko(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==jH)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function BH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(t){return t.name==="IndexedDbTransactionError"}var C_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),A_=-1;function rh(t){return t==null}function xa(t){return t===0&&1/t==-1/0}function UH(t){return typeof t=="number"&&Number.isInteger(t)&&!xa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var LS="";function $H(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Q0(e)),e=HH(t.get(n),e);return Q0(e)}function HH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case LS:n+="";break;default:n+=o}}return n}function Q0(t){return t+LS+""}var qH="remoteDocuments",jS="owner";var BS="mutationQueues";var US="mutations";var $S="documentMutations",zH="remoteDocumentsV14";var HS="remoteDocumentGlobal";var qS="targets";var zS="targetDocuments";var GS="targetGlobal",WS="collectionParents";var KS="clientMetadata";var QS="bundles";var YS="namedQueries";var GH="indexConfiguration";var WH="indexState";var KH="indexEntries";var ZS="documentOverlays";var QH="globals";var YH=[BS,US,$S,qH,qS,jS,GS,zS,KS,HS,WS,QS,YS],cZ=[...YH,ZS],ZH=[BS,US,$S,zH,qS,jS,GS,zS,KS,HS,WS,QS,YS,ZS],JH=ZH,XH=[...JH,GH,WH,KH];var uZ=[...XH,QH];function Y0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ne=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}},Ro=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ze=class t{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bd(this.data.getIterator())}getIteratorFrom(e){return new bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lt=class t{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ze(Nt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Cd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Cd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var e4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(he(!!t,39018),typeof t=="string"){let e=0,n=e4.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zn(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}var XS="server_timestamp",eN="__type__",tN="__previous_value__",nN="__local_write_time__";function S_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[eN])===null||n===void 0?void 0:n.stringValue)===XS}function ih(t){let e=t.mapValue.fields[tN];return S_(e)?ih(e):e}function ka(t){let e=Yn(t.mapValue.fields[nN].timestampValue);return new Qe(e.seconds,e.nanos)}var Zy=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ad="(default)",Sd=class t{constructor(e,n){this.projectId=e,this.database=n||Ad}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var N_="__type__",rN="__max__",gd={mapValue:{fields:{__type__:{stringValue:rN}}}},R_="__vector__",Oo="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S_(t)?4:oN(t)?9007199254740991:iN(t)?10:11:U(28295,{value:t})}function In(t,e){if(t===e)return!0;let n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ka(t).isEqual(ka(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yn(i.timestampValue),a=Yn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Zn(i.bytesValue).isEqual(Zn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=De(i.doubleValue),a=De(o.doubleValue);return s===a?xa(s)===xa(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Y0(s)!==Y0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!In(s[u],a[u])))return!1;return!0}(t,e);default:return U(52216,{left:t})}}function Oa(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;let n=Cr(t),r=Cr(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=De(o.integerValue||o.doubleValue),u=De(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Z0(t.timestampValue,e.timestampValue);case 4:return Z0(ka(t),ka(e));case 5:return Ky(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Zn(o),u=Zn(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=X(a[l],u[l]);if(h!==0)return h}return X(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=X(De(o.latitude),De(s.latitude));return a!==0?a:X(De(o.longitude),De(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return J0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Oo])===null||a===void 0?void 0:a.arrayValue,D=(u=m[Oo])===null||u===void 0?void 0:u.arrayValue,N=X(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:J0(y,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===gd.mapValue&&s===gd.mapValue)return 0;if(o===gd.mapValue)return 1;if(s===gd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ky(u[p],h[p]);if(m!==0)return m;let y=Fo(a[u[p]],l[h[p]]);if(y!==0)return y}return X(u.length,h.length)}(t.mapValue,e.mapValue);default:throw U(23264,{Pe:n})}}function Z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);let n=Yn(t),r=Yn(e),i=X(n.seconds,r.seconds);return i!==0?i:X(n.nanos,r.nanos)}function J0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Fo(n[i],r[i]);if(o)return o}return X(n.length,r.length)}function Vo(t){return Jy(t)}function Jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Jy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Jy(n.fields[s])}`;return i+"}"}(t.mapValue):U(61005,{value:t})}function vd(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ih(t);return e?16+vd(e):16;case 5:return 2*t.stringValue.length;case 6:return Zn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+vd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Nr(r.fields,(o,s)=>{i+=o.length+vd(s)}),i}(t.mapValue);default:throw U(13486,{value:t})}}function X0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xy(t){return!!t&&"integerValue"in t}function M_(t){return!!t&&"arrayValue"in t}function eS(t){return!!t&&"nullValue"in t}function tS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function iN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[N_])===null||n===void 0?void 0:n.stringValue)===R_}function Sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}var dZ={mapValue:{fields:{[N_]:{stringValue:R_},[Oo]:{arrayValue:{}}}}};var St=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Sa(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Nr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Sa(this.value))}};function sN(t){let e=[];return Nr(t.fields,(n,r)=>{let i=new Nt([n]);if(_d(r)){let o=sN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Lt(e)}var sn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Y.min(),Y.min(),Y.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Y.min(),Y.min(),St.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Y.min(),Y.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Lo=class{constructor(e,n){this.position=e,this.inclusive=n}};function nS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=Fo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var jo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function t4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nd=class{},je=class t extends Nd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tv(e,n,r):n==="array-contains"?new iv(e,r):n==="in"?new ov(e,r):n==="not-in"?new sv(e,r):n==="array-contains-any"?new av(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nv(e,r):new rv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},an=class t extends Nd{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return aN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function aN(t){return t.op==="and"}function cN(t){return n4(t)&&aN(t)}function n4(t){for(let e of t.filters)if(e instanceof an)return!1;return!0}function ev(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(cN(t))return t.filters.map(e=>ev(e)).join(",");{let e=t.filters.map(n=>ev(n)).join(",");return`${t.op}(${e})`}}function uN(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&uN(s,i.filters[a]),!0):!1}(t,e):void U(19439)}function lN(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(lN).join(" ,")+"}"}(t):"Filter"}var tv=class extends je{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},nv=class extends je{constructor(e,n){super(e,"in",n),this.keys=dN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},rv=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=dN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function dN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var iv=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return M_(n)&&Oa(n.arrayValue,this.value)}},ov=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Oa(this.value.arrayValue,n)}},sv=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oa(this.value.arrayValue,n)}},av=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!M_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oa(this.value.arrayValue,r))}};var cv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function iS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cv(t,e,n,r,i,o,s)}function P_(t){let e=K(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ev(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),e.Ie=n}return e.Ie}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rS(t.startAt,e.startAt)&&rS(t.endAt,e.endAt)}function uv(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ti=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function r4(t,e,n,r,i,o,s,a){return new Ti(t,e,n,r,i,o,s,a)}function oh(t){return new Ti(t)}function oS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hN(t){return t.collectionGroup!==null}function Na(t){let e=K(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ze(Nt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new jo(o,r))}),n.has(Nt.keyField().canonicalString())||e.Ee.push(new jo(Nt.keyField(),r))}return e.Ee}function _n(t){let e=K(t);return e.de||(e.de=i4(e,Na(t))),e.de}function i4(t,e){if(t.limitType==="F")return iS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new jo(i.field,o)});let n=t.endAt?new Lo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lo(t.startAt.position,t.startAt.inclusive):null;return iS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lv(t,e){let n=t.filters.concat([e]);return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dv(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return x_(_n(t),_n(e))&&t.limitType===e.limitType}function fN(t){return`${P_(_n(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lN(i)).join(", ")}]`),rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vo(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Na(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=nS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Na(r),i)||r.endAt&&!function(s,a,u){let l=nS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Na(r),i))}(t,e)}function o4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pN(t){return(e,n)=>{let r=!1;for(let i of Na(t)){let o=s4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function s4(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Fo(u,l):U(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U(19790,{direction:t.dir})}}var Jn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}};var a4=new Ne(B.comparator);function Xn(){return a4}var gN=new Ne(B.comparator);function Aa(...t){let e=gN;for(let n of t)e=e.insert(n.key,n);return e}function mN(t){let e=gN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return Ra()}function yN(){return Ra()}function Ra(){return new Jn(t=>t.toString(),(t,e)=>t.isEqual(e))}var c4=new Ne(B.comparator),u4=new ze(B.comparator);function oe(...t){let e=u4;for(let n of t)e=e.add(n);return e}var l4=new ze(X);function d4(){return l4}function k_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xa(e)?"-0":e}}function vN(t){return{integerValue:""+t}}function h4(t,e){return UH(e)?vN(e):k_(t,e)}var Bo=class{constructor(){this._=void 0}};function f4(t,e,n){return t instanceof Uo?function(i,o){let s={fields:{[eN]:{stringValue:XS},[nN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&S_(o)&&(o=ih(o)),o&&(s.fields[tN]=o),{mapValue:s}}(n,e):t instanceof bi?EN(t,e):t instanceof Ci?IN(t,e):function(i,o){let s=_N(i,o),a=sS(s)+sS(i.Re);return Xy(s)&&Xy(i.Re)?vN(a):k_(i.serializer,a)}(t,e)}function p4(t,e,n){return t instanceof bi?EN(t,e):t instanceof Ci?IN(t,e):n}function _N(t,e){return t instanceof $o?function(r){return Xy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Uo=class extends Bo{},bi=class extends Bo{constructor(e){super(),this.elements=e}};function EN(t,e){let n=wN(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ci=class extends Bo{constructor(e){super(),this.elements=e}};function IN(t,e){let n=wN(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var $o=class extends Bo{constructor(e,n){super(),this.serializer=e,this.Re=n}};function sS(t){return De(t.integerValue||t.doubleValue)}function wN(t){return M_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bi&&i instanceof bi||r instanceof Ci&&i instanceof Ci?ko(r.elements,i.elements,In):r instanceof $o&&i instanceof $o?In(r.Re,i.Re):r instanceof Uo&&i instanceof Uo}(t.transform,e.transform)}var hv=class{constructor(e,n){this.version=e,this.transformResults=n}},Kn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ho=class{};function DN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fa(t.key,Kn.none()):new Ai(t.key,t.data,Kn.none());{let n=t.data,r=St.empty(),i=new ze(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wn(t.key,r,new Lt(i.toArray()),Kn.none())}}function m4(t,e,n){t instanceof Ai?function(i,o,s){let a=i.value.clone(),u=cS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wn?function(i,o,s){if(!Ed(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=cS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(TN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof Ai?function(o,s,a,u){if(!Ed(o.precondition,s))return a;let l=o.value.clone(),h=uS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof wn?function(o,s,a,u){if(!Ed(o.precondition,s))return a;let l=uS(o.fieldTransforms,u,s),h=s.data;return h.setAll(TN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Ed(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function y4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=_N(r.transform,i||null);o!=null&&(n===null&&(n=St.empty()),n.set(r.field,o))}return n||null}function aS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(o,s)=>g4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ai=class extends Ho{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wn=class extends Ho{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function TN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){let r=new Map;he(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,p4(s,a,n[i]))}return r}function uS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,f4(o,s,e))}return r}var Fa=class extends Ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fv=class extends Ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&m4(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=DN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>aS(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>aS(n,r))}},gv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return c4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var mv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ve,ce;function v4(t){switch(t){case M.OK:return U(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return U(15467,{code:t})}}function bN(t){if(t===void 0)return Qn("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return U(39323,{code:t})}}(ce=Ve||(Ve={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var lS=null;var _4=new Gn([4294967295,4294967295],0);function dS(t){let e=VS().encode(t),n=new Py;return n.update(e),new Uint8Array(n.digest())}function hS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gn([n,r],0),new Gn([i,o],0)]}var vv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ei(`Invalid padding: ${n}`);if(r<0)throw new Ei(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ei(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ei(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Gn.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Gn.fromNumber(r)));return i.compare(_4)===1&&(i=new Gn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=dS(e),[r,i]=hS(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=dS(e),[r,i]=hS(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ei=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Y.min(),i,new Ne(X),Xn(),oe())}},Va=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,oe(),oe(),oe())}};var Mo=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},Md=class{constructor(e,n){this.targetId=e,this.Ce=n}},Pd=class{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},xd=class{constructor(){this.Fe=0,this.Me=fS(),this.xe=rt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=oe(),n=oe(),r=oe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U(38017,{changeType:o})}}),new Va(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=fS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,he(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},_v=class{constructor(e){this.ze=e,this.je=new Map,this.He=Xn(),this.Je=md(),this.Ye=md(),this.Ze=new Ne(X)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:U(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(uv(o))if(r===0){let s=new B(o.path);this.tt(n,s,sn.newNoDocument(s,Y.min()))}else he(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}lS?.ht(function(h,p,m,y,D){var N,R,k,G,Z,ge;let it={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},fe=p.unchangedNames;return fe&&(it.bloomFilter={applied:D===0,hashCount:(N=fe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(G=(k=(R=fe?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&G!==void 0?G:0,padding:(ge=(Z=fe?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&ge!==void 0?ge:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),it}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Zn(r).toUint8Array()}catch(u){if(u instanceof Cd)return xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vv(s,i,o)}catch(u){return xo(u instanceof Ei?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&uv(a.target)){let u=new B(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,sn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=oe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Rd(e,n,this.Ze,this.He,r);return this.He=Xn(),this.Je=md(),this.Ye=md(),this.Ze=new Ne(X),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new xd,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ze(X),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ze(X),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xd),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function md(){return new Ne(B.comparator)}function fS(){return new Ne(B.comparator)}var E4={asc:"ASCENDING",desc:"DESCENDING"},I4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w4={and:"AND",or:"OR"},Ev=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Iv(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D4(t,e){return kd(t,e.toTimestamp())}function En(t){return he(!!t,49232),Y.fromTimestamp(function(n){let r=Yn(n);return new Qe(r.seconds,r.nanos)}(t))}function O_(t,e){return wv(t,e).canonicalString()}function wv(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AN(t){let e=be.fromString(t);return he(PN(e),10190,{key:e.toString()}),e}function Dv(t,e){return O_(t.databaseId,e.path)}function Ly(t,e){let n=AN(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(NN(n))}function SN(t,e){return O_(t.databaseId,e)}function T4(t){let e=AN(t);return e.length===4?be.emptyPath():NN(e)}function Tv(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NN(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pS(t,e,n){return{name:Dv(t,e),fields:n.value.mapValue.fields}}function b4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:U(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(he(h===void 0||typeof h=="string",58123),rt.fromBase64String(h||"")):(he(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:bN(l.code);return new F(h,l.message||"")}(s);n=new Pd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ly(t,r.document.name),o=En(r.document.updateTime),s=r.document.createTime?En(r.document.createTime):Y.min(),a=new St({mapValue:{fields:r.document.fields}}),u=sn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Mo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ly(t,r.document),o=r.readTime?En(r.readTime):Y.min(),s=sn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Mo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ly(t,r.document),o=r.removedTargetIds||[];n=new Mo([],o,i,null)}else{if(!("filter"in e))return U(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new yv(i,o),a=r.targetId;n=new Md(a,s)}}return n}function C4(t,e){let n;if(e instanceof Ai)n={update:pS(t,e.key,e.value)};else if(e instanceof Fa)n={delete:Dv(t,e.key)};else if(e instanceof wn)n={update:pS(t,e.key,e.data),updateMask:O4(e.fieldMask)};else{if(!(e instanceof fv))return U(16599,{ft:e.type});n={verify:Dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ci)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $o)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw U(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:D4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:U(27497)}(t,e.precondition)),n}function A4(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?En(i.updateTime):En(o);return s.isEqual(Y.min())&&(s=En(o)),new hv(s,i.transformResults||[])}(n,e))):[]}function S4(t,e){return{documents:[SN(t,e.path)]}}function N4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SN(t,i);let o=function(l){if(l.length!==0)return MN(an.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:So(m.field),direction:P4(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Iv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function R4(t){let e=T4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){he(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=RN(p);return m instanceof an&&cN(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(D){return new jo(No(D.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,rh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Lo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Lo(y,m)}(n.endAt)),r4(e,i,s,o,a,"F",u,l)}function M4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=No(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=No(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=No(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=No(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return U(61313);default:return U(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(No(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return U(58110);default:return U(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>RN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U(1026)}}(n.compositeFilter.op))}(t):U(30097,{filter:t})}function P4(t){return E4[t]}function x4(t){return I4[t]}function k4(t){return w4[t]}function So(t){return{fieldPath:t.canonicalString()}}function No(t){return Nt.fromServerFormat(t.fieldPath)}function MN(t){return t instanceof je?function(n){if(n.op==="=="){if(tS(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(eS(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tS(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(eS(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:x4(n.op),value:n.value}}}(t):t instanceof an?function(n){let r=n.getFilters().map(i=>MN(i));return r.length===1?r[0]:{compositeFilter:{op:k4(n.op),filters:r}}}(t):U(54877,{filter:t})}function O4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var La=class t{constructor(e,n,r,i,o=Y.min(),s=Y.min(),a=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bv=class{constructor(e){this.wt=e}};function F4(t){let e=R4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}var Od=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),xa(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Yn(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Zn(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?oN(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):iN(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):U(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=Oo,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(De(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),B.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Od.Wt=new Od;var Cv=class{constructor(){this.Cn=new Av}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Di.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Av=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(be.comparator)).toArray()}};var hZ=new Uint8Array(0);var gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xN=41943040,Vt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(xN,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);var ja=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var mS="LruGarbageCollector",V4=1048576;function yS([t,e],[n,r]){let i=X(t,n);return i===0?X(e,r):i}var Sv=class{constructor(e){this.Er=e,this.buffer=new ze(yS),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();yS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Nv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){O(mS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?O(mS,"Ignoring IndexedDB error during garbage collection: ",n):yield Ko(n)}yield this.mr(3e5)}))}},Rv=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(C_.le);let r=new Sv(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(gS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Co()<=te.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function L4(t,e){return new Rv(t,e)}var Mv=class{constructor(){this.changes=new Jn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,Lt.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){let i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Aa();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Xn(),s=Ra(),a=function(){return Ra()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof wn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ma(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Pv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ra(),i=new Ne((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Lt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=yN();h.forEach(m=>{if(!o.has(m)){let y=DN(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(_i()),a=Pa,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,oe())).next(h=>({batchId:a,changes:mN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Aa();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Ti(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,sn.newInvalidDocument(h)))});let a=Aa();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ma(h.mutation,l,Lt.empty(),Qe.now()),ah(n,l)&&(a=a.insert(u,l))}),a})}};var kv=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:En(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:F4(i.bundledQuery),readTime:En(i.readTime)}}(n)),P.resolve()}};var Ov=class{constructor(){this.overlays=new Ne(B.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_i();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=_i(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ne((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=_i(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=_i(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}bt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mv(n,r));let o=this.Qr.get(n);o===void 0&&(o=oe(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var Fv=class{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ba=class{constructor(){this.$r=new ze(Le.Ur),this.Kr=new ze(Le.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new Le(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Le(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new B(new be([])),r=new Le(n,e),i=new Le(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new B(new be([])),r=new Le(n,e),i=new Le(n,e+1),o=oe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Le(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return B.comparator(e.key,n.key)||X(e.Zr,n.Zr)}static Wr(e,n){return X(e.Zr,n.Zr)||B.comparator(e.key,n.key)}};var Vv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ze(Le.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new pv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Le(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?A_:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(X);return n.forEach(i=>{let o=new Le(i,0),s=new Le(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Le(new B(o),0),a=new ze(X);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new Le(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new Le(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Lv=class{constructor(e){this.ii=e,this.docs=function(){return new Ne(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xn(),s=n.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||LH(VH(h),r)<=0||(i.has(h.key)||ah(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){U(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jv(this)}getSize(e){return P.resolve(this.size)}},jv=class extends Mv{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var Bv=class{constructor(e){this.persistence=e,this.oi=new Jn(n=>P_(n),x_),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this._i=0,this.ai=new Ba,this.targetCount=0,this.ui=ja.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new ja(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var Fd=class{constructor(e,n){this.ci={},this.overlays={},this.li=new C_(0),this.hi=!1,this.hi=!0,this.Pi=new Fv,this.referenceDelegate=e(this),this.Ti=new Bv(this),this.indexManager=new Cv,this.remoteDocumentCache=function(i){return new Lv(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new bv(n),this.Ei=new kv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ov,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Vv(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new Uv(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},Uv=class extends Yy{constructor(e){super(),this.currentSequenceNumber=e}},$v=class t{constructor(e){this.persistence=e,this.Vi=new Ba,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw U(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=B.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,Y.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},Vd=class t{constructor(e,n){this.persistence=e,this.yi=new Jn(r=>$H(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=L4(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vd(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Hv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=oe(),i=oe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var qv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zv=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yA()?8:BH(He())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new qv;return this.bs(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Co()<=te.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(Co()<=te.DEBUG&&O("QueryEngine","Query:",Ao(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Co()<=te.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):P.resolve())}ws(e,n){if(oS(n))return P.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dv(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=oe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,a);return this.Cs(n,l,s,u.readTime)?this.ws(e,dv(n,null,"F")):this.Fs(e,l,n,u)}))})))}Ss(e,n,r,i){return oS(n)||i.isEqual(Y.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(Co()<=te.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(n)),this.Fs(e,s,n,FH(i,Pa)).next(a=>a))})}vs(e,n){let r=new ze(pN(e));return n.forEach((i,o)=>{ah(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,r){return Co()<=te.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.ys.getDocumentsMatchingQuery(e,n,Di.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var F_="LocalStore",j4=3e8,Gv=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ne(X),this.Os=new Jn(o=>P_(o),x_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xv(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function B4(t,e,n,r){return new Gv(t,e,n,r)}function kN(t,e){return _(this,null,function*(){let n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=oe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function U4(t,e){let n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(N=>{let R=l.docVersions.get(D);he(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ON(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function $4(t,e){let n=K(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(rt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=j4?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(o,y))});let u=Xn(),l=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(H4(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(Y.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function H4(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Xn();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):O(F_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function q4(t,e){let n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=A_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z4(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new La(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function Wv(t,e,n){return _(this,null,function*(){let r=K(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qo(s))throw s;O(F_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function vS(t,e,n){let r=K(t),i=Y.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=K(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:Y.min(),n?o:oe())).next(a=>(G4(r,o4(e),a),{documents:a,$s:o})))}function G4(t,e,n){let r=t.Ns.get(e)||Y.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var Ld=class{constructor(){this.activeTargetIds=d4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Kv=class{constructor(){this.xo=new Ld,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ld,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qv=class{No(e){}shutdown(){}};var _S="ConnectivityMonitor",jd=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){O(_S,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){O(_S,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yd=null;function Yv(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}var jy="RestConnection",W4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Zv=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ad?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=Yv(),a=this.jo(e,n.toUriEncodedString());O(jy,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=li(l);return this.Jo(e,a,u,r,h).then(p=>(O(jy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw xo(jy,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=W4[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var Jv=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var nt="WebChannelConnection",Xv=class extends Zv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=Yv();return new Promise((a,u)=>{let l=new xy;l.setWithCredentials(!0),l.listenOnce(ky.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ca.NO_ERROR:let p=l.getResponseJson();O(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ca.TIMEOUT:O(nt,`RPC '${e}' ${s} timed out`),u(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ca.HTTP_ERROR:let m=l.getStatus();if(O(nt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let N=function(k){let G=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(G)>=0?G:M.UNKNOWN}(D.status);u(new F(N,D.message))}else u(new F(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(M.UNAVAILABLE,"Connection failed."));break;default:U(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{O(nt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(nt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}T_(e,n,r){let i=Yv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vy(),a=Fy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(nt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,D=new Jv({Zo:R=>{y?O(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(O(nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(nt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,k,G)=>{R.listen(k,Z=>{try{G(Z)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(p,bo.EventType.OPEN,()=>{y||(O(nt,`RPC '${e}' stream ${i} transport opened.`),D.__())}),N(p,bo.EventType.CLOSE,()=>{y||(y=!0,O(nt,`RPC '${e}' stream ${i} transport closed`),D.u_())}),N(p,bo.EventType.ERROR,R=>{y||(y=!0,xo(nt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.u_(new F(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,bo.EventType.MESSAGE,R=>{var k;if(!y){let G=R.data[0];he(!!G,16349);let Z=G,ge=Z?.error||((k=Z[0])===null||k===void 0?void 0:k.error);if(ge){O(nt,`RPC '${e}' stream ${i} received error:`,ge);let it=ge.status,fe=function(I){let w=Ve[I];if(w!==void 0)return bN(w)}(it),T=ge.message;fe===void 0&&(fe=M.INTERNAL,T="Unknown error status: "+it+" with message "+ge.message),y=!0,D.u_(new F(fe,T)),p.close()}else O(nt,`RPC '${e}' stream ${i} received:`,G),D.c_(G)}}),N(a,Oy.STAT_EVENT,R=>{R.stat===pd.PROXY?O(nt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===pd.NOPROXY&&O(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}};function By(){return typeof document<"u"?document:null}function ch(t){return new Ev(t,!0)}var Bd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var ES="PersistentStream",Ud=class{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Bd(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return _(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return _(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,n){return _(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){let r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>_(this,null,function*(){this.state=0,this.start()}))}W_(e){return O(ES,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(O(ES,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},e_=class extends Ud{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let n=b4(this.serializer,e),r=function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?En(s.readTime):Y.min()}(e);return this.listener.j_(n,r)}H_(e){let n={};n.database=Tv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=uv(u)?{documents:S4(o,u)}:{query:N4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=CN(o,s.resumeToken);let l=Iv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Y.min())>0){a.readTime=kd(o,s.snapshotVersion.toTimestamp());let l=Iv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=M4(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){let n={};n.database=Tv(this.serializer),n.removeTarget=e,this.L_(n)}},t_=class extends Ud{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let n=A4(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.ea(r,n)}ta(){let e={};e.database=Tv(this.serializer),this.L_(e)}Z_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>C4(this.serializer,r))};this.L_(n)}};var n_=class{},r_=class extends n_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,wv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,wv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},i_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Qn(n),this.oa=!1):O("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Si="RemoteStore",o_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Ri(this)&&(O(Si,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=K(u);l.Ta.add(4),yield Qa(l),l.da.set("Unknown"),l.Ta.delete(4),yield uh(l)})}(this))}))}),this.da=new i_(r,i)}};function uh(t){return _(this,null,function*(){if(Ri(t))for(let e of t.Ia)yield e(!0)})}function Qa(t){return _(this,null,function*(){for(let e of t.Ia)yield e(!1)})}function FN(t,e){let n=K(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),B_(n)?j_(n):Yo(n).M_()&&L_(n,e))}function V_(t,e){let n=K(t),r=Yo(n);n.Pa.delete(e),r.M_()&&VN(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ri(n)&&n.da.set("Unknown"))}function L_(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).H_(e)}function VN(t,e){t.Aa.Ke(e),Yo(t).J_(e)}function j_(t){t.Aa=new _v({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.da._a()}function B_(t){return Ri(t)&&!Yo(t).F_()&&t.Pa.size>0}function Ri(t){return K(t).Ta.size===0}function LN(t){t.Aa=void 0}function K4(t){return _(this,null,function*(){t.da.set("Online")})}function Q4(t){return _(this,null,function*(){t.Pa.forEach((e,n)=>{L_(t,e)})})}function Y4(t,e){return _(this,null,function*(){LN(t),B_(t)?(t.da.ca(e),j_(t)):t.da.set("Unknown")})}function Z4(t,e,n){return _(this,null,function*(){if(t.da.set("Online"),e instanceof Pd&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(t,e)}catch(r){O(Si,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $d(t,r)}else if(e instanceof Mo?t.Aa.Xe(e):e instanceof Md?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Y.min()))try{let r=yield ON(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Pa.get(u);if(!h)return;o.Pa.set(u,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),VN(o,u);let p=new La(h.target,u,l,h.sequenceNumber);L_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O(Si,"Failed to raise snapshot:",r),yield $d(t,r)}})}function $d(t,e,n){return _(this,null,function*(){if(!Qo(e))throw e;t.Ta.add(1),yield Qa(t),t.da.set("Offline"),n||(n=()=>ON(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){O(Si,"Retrying IndexedDB access"),yield n(),t.Ta.delete(1),yield uh(t)}))})}function jN(t,e){return e().catch(n=>$d(t,n,e))}function lh(t){return _(this,null,function*(){let e=K(t),n=Ar(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:A_;for(;J4(e);)try{let i=yield q4(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,X4(e,i)}catch(i){yield $d(e,i)}BN(e)&&UN(e)})}function J4(t){return Ri(t)&&t.ha.length<10}function X4(t,e){t.ha.push(e);let n=Ar(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function BN(t){return Ri(t)&&!Ar(t).F_()&&t.ha.length>0}function UN(t){Ar(t).start()}function eq(t){return _(this,null,function*(){Ar(t).ta()})}function tq(t){return _(this,null,function*(){let e=Ar(t);for(let n of t.ha)e.Z_(n.mutations)})}function nq(t,e,n){return _(this,null,function*(){let r=t.ha.shift(),i=gv.from(r,e,n);yield jN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield lh(t)})}function rq(t,e){return _(this,null,function*(){e&&Ar(t).Y_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return v4(s)&&s!==M.ABORTED}(i.code)){let o=r.ha.shift();Ar(r).O_(),yield jN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lh(r)}})}(t,e)),BN(t)&&UN(t)})}function IS(t,e){return _(this,null,function*(){let n=K(t);n.asyncQueue.verifyOperationInProgress(),O(Si,"RemoteStore received new credentials");let r=Ri(n);n.Ta.add(3),yield Qa(n),r&&n.da.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),yield uh(n)})}function iq(t,e){return _(this,null,function*(){let n=K(t);e?(n.Ta.delete(2),yield uh(n)):e||(n.Ta.add(2),yield Qa(n),n.da.set("Unknown"))})}function Yo(t){return t.Ra||(t.Ra=function(n,r,i){let o=K(n);return o.ra(),new e_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:K4.bind(null,t),n_:Q4.bind(null,t),i_:Y4.bind(null,t),j_:Z4.bind(null,t)}),t.Ia.push(e=>_(this,null,function*(){e?(t.Ra.O_(),B_(t)?j_(t):t.da.set("Unknown")):(yield t.Ra.stop(),LN(t))}))),t.Ra}function Ar(t){return t.Va||(t.Va=function(n,r,i){let o=K(n);return o.ra(),new t_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:eq.bind(null,t),i_:rq.bind(null,t),X_:tq.bind(null,t),ea:nq.bind(null,t)}),t.Ia.push(e=>_(this,null,function*(){e?(t.Va.O_(),yield lh(t)):(yield t.Va.stop(),t.ha.length>0&&(O(Si,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))}))),t.Va}var s_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function U_(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Qo(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Hd=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var qd=class{constructor(){this.ma=new Ne(B.comparator)}track(e){let n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):U(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){let e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}},qo=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Hd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var a_=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},c_=class{constructor(){this.queries=wS(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){let i=K(n),o=i.queries;i.queries=wS(),o.forEach((s,a)=>{for(let u of a.ya)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function wS(){return new Jn(t=>fN(t),sh)}function $_(t,e){return _(this,null,function*(){let n=K(t),r=3,i=e.query,o=n.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new a_,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield n.onListen(i,!0);break;case 1:o.pa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=U_(s,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&q_(n)})}function H_(t,e){return _(this,null,function*(){let n=K(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function oq(t,e){let n=K(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&q_(n)}function sq(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(n);r.queries.delete(e)}function q_(t){t.ba.forEach(e=>{e.next()})}var u_,DS;(DS=u_||(u_={})).Ca="default",DS.Cache="cache";var Ua=class{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;let r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==u_.Cache}};var zd=class{constructor(e){this.key=e}},Gd=class{constructor(e){this.key=e}},l_=class{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=oe(),this.mutatedKeys=oe(),this.Ha=pN(e),this.Ja=new Hd(this.Ha)}get Ya(){return this.Ga}Za(e,n){let r=n?n.Xa:new qd,i=n?n.Ja:this.Ja,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ah(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?D!==N&&(r.track({type:3,doc:y}),R=!0):this.eu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Ha(y,u)>0||l&&this.Ha(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(y,D){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{Vt:R})}};return N(y)-N(D)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=n&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,l=u!==this.za;return this.za=u,s.length!==0||l?{snapshot:new qo(this.query,e.Ja,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new qd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=oe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Gd(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new zd(r))}),n}su(e){this.Ga=e.$s,this.ja=oe();let n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return qo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},z_="SyncEngine",d_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},h_=class{constructor(e){this.key=e,this._u=!1}},f_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Jn(a=>fN(a),sh),this.cu=new Map,this.lu=new Set,this.hu=new Ne(B.comparator),this.Pu=new Map,this.Tu=new Ba,this.Iu={},this.Eu=new Map,this.du=ja.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function aq(t,e,n=!0){return _(this,null,function*(){let r=WN(t),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield $N(r,e,n,!0),i})}function cq(t,e){return _(this,null,function*(){let n=WN(t);yield $N(n,e,!0,!1)})}function $N(t,e,n,r){return _(this,null,function*(){let i=yield z4(t.localStore,_n(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield uq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&FN(t.remoteStore,i),a})}function uq(t,e,n,r,i){return _(this,null,function*(){t.Ru=(p,m,y)=>function(N,R,k,G){return _(this,null,function*(){let Z=R.view.Za(k);Z.Cs&&(Z=yield vS(N.localStore,R.query,!1).then(({documents:T})=>R.view.Za(T,Z)));let ge=G&&G.targetChanges.get(R.targetId),it=G&&G.targetMismatches.get(R.targetId)!=null,fe=R.view.applyChanges(Z,N.isPrimaryClient,ge,it);return bS(N,R.targetId,fe.ru),fe.snapshot})}(t,p,m,y);let o=yield vS(t.localStore,e,!0),s=new l_(e,o.$s),a=s.Za(o.documents),u=Va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);bS(t,n,l.ru);let h=new d_(e,n,s);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),l.snapshot})}function lq(t,e,n){return _(this,null,function*(){let r=K(t),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!sh(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&V_(r.remoteStore,i.targetId),p_(r,i.targetId)}).catch(Ko))):(p_(r,i.targetId),yield Wv(r.localStore,i.targetId,!0))})}function dq(t,e){return _(this,null,function*(){let n=K(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),V_(n.remoteStore,r.targetId))})}function hq(t,e,n){return _(this,null,function*(){let r=_q(t);try{let i=yield function(s,a){let u=K(s),l=Qe.now(),h=a.reduce((y,D)=>y.add(D.key),oe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=Xn(),N=oe();return u.Bs.getEntries(y,h).next(R=>{D=R,D.forEach((k,G)=>{G.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(R=>{p=R;let k=[];for(let G of a){let Z=y4(G,p.get(G.key).overlayedDocument);Z!=null&&k.push(new wn(G.key,Z,sN(Z.value.mapValue),Kn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:mN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Iu[s.currentUser.toKey()];l||(l=new Ne(X)),l=l.insert(a,u),s.Iu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ya(r,i.changes),yield lh(r.remoteStore)}catch(i){let o=U_(i,"Failed to persist write");n.reject(o)}})}function HN(t,e){return _(this,null,function*(){let n=K(t);try{let r=yield $4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Pu.get(o);s&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?he(s._u,14607):i.removedDocuments.size>0&&(he(s._u,42227),s._u=!1))}),yield Ya(n,r,e)}catch(r){yield Ko(r)}})}function TS(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=K(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.ya)m.Da(a)&&(l=!0)}),l&&q_(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fq(t,e,n){return _(this,null,function*(){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new Ne(B.comparator);s=s.insert(o,sn.newNoDocument(o,Y.min()));let a=oe().add(o),u=new Rd(Y.min(),new Map,new Ne(X),s,a);yield HN(r,u),r.hu=r.hu.remove(o),r.Pu.delete(e),G_(r)}else yield Wv(r.localStore,e,!1).then(()=>p_(r,e,n)).catch(Ko)})}function pq(t,e){return _(this,null,function*(){let n=K(t),r=e.batch.batchId;try{let i=yield U4(n.localStore,e);zN(n,r,null),qN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ya(n,i)}catch(i){yield Ko(i)}})}function gq(t,e,n){return _(this,null,function*(){let r=K(t);try{let i=yield function(s,a){let u=K(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(he(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);zN(r,e,n),qN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ya(r,i)}catch(i){yield Ko(i)}})}function qN(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function zN(t,e,n){let r=K(t),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function p_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||GN(t,r)})}function GN(t,e){t.lu.delete(e.path.canonicalString());let n=t.hu.get(e);n!==null&&(V_(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),G_(t))}function bS(t,e,n){for(let r of n)r instanceof zd?(t.Tu.addReference(r.key,e),mq(t,r)):r instanceof Gd?(O(z_,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||GN(t,r.key)):U(19791,{mu:r})}function mq(t,e){let n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(O(z_,"New document in limbo: "+n),t.lu.add(r),G_(t))}function G_(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){let e=t.lu.values().next().value;t.lu.delete(e);let n=new B(be.fromString(e)),r=t.du.next();t.Pu.set(r,new h_(n)),t.hu=t.hu.insert(n,r),FN(t.remoteStore,new La(_n(oh(n.path)),r,"TargetPurposeLimboResolution",C_.le))}}function Ya(t,e,n){return _(this,null,function*(){let r=K(t),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{s.push(r.Ru(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Hv.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(u,l){return _(this,null,function*(){let h=K(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Qo(p))throw p;O(F_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),D=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(D);h.xs=h.xs.insert(m,N)}}})}(r.localStore,o))})}function yq(t,e){return _(this,null,function*(){let n=K(t);if(!n.currentUser.isEqual(e)){O(z_,"User change. New user:",e.toKey());let r=yield kN(n.localStore,e);n.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,s))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ya(n,r.ks)}})}function vq(t,e){let n=K(t),r=n.Pu.get(e);if(r&&r._u)return oe().add(r.key);{let i=oe(),o=n.cu.get(e);if(!o)return i;for(let s of o){let a=n.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function WN(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fq.bind(null,e),e.au.j_=oq.bind(null,e.eventManager),e.au.Vu=sq.bind(null,e.eventManager),e}function _q(t){let e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gq.bind(null,e),e}var KN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=ch(n.databaseInfo.databaseId),this.sharedClientState=this.pu(n),this.persistence=this.yu(n),yield this.persistence.start(),this.localStore=this.wu(n),this.gcScheduler=this.Su(n,this.localStore),this.indexBackfillerScheduler=this.bu(n,this.localStore)})}Su(n,r){return null}bu(n,r){return null}wu(n){return B4(this.persistence,new zv,n.initialUser,this.serializer)}yu(n){return new Fd($v.fi,this.serializer)}pu(n){return new Kv}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),g_=class extends KN{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){he(this.persistence.referenceDelegate instanceof Vd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Nv(r,e.asyncQueue,n)}yu(e){let n=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new Fd(r=>Vd.fi(r,n),this.serializer)}};var Eq=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>TS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yq.bind(null,this.syncEngine),yield iq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new c_}()}createDatastore(n){let r=ch(n.databaseInfo.databaseId),i=function(s){return new Xv(s)}(n.databaseInfo);return function(s,a,u,l){return new r_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new o_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>TS(this.syncEngine,r,0),function(){return jd.C()?new jd:new Qv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new f_(o,s,a,u,l,h);return p&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=K(o);O(Si,"RemoteStore shutting down."),s.Ta.add(5),yield Qa(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var $a=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Sr="FirestoreClient",m_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){O(Sr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Sr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=U_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Uy(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Sr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield kN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function CS(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Iq(t);O(Sr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IS(e.remoteStore,i)),t._onlineComponents=e})}function Iq(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Sr,"Using user provided OfflineComponentProvider");try{yield Uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),yield Uy(t,new KN)}}else O(Sr,"Using default OfflineComponentProvider"),yield Uy(t,new g_(void 0));return t._offlineComponents})}function QN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Sr,"Using user provided OnlineComponentProvider"),yield CS(t,t._uninitializedComponentsProvider._online)):(O(Sr,"Using default OnlineComponentProvider"),yield CS(t,new Eq))),t._onlineComponents})}function wq(t){return QN(t).then(e=>e.syncEngine)}function Wd(t){return _(this,null,function*(){let e=yield QN(t),n=e.eventManager;return n.onListen=aq.bind(null,e.syncEngine),n.onUnlisten=lq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dq.bind(null,e.syncEngine),n})}function Dq(t,e,n={}){let r=new on;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new $a({next:m=>{h.Cu(),s.enqueueAndForget(()=>H_(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ua(oh(a.path),h,{includeMetadataChanges:!0,La:!0});return $_(o,p)}(yield Wd(t),t.asyncQueue,e,n,r)})),r.promise}function Tq(t,e,n={}){let r=new on;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new $a({next:m=>{h.Cu(),s.enqueueAndForget(()=>H_(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ua(a,h,{includeMetadataChanges:!0,La:!0});return $_(o,p)}(yield Wd(t),t.asyncQueue,e,n,r)})),r.promise}function YN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var AS=new Map;function ZN(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bq(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SS(t){if(!B.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NS(t){if(B.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U(12329,{type:typeof t})}function jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=dh(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var JN="firestore.googleapis.com",RS=!0,Kd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JN,this.ssl=RS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V4)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},zo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $y;switch(r.type){case"firstParty":return new Gy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=AS.get(n);r&&(O("ComponentProvider","Removing Datastore"),AS.delete(n),r.terminate())}(this),Promise.resolve()}};function XN(t,e,n,r={}){var i;t=jt(t,zo);let o=li(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Bl(`https://${u}`),Ul("Firestore",!0)),s.host!==JN&&s.host!==u&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!fn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=qe.MOCK_USER;else{h=dA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qe(m)}t._authCredentials=new Hy(new Id(h,p))}}var Ni=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},br=class t extends Ni{constructor(e,n,r){super(e,n,oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function eR(t,e,...n){if(t=Ae(t),ZN("collection","path",e),t instanceof zo){let r=be.fromString(e,...n);return NS(r),new br(t,null,r)}{if(!(t instanceof dt||t instanceof br))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return NS(r),new br(t.firestore,null,r)}}function W_(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=Dd.newId()),ZN("doc","path",e),t instanceof zo){let r=be.fromString(e,...n);return SS(r),new dt(t,null,new B(r))}{if(!(t instanceof dt||t instanceof br))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return SS(r),new dt(t.firestore,t instanceof br?t.converter:null,new B(r))}}var MS="AsyncQueue",Qd=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Bd(this,"async_queue_retry"),this.ec=()=>{let r=By();r&&O(MS,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let n=By();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let n=By();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let n=new on;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return _(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Qo(e))throw e;O(MS,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Qn("INTERNAL UNHANDLED ERROR: ",PS(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);let i=s_.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&U(47125,{_c:PS(this.Ju)})}verifyOperationInProgress(){}ac(){return _(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let n=this.Hu.indexOf(e);this.Hu.splice(n,1)}};function PS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function xS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Dn=class extends zo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qd(e),this._firestoreClient=void 0,yield e}})}};function tR(t,e){let n=typeof t=="object"?t:hi(),r=typeof t=="string"?t:e||Ad,i=Eo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lA("firestore");o&&XN(i,...o)}return i}function hh(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cq(t),t._firestoreClient}function Cq(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Zy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new m_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ha=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Go=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qa=class{constructor(e){this._methodName=e}};var za=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}};var Ga=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Aq=/^__.*__$/,y_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}},Yd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function nR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{hc:t})}}var v_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Jd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(nR(this.hc)&&Aq.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},__=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}gc(e,n,r,i=!1){return new v_({hc:e,methodName:n,fc:r,path:Nt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function K_(t){let e=t._freezeSettings(),n=ch(t._databaseId);return new __(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sq(t,e,n,r,i,o={}){let s=t.gc(o.merge||o.mergeFields?2:0,e,n,i);Q_("Data must be an object, but it was:",s,r);let a=rR(r,s),u,l;if(o.merge)u=new Lt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=E_(e,p,n);if(!s.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oR(h,m)||h.push(m)}u=new Lt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new y_(new St(a),u,l)}var Zd=class t extends qa{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Nq(t,e,n,r){let i=t.gc(1,e,n);Q_("Data must be an object, but it was:",i,r);let o=[],s=St.empty();Nr(r,(u,l)=>{let h=Y_(e,u,n);l=Ae(l);let p=i.Ac(h);if(l instanceof Zd)o.push(h);else{let m=Za(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Lt(o);return new Yd(s,a,i.fieldTransforms)}function Rq(t,e,n,r,i,o){let s=t.gc(1,e,n),a=[E_(e,r,n)],u=[i];if(o.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(E_(e,o[m])),u.push(o[m+1]);let l=[],h=St.empty();for(let m=a.length-1;m>=0;--m)if(!oR(l,a[m])){let y=a[m],D=u[m];D=Ae(D);let N=s.Ac(y);if(D instanceof Zd)l.push(y);else{let R=Za(D,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Lt(l);return new Yd(h,p,s.fieldTransforms)}function Mq(t,e,n,r=!1){return Za(n,t.gc(r?4:3,e))}function Za(t,e){if(iR(t=Ae(t)))return Q_("Unsupported field value:",e,t),rR(t,e);if(t instanceof qa)return function(r,i){if(!nR(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Za(a,i.Rc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:kd(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(i.serializer,o)}}if(r instanceof za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:CN(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ga)return function(s,a){return{mapValue:{fields:{[N_]:{stringValue:R_},[Oo]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return k_(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${dh(r)}`)}(t,e)}function rR(t,e){let n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,(r,i)=>{let o=Za(i,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof za||t instanceof Ha||t instanceof dt||t instanceof qa||t instanceof Ga)}function Q_(t,e,n){if(!iR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=dh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function E_(t,e,n){if((e=Ae(e))instanceof Go)return e._internalPath;if(typeof e=="string")return Y_(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}var Pq=new RegExp("[~\\*/\\[\\]]");function Y_(t,e,n){if(e.search(Pq)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Go(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function oR(t,e){return t.some(n=>n.isEqual(e))}var Xd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new I_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Z_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},I_=class extends Xd{data(){return super.data()}};function Z_(t,e){return typeof e=="string"?Y_(t,e):e instanceof Go?e._internalPath:e._delegate._internalPath}function sR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wa=class{},w_=class extends Wa{};function aR(t,e,...n){let r=[];e instanceof Wa&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof D_).length,a=o.filter(u=>u instanceof eh).length;if(s>1||s>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var eh=class t extends w_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return uR(e._query,n),new Ni(e.firestore,e.converter,lv(e._query,n))}_parse(e){let n=K_(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){OS(p,h);let D=[];for(let N of p)D.push(kS(u,o,N));m={arrayValue:{values:D}}}else m=kS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||OS(p,h),m=Mq(a,s,p,h==="in"||h==="not-in");return je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cR(t,e,n){let r=e,i=Z_("where",t);return eh._create(i,r,n)}var D_=class t extends Wa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)uR(s,u),s=lv(s,u)}(e._query,n),new Ni(e.firestore,e.converter,lv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function kS(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hN(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(be.fromString(n));if(!B.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X0(t,new B(r))}if(n instanceof dt)return X0(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function OS(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uR(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var T_=class{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Nr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Oo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>De(s.doubleValue));return new Ga(o)}convertGeoPoint(e){return new za(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ka(e));default:return null}}convertTimestamp(e){let n=Yn(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=be.fromString(e);he(PN(r),9688,{name:e});let i=new Sd(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function xq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ii=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},th=class extends Xd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Z_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Po=class extends th{data(e={}){return super.data(e)}},nh=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ii(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Po(this._firestore,this._userDataWriter,r.key,r,new Ii(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Po(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Po(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:kq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function kq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U(61501,{type:t})}}function lR(t){t=jt(t,dt);let e=jt(t.firestore,Dn);return Dq(hh(e),t._key).then(n=>gR(e,t,n))}var Ka=class extends T_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};function dR(t){t=jt(t,Ni);let e=jt(t.firestore,Dn),n=hh(e),r=new Ka(e);return sR(t._query),Tq(n,t._query).then(i=>new nh(e,r,t,i))}function hR(t,e,n,...r){t=jt(t,dt);let i=jt(t.firestore,Dn),o=K_(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof Go?Rq(o,"updateDoc",t._key,e,n,r):Nq(o,"updateDoc",t._key,e),X_(i,[s.toMutation(t._key,Kn.exists(!0))])}function fR(t){return X_(jt(t.firestore,Dn),[new Fa(t._key,Kn.none())])}function pR(t,e){let n=jt(t.firestore,Dn),r=W_(t),i=xq(t.converter,e);return X_(n,[Sq(K_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function J_(t,...e){var n,r,i;t=Ae(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof dt)l=jt(t.firestore,Dn),h=oh(t._key.path),u={next:p=>{e[s]&&e[s](gR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=jt(t,Ni);l=jt(p.firestore,Dn),h=p._query;let m=new Ka(l);u={next:y=>{e[s]&&e[s](new nh(l,m,p,y))},error:e[s+1],complete:e[s+2]},sR(t._query)}return function(m,y,D,N){let R=new $a(N),k=new Ua(y,R,D);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return $_(yield Wd(m),k)})),()=>{R.Cu(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return H_(yield Wd(m),k)}))}}(hh(l),h,a,u)}function X_(t,e){return function(r,i){let o=new on;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return hq(yield wq(r),i,o)})),o.promise}(hh(t),e)}function gR(t,e,n){let r=n.docs.get(e._key),i=new Ka(t);return new th(t,i,e._key,r,new Ii(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Wo=i})(mr),nn(new lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Dn(new qy(r.getProvider("auth-internal")),new Wy(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Se(H0,q0,e),Se(H0,q0,"esm2017")})();var fh=function(){return fh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fh.apply(this,arguments)};var Vq={includeMetadataChanges:!1};function eE(t,e){return e===void 0&&(e=Vq),new ee(function(n){var r=J_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function mR(t){return eE(t,{includeMetadataChanges:!0})}function yR(t,e){return e===void 0&&(e={}),mR(t).pipe(ft(function(n){return tE(n,e)}))}function tE(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:fh(fh({},r),(n={},n[e.idField]=t.id,n))}function vR(t){return eE(t,{includeMetadataChanges:!0}).pipe(ft(function(e){return e.docs}))}function _R(t,e){return e===void 0&&(e={}),vR(t).pipe(ft(function(n){return n.map(function(r){return tE(r,e)})}))}var Ja=class{constructor(e){return e}},ER="firestore",nE=class{constructor(){return wo(ER)}};var rE=new L("angularfire2.firestore-instances");function Lq(t,e){let n=ha(ER,t,e);return n&&new Ja(n)}function jq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ja(r)}}var Bq={provide:nE,deps:[[new Tt,rE]]},Uq={provide:Ja,useFactory:Lq,deps:[[new Tt,rE],Hn]};function AJ(t,...e){return Se("angularfire",yr.full,"fst"),Fn([Uq,Bq,{provide:rE,useFactory:jq(t),multi:!0,deps:[Te,et,vr,pi,[new Tt,ba],[new Tt,Do],...e]}])}var SJ=xe(_R,!0);var NJ=xe(yR,!0);var RJ=xe(pR,!0,2);var MJ=xe(eR,!0,2);var PJ=xe(fR,!0,2);var xJ=xe(W_,!0,2);var kJ=xe(lR,!0);var OJ=xe(dR,!0);var FJ=xe(tR,!0);var VJ=xe(aR,!0,2);var LJ=xe(hR,!0,2);var jJ=xe(cR,!0,2);var MR=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(q(pr),q(kt))};static \u0275dir=Me({type:t})}return t})(),uE=(()=>{class t extends MR{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ws(t)))(i||t)}})();static \u0275dir=Me({type:t,features:[bt]})}return t})(),oc=new L("");var $q={provide:oc,useExisting:Qt(()=>PR),multi:!0};function Hq(){let t=ci()?ci().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qq=new L(""),PR=(()=>{class t extends MR{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Hq())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(q(pr),q(kt),q(qq,8))};static \u0275dir=Me({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&si("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[jn([$q]),bt]})}return t})();function lE(t){return t==null||dE(t)===0}function dE(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var sc=new L(""),Dh=new L(""),zq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,IR=class{static min(e){return Gq(e)}static max(e){return Wq(e)}static required(e){return xR(e)}static requiredTrue(e){return Kq(e)}static email(e){return Qq(e)}static minLength(e){return Yq(e)}static maxLength(e){return Zq(e)}static pattern(e){return Jq(e)}static nullValidator(e){return gh()}static compose(e){return jR(e)}static composeAsync(e){return BR(e)}};function Gq(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Wq(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function xR(t){return lE(t.value)?{required:!0}:null}function Kq(t){return t.value===!0?null:{required:!0}}function Qq(t){return lE(t.value)||zq.test(t.value)?null:{email:!0}}function Yq(t){return e=>{let n=e.value?.length??dE(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function Zq(t){return e=>{let n=e.value?.length??dE(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function Jq(t){if(!t)return gh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(lE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function gh(t){return null}function kR(t){return t!=null}function OR(t){return Xs(t)?$t(t):t}function FR(t){let e={};return t.forEach(n=>{e=n!=null?ye(ye({},e),n):e}),Object.keys(e).length===0?null:e}function VR(t,e){return e.map(n=>n(t))}function Xq(t){return!t.validate}function LR(t){return t.map(e=>Xq(e)?e:n=>e.validate(n))}function jR(t){if(!t)return null;let e=t.filter(kR);return e.length==0?null:function(n){return FR(VR(n,e))}}function hE(t){return t!=null?jR(LR(t)):null}function BR(t){if(!t)return null;let e=t.filter(kR);return e.length==0?null:function(n){let r=VR(n,e).map(OR);return Mf(r).pipe(ft(FR))}}function fE(t){return t!=null?BR(LR(t)):null}function wR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function UR(t){return t._rawValidators}function $R(t){return t._rawAsyncValidators}function iE(t){return t?Array.isArray(t)?t:[t]:[]}function mh(t,e){return Array.isArray(t)?t.includes(e):t===e}function DR(t,e){let n=iE(e);return iE(t).forEach(i=>{mh(n,i)||n.push(i)}),n}function TR(t,e){return iE(e).filter(n=>!mh(t,n))}var yh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},er=class extends yh{name;get formDirective(){return null}get path(){return null}},Mi=class extends yh{_parent=null;name=null;valueAccessor=null},vh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},e6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rX=we(ye({},e6),{"[class.ng-submitted]":"isSubmitted"}),iX=(()=>{class t extends vh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(Mi,2))};static \u0275dir=Me({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[bt]})}return t})(),oX=(()=>{class t extends vh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(er,10))};static \u0275dir=Me({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&wl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[bt]})}return t})();var Xa="VALID",ph="INVALID",Zo="PENDING",ec="DISABLED",Rr=class{},_h=class extends Rr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},nc=class extends Rr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},rc=class extends Rr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Jo=class extends Rr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},oE=class extends Rr{source;constructor(e){super(),this.source=e}},sE=class extends Rr{source;constructor(e){super(),this.source=e}};function pE(t){return(Th(t)?t.validators:t)||null}function t6(t){return Array.isArray(t)?hE(t):t||null}function gE(t,e){return(Th(e)?e.asyncValidators:t)||null}function n6(t){return Array.isArray(t)?fE(t):t||null}function Th(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function HR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function qR(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var Xo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jt(this.statusReactive)}set status(e){Jt(()=>this.statusReactive.set(e))}_status=ai(()=>this.statusReactive());statusReactive=oi(void 0);get valid(){return this.status===Xa}get invalid(){return this.status===ph}get pending(){return this.status==Zo}get disabled(){return this.status===ec}get enabled(){return this.status!==ec}errors;get pristine(){return Jt(this.pristineReactive)}set pristine(e){Jt(()=>this.pristineReactive.set(e))}_pristine=ai(()=>this.pristineReactive());pristineReactive=oi(!0);get dirty(){return!this.pristine}get touched(){return Jt(this.touchedReactive)}set touched(e){Jt(()=>this.touchedReactive.set(e))}_touched=ai(()=>this.touchedReactive());touchedReactive=oi(!1);get untouched(){return!this.touched}_events=new Mt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TR(e,this._rawAsyncValidators))}hasValidator(e){return mh(this._rawValidators,e)}hasAsyncValidator(e){return mh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(we(ye({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new rc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(we(ye({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new nc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new nc(!0,r))}markAsPending(e={}){this.status=Zo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(we(ye({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ec,this.errors=null,this._forEachChild(i=>{i.disable(we(ye({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _h(this.value,r)),this._events.next(new Jo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(ye({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this._forEachChild(r=>{r.enable(we(ye({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(we(ye({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xa||this.status===Zo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _h(this.value,n)),this._events.next(new Jo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(we(ye({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ec:Xa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Zo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=OR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Jo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?ec:this.errors?ph:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zo)?Zo:this._anyControlsHaveStatus(ph)?ph:Xa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new nc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new rc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Th(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=t6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=n6(this._rawAsyncValidators)}},es=class extends Xo{constructor(e,n,r){super(pE(n),gE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){qR(this,!0,e),Object.keys(e).forEach(r=>{HR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var aE=class extends es{};var ac=new L("",{providedIn:"root",factory:()=>bh}),bh="always";function zR(t,e){return[...e.path,t]}function Eh(t,e,n=bh){mE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),i6(t,e),s6(t,e),o6(t,e),r6(t,e)}function bR(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),wh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ih(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function r6(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function mE(t,e){let n=UR(t);e.validator!==null?t.setValidators(wR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=$R(t);e.asyncValidator!==null?t.setAsyncValidators(wR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ih(e._rawValidators,i),Ih(e._rawAsyncValidators,i)}function wh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=UR(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=$R(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ih(e._rawValidators,r),Ih(e._rawAsyncValidators,r),n}function i6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&GR(t,e)})}function o6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&GR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function GR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function s6(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function WR(t,e){t==null,mE(t,e)}function a6(t,e){return wh(t,e)}function KR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function c6(t){return Object.getPrototypeOf(t.constructor)===uE}function QR(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===PR?n=o:c6(o)?r=o:i=o}),i||r||n||null}function u6(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var l6={provide:er,useExisting:Qt(()=>d6)},tc=Promise.resolve(),d6=(()=>{class t extends er{callSetDisabledState;get submitted(){return Jt(this.submittedReactive)}_submitted=ai(()=>this.submittedReactive());submittedReactive=oi(!1);_directives=new Set;form;ngSubmit=new ct;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new es({},hE(n),fE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){tc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Eh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){tc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){tc.then(()=>{let r=this._findContainer(n.path),i=new es({});WR(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){tc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){tc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),QR(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(q(sc,10),q(Dh,10),q(ac,8))};static \u0275dir=Me({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&si("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jn([l6]),bt]})}return t})();function CR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ic=class extends Xo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(pE(n),gE(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Th(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var h6=t=>t instanceof ic;var f6={provide:Mi,useExisting:Qt(()=>p6)},SR=Promise.resolve(),p6=(()=>{class t extends Mi{_changeDetectorRef;callSetDisabledState;control=new ic;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ct;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YR(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),KR(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Eh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){SR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&bl(r);SR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?zR(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(q(er,9),q(sc,10),q(Dh,10),q(oc,10),q(Tl,8),q(ac,8))};static \u0275dir=Me({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jn([f6]),bt,lo]})}return t})();var aX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Me({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var ZR=new L("");var g6={provide:er,useExisting:Qt(()=>m6)},m6=(()=>{class t extends er{callSetDisabledState;get submitted(){return Jt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=ai(()=>this._submittedReactive());_submittedReactive=oi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ct;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Eh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){bR(n.control||null,n,!1),u6(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),QR(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new oE(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new sE(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(bR(r||null,n),h6(i)&&(Eh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);WR(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&a6(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mE(this.form,this),this._oldForm&&wh(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(q(sc,10),q(Dh,10),q(ac,8))};static \u0275dir=Me({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&si("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jn([g6]),bt,lo]})}return t})();var y6={provide:Mi,useExisting:Qt(()=>v6)},v6=(()=>{class t extends Mi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new ct;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YR(this,o)}ngOnChanges(n){this._added||this._setUpControl(),KR(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return zR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(q(er,13),q(sc,10),q(Dh,10),q(oc,10),q(ZR,8))};static \u0275dir=Me({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[jn([y6]),bt,lo]})}return t})();var _6={provide:oc,useExisting:Qt(()=>XR),multi:!0};function JR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function E6(t){return t.split(":")[0]}var XR=(()=>{class t extends uE{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=JR(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=E6(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ws(t)))(i||t)}})();static \u0275dir=Me({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&si("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jn([_6]),bt]})}return t})(),cX=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(JR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(q(kt),q(pr),q(XR,9))};static \u0275dir=Me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),I6={provide:oc,useExisting:Qt(()=>eM),multi:!0};function NR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function w6(t){return t.split(":")[0]}var eM=(()=>{class t extends uE{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=w6(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ws(t)))(i||t)}})();static \u0275dir=Me({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&si("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jn([I6]),bt]})}return t})(),uX=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(NR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(NR(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(q(kt),q(pr),q(eM,9))};static \u0275dir=Me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var D6=(()=>{class t{_validator=gh;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Me({type:t,features:[lo]})}return t})();var T6={provide:sc,useExisting:Qt(()=>b6),multi:!0};var b6=(()=>{class t extends D6{required;inputName="required";normalizeInput=bl;createValidator=n=>xR;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ws(t)))(i||t)}})();static \u0275dir=Me({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&sm("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jn([T6]),bt]})}return t})();var tM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mo({type:t});static \u0275inj=so({})}return t})(),cE=class extends Xo{constructor(e,n,r){super(pE(n),gE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){qR(this,!1,e),e.forEach((r,i)=>{HR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var lX=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return RR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new es(i,o)}record(n,r=null){let i=this._reduceControls(n);return new aE(i,r)}control(n,r,i){let o={};return this.useNonNullable?(RR(r)?o=r:(o.validators=r,o.asyncValidators=i),new ic(n,we(ye({},o),{nonNullable:!0}))):new ic(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new cE(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof ic)return n;if(n instanceof Xo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ac,useValue:n.callSetDisabledState??bh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=mo({type:t});static \u0275inj=so({imports:[tM]})}return t})(),hX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ZR,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ac,useValue:n.callSetDisabledState??bh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=mo({type:t});static \u0275inj=so({imports:[tM]})}return t})();export{ke as a,NI as b,Tf as c,bf as d,Mt as e,Cs as f,Ss as g,$t as h,nP as i,rP as j,iP as k,jr as l,ft as m,hP as n,Br as o,Rf as p,eu as q,pP as r,qi as s,KI as t,gP as u,Ns as v,Pf as w,yP as x,vP as y,xf as z,_P as A,YI as B,ZI as C,EP as D,IP as E,wP as F,z as G,ue as H,so as I,n5 as J,L as K,ie as L,We as M,V as N,Tt as O,Fn as P,BD as Q,Wt as R,ao as S,lo as T,r5 as U,i5 as V,Ws as W,bk as X,et as Y,ol as Z,ii as _,ct as $,Te as aa,Jr as ba,o5 as ca,kt as da,s5 as ea,Lu as fa,Kk as ga,xg as ha,a5 as ia,cl as ja,ul as ka,fo as la,KT as ma,js as na,Zs as oa,ib as pa,c5 as qa,u5 as ra,l5 as sa,d5 as ta,h5 as ua,ob as va,f5 as wa,Lg as xa,c1 as ya,p5 as za,g5 as Aa,Uu as Ba,zu as Ca,pr as Da,q as Ea,I5 as Fa,go as Ga,AV as Ha,tC as Ia,b5 as Ja,mo as Ka,Me as La,im as Ma,zV as Na,C5 as Oa,Xs as Pa,A5 as Qa,om as Ra,On as Sa,sm as Ta,CL as Ua,wl as Va,S5 as Wa,N5 as Xa,EC as Ya,IC as Za,FL as _a,R5 as $a,si as ab,M5 as bb,P5 as cb,x5 as db,k5 as eb,O5 as fb,F5 as gb,JL as hb,CC as ib,e2 as jb,V5 as kb,t2 as lb,L5 as mb,j5 as nb,B5 as ob,U5 as pb,$5 as qb,H5 as rb,Tl as sb,q5 as tb,z5 as ub,G5 as vb,bl as wb,W5 as xb,ea as yb,ci as zb,N2 as Ab,um as Bb,R2 as Cb,yo as Db,LC as Eb,jC as Fb,k2 as Gb,W2 as Hb,tA as Ib,K2 as Jb,Y2 as Kb,J2 as Lb,X2 as Mb,ej as Nb,tj as Ob,nj as Pb,pm as Qb,vK as Rb,lA as Sb,li as Tb,Bl as Ub,dA as Vb,Ul as Wb,Ct as Xb,Ae as Yb,lt as Zb,nn as _b,Eo as $b,At as ac,mr as bc,hi as cc,Se as dc,yr as ec,ha as fc,wo as gc,vr as hc,xe as ic,Hn as jc,pi as kc,TQ as lc,bQ as mc,Do as nc,Ta as oc,ba as pc,HY as qc,qY as rc,zY as sc,GY as tc,WY as uc,Qe as vc,Ja as wc,AJ as xc,SJ as yc,NJ as zc,RJ as Ac,MJ as Bc,PJ as Cc,xJ as Dc,kJ as Ec,OJ as Fc,FJ as Gc,VJ as Hc,LJ as Ic,jJ as Jc,PR as Kc,IR as Lc,iX as Mc,oX as Nc,d6 as Oc,p6 as Pc,aX as Qc,m6 as Rc,v6 as Sc,XR as Tc,cX as Uc,uX as Vc,b6 as Wc,lX as Xc,dX as Yc,hX as Zc};
